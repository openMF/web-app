<p>Please update your password:</p>
<mat-divider></mat-divider>
<form fxLayout="column" [formGroup]="resetPasswordForm" (ngSubmit)="resetPassword()">
  <mat-form-field fxFlexAlign="center" class="textfield">
    <span matPrefix><mat-icon>lock</mat-icon>&nbsp;&nbsp;</span>
    <input type="{{ passwordInputType }}" matInput placeholder="Password" formControlName="password">
    <button mat-button *ngIf="resetPasswordForm.controls.password.value && !loading" matSuffix mat-icon-button
    aria-label="Clear" (mousedown)="passwordInputType = 'text'" (mouseup)="passwordInputType = 'password'">
      <mat-icon *ngIf="passwordInputType === 'password'">visibility</mat-icon>
      <mat-icon *ngIf="passwordInputType === 'text'">visibility_off</mat-icon>
    </button>
    <mat-error *ngIf="resetPasswordForm.controls.password.hasError('required')">
      Password is <strong>required</strong>
    </mat-error>
  </mat-form-field>
  <mat-form-field fxFlexAlign="center" class="textfield">
    <span matPrefix><mat-icon>check_circle</mat-icon>&nbsp;&nbsp;</span>
    <input type="password" matInput placeholder="Confirm Password" formControlName="repeatPassword">
    <mat-error *ngIf="resetPasswordForm.controls.repeatPassword.hasError('required')">
      Confirm Password is <strong>required</strong>
    </mat-error>
  </mat-form-field>
  <p class="error" *ngIf="resetPasswordForm.errors?.passwordsDoNotMatch &&
  (!resetPasswordForm.controls.password.hasError('required') && !resetPasswordForm.controls.repeatPassword.hasError('required'))">
    Passwords <strong>do not match</strong>
  </p>
  <button mat-raised-button color="primary" fxFlexAlign="center" class="btn" [disabled]="!resetPasswordForm.valid">
    Reset Password
    <mat-spinner [diameter]="20" *ngIf="loading"></mat-spinner>
  </button>
</form>
