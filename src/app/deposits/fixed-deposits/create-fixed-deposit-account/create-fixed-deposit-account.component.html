<div class="container">

  <mat-horizontal-stepper class="mat-elevation-z8" labelPosition="bottom" #fixedDepositAccountStepper>
    
    <ng-template matStepperIcon="number">
      <fa-icon icon="pencil-alt" size="sm"></fa-icon>
    </ng-template>

    <ng-template matStepperIcon="edit">
      <fa-icon icon="pencil-alt" size="sm"></fa-icon>
    </ng-template>

    <ng-template matStepperIcon="done">
      <fa-icon icon="check" size="sm"></fa-icon>
    </ng-template>

    <ng-template matStepperIcon="error">
      <fa-icon icon="exclamation-triangle" size="lg"></fa-icon>
    </ng-template>

    <ng-template matStepperIcon="preview">
      <fa-icon icon="eye" size="sm"></fa-icon>
    </ng-template>

    <mat-step [stepControl]="fixedDepositAccountDetailsForm">

      <ng-template matStepLabel>{{"labels.inputs.DETAILS" | translate }}</ng-template>

      <mifosx-fixed-deposit-account-details-step
        [fixedDepositsAccountTemplate]="fixedDepositsAccountTemplate"
        (fixedDepositsAccountProductTemplate)="setTemplate($event)">
      </mifosx-fixed-deposit-account-details-step>

    </mat-step>

    <mat-step [stepControl]="fixedDepositAccountDetailsForm.get('productId')">

      <ng-template matStepLabel>{{"labels.inputs.CURRENCY" | translate }}</ng-template>

      <mifosx-fixed-deposit-account-currency-step
        [fixedDepositsAccountTemplate]="fixedDepositsAccountTemplate"
        [fixedDepositsAccountProductTemplate]="fixedDepositsAccountProductTemplate">
      </mifosx-fixed-deposit-account-currency-step>

    </mat-step>

    <mat-step [stepControl]="fixedDepositAccountTermsForm">

      <ng-template matStepLabel>{{"labels.inputs.TERMS" | translate }}</ng-template>

      <mifosx-fixed-deposit-account-terms-step
        [fixedDepositsAccountTemplate]="fixedDepositsAccountTemplate"
        [fixedDepositsAccountProductTemplate]="fixedDepositsAccountProductTemplate">
      </mifosx-fixed-deposit-account-terms-step>

    </mat-step>

    <mat-step [stepControl]="fixedDepositAccountSettingsForm">

      <ng-template matStepLabel>{{"labels.inputs.SETTINGS" | translate }}</ng-template>

      <mifosx-fixed-deposit-account-settings-step
        [fixedDepositsAccountTemplate]="fixedDepositsAccountTemplate"
        [fixedDepositsAccountProductTemplate]="fixedDepositsAccountProductTemplate">
      </mifosx-fixed-deposit-account-settings-step>

    </mat-step>

    <mat-step>

      <ng-template matStepLabel>{{"labels.inputs.INTEREST RATE CHART" | translate }}</ng-template>

      <mifosx-fixed-deposit-account-interest-rate-chart-step
        [fixedDepositsAccountTemplate]="fixedDepositsAccountTemplate"
        [fixedDepositsAccountProductTemplate]="fixedDepositsAccountProductTemplate">
      </mifosx-fixed-deposit-account-interest-rate-chart-step>

    </mat-step>

    <mat-step>

      <ng-template matStepLabel>{{"labels.inputs.CHARGES" | translate }}</ng-template>

      <mifosx-fixed-deposit-account-charges-step
        [fixedDepositsAccountTemplate]="fixedDepositsAccountTemplate"
        [fixedDepositsAccountProductTemplate]="fixedDepositsAccountProductTemplate"
        [fixedDepositAccountFormValid]="fixedDepositAccountFormValid"
        [currencyCode]="fixedDepositAccountCurrencyForm.get('currencyCode')">
      </mifosx-fixed-deposit-account-charges-step>

    </mat-step>

    <mat-step state="preview" *ngIf="fixedDepositAccountFormValid" completed>

      <ng-template matStepLabel>{{"labels.inputs.PREVIEW" | translate }}</ng-template>

      <mifosx-fixed-deposit-account-preview-step
        [fixedDepositsAccountTemplate]="fixedDepositsAccountTemplate"
        [fixedDepositsAccountProductTemplate]="fixedDepositsAccountProductTemplate"
        [fixedDepositAccountData]="fixedDepositAccount" (submit)="submit()">
      </mifosx-fixed-deposit-account-preview-step>

    </mat-step>

  </mat-horizontal-stepper>

</div>
