"use strict";(self.webpackChunkmifosx_web_app=self.webpackChunkmifosx_web_app||[]).push([[124],{52124:function(ba,E,p){p.r(E),p.d(E,{SharesModule:function(){return Da}});var l=p(57629),S=p(32736),B=p(20420),X=function(){function e(a){this.setOptions(a),this.setButtons(a)}return Object.defineProperty(e.prototype,"singleButtons",{get:function(){return this.buttonsArray},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.optionArray},enumerable:!1,configurable:!0}),e.prototype.setButtons=function(a){switch(a){case"Active":this.buttonsArray=[{name:"Apply Additional Shares",icon:"fa fa-arrow-right",taskPermissionName:"APPLYADDITIONAL_SHAREACCOUNT"},{name:"Approve Additional Shares",icon:"fa fa-arrow-right",taskPermissionName:"APPROVEADDITIONAL_SHAREACCOUNT"},{name:"Reject Additional Shares",icon:"fa fa-arrow-left",taskPermissionName:"REJECTADDITIONAL_SHAREACCOUNT"},{name:"Redeem Shares",icon:"fa fa-arrow-left",taskPermissionName:"WITHDRAW_SAVINGSACCOUNT"}];break;case"Submitted and pending approval":this.buttonsArray=[{name:"Modify Application",icon:"fa fa-pencil ",taskPermissionName:"UPDATE_SHAREACCOUNT"},{name:"Approve",icon:"fa fa-check",taskPermissionName:"APPROVE_SHAREACCOUNT"}];break;case"Approved":this.buttonsArray=[{name:"Undo Approval",icon:"fa fa-undo",taskPermissionName:"APPROVALUNDO_SHAREACCOUNT"},{name:"Activate",icon:"fa fa-check",taskPermissionName:"ACTIVATE_SHAREACCOUNT"}];break;default:this.buttonsArray=[]}},e.prototype.setOptions=function(a){switch(a){case"Active":this.optionArray=[{name:"Close",taskPermissionName:"CLOSE_SHAREACCOUNT"}];break;case"Submitted and pending approval":this.optionArray=[{name:"Reject",taskPermissionName:"REJECT_SHAREACCOUNT"},{name:"Delete",taskPermissionName:"DELETE_SHAREACCOUNT"}];break;default:this.optionArray=[]}},e.prototype.addOption=function(a){this.optionArray.push(a)},e.prototype.removeButton=function(a){var o=this.buttonsArray.map(function(r){return r.name}).indexOf(a);this.buttonsArray.splice(o,1)},e}(),t=p(31572),F=p(29063),U=function(){function e(a){this.http=a}return e.prototype.getSharesAccountData=function(a,n){var o=(new F.LE).set("template",n.toString());return this.http.get("/accounts/share/"+a,{params:o})},e.prototype.getSharesAccountTemplate=function(a,n){var o=(new F.LE).set("clientId",a);return o=n?o.set("productId",n):o,this.http.get("/accounts/share/template",{params:o})},e.prototype.createSharesAccount=function(a){return this.http.post("/accounts/share",a)},e.prototype.updateSharesAccount=function(a,n){return this.http.put("/accounts/share/"+a,n)},e.prototype.deleteSharesAccount=function(a){return this.http.delete("/accounts/share/"+a)},e.prototype.executeSharesAccountCommand=function(a,n,o){var r=(new F.LE).set("command",n);return this.http.post("/accounts/share/"+a,o,{params:r})},e.\u0275fac=function(n){return new(n||e)(t.LFG(F.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),T=p(84608),d=p(27439),m=p(3722),k=p(46828),g=p(61511),M=p(20377),H=p(55109),K=p(6485),v=p(15980),I=p(8055),R=p(48912),b=p(23262);function tt(e,a){if(1&e){var n=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(n);var c=t.oxw().$implicit;return t.oxw().doAction(c.name)}),t._uU(1,"\n          "),t._UZ(2,"i"),t._uU(3),t.qZA()}if(2&e){var o=t.oxw().$implicit;t.xp6(2),t.Tol(o.icon),t.xp6(1),t.hij(" ",o.name,"")}}function et(e,a){if(1&e&&(t.ynx(0),t._uU(1,"\n        "),t.YNc(2,tt,4,4,"button",16),t._uU(3,"\n      "),t.BQk()),2&e){var n=a.$implicit;t.xp6(2),t.Q6J("mifosxHasPermission",n.taskPermissionName)}}function nt(e,a){if(1&e){var n=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){t.CHM(n);var c=t.oxw().$implicit;return t.oxw(2).doAction(c.name)}),t._uU(1),t.qZA()}if(2&e){var o=t.oxw().$implicit;t.xp6(1),t.Oqu(o.name)}}function at(e,a){if(1&e&&(t.TgZ(0,"span"),t._uU(1,"\n          "),t.YNc(2,nt,2,1,"button",20),t._uU(3,"\n        "),t.qZA()),2&e){var n=a.$implicit;t.xp6(2),t.Q6J("mifosxHasPermission",n.taskPermissionName)}}function ot(e,a){if(1&e&&(t.ynx(0),t._uU(1,"\n        "),t.TgZ(2,"button",18),t._uU(3,"More"),t.qZA(),t._uU(4,"\n        "),t.TgZ(5,"mat-menu",null,19),t._uU(7,"\n        "),t.YNc(8,at,4,1,"span",8),t._uU(9,"\n        "),t.qZA(),t._uU(10,"\n      "),t.BQk()),2&e){var n=t.MAs(6),o=t.oxw();t.xp6(2),t.Q6J("matMenuTriggerFor",n),t.xp6(6),t.Q6J("ngForOf",o.buttonConfig.options)}}var rt=function(){return["./transactions"]};function ct(e,a){if(1&e&&(t.TgZ(0,"a",22,23),t._uU(2,"\n        Transactions\n      "),t.qZA()),2&e){var n=t.MAs(1);t.Q6J("routerLink",t.DdM(2,rt))("active",n.isActive)}}var it=function(){return["./charges"]};function st(e,a){if(1&e&&(t.TgZ(0,"a",22,24),t._uU(2,"\n        Charges\n      "),t.qZA()),2&e){var n=t.MAs(1);t.Q6J("routerLink",t.DdM(2,it))("active",n.isActive)}}var ut=function(){return["./dividends"]};function mt(e,a){if(1&e&&(t.TgZ(0,"a",22,25),t._uU(2,"\n        Dividends\n      "),t.qZA()),2&e){var n=t.MAs(1);t.Q6J("routerLink",t.DdM(2,ut))("active",n.isActive)}}var pt=function(){function e(a,n,o,r){var c=this;this.route=a,this.router=n,this.sharesService=o,this.dialog=r,this.route.data.subscribe(function(u){c.sharesAccountData=u.sharesAccountData})}return e.prototype.ngOnInit=function(){this.setConditionalButtons()},e.prototype.setConditionalButtons=function(){var a=this,n=this.sharesAccountData.status.value;if(this.buttonConfig=new X(n),this.sharesAccountData.charges&&this.sharesAccountData.charges.forEach(function(u){"Annual fee - INR"===u.name&&a.buttonConfig.addOption({name:"Apply Anuual Fees",taskPermissionName:"APPLYANNUALFEE_SAVINGSACCOUNT"})}),"Active"===n){var c=!1;this.sharesAccountData.purchasedShares.forEach(function(u){"purchasedSharesStatusType.applied"===u.status.code&&"purchasedSharesType.purchased"===u.type.code&&(c=!0)}),c||(this.buttonConfig.removeButton("Approve Additional Shares"),this.buttonConfig.removeButton("Reject Additional Shares"))}},e.prototype.doAction=function(a){switch(a){case"Approve":case"Reject":case"Close":case"Activate":case"Undo Approval":case"Apply Additional Shares":case"Redeem Shares":case"Approve Additional Shares":case"Reject Additional Shares":this.router.navigate(["actions/"+a],{relativeTo:this.route});break;case"Modify Application":this.router.navigate(["edit"],{relativeTo:this.route});break;case"Delete":this.deleteSharesAccount()}},e.prototype.deleteSharesAccount=function(){var a=this;this.dialog.open(B.F,{data:{deleteContext:"shares account with id: "+this.sharesAccountData.id}}).afterClosed().subscribe(function(o){o.delete&&a.sharesService.deleteSharesAccount(a.sharesAccountData.id).subscribe(function(){a.router.navigate(["../../"],{relativeTo:a.route})})})},e.\u0275fac=function(n){return new(n||e)(t.Y36(l.gz),t.Y36(l.F0),t.Y36(U),t.Y36(T.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-shares-account-view"]],decls:142,vars:25,consts:[[1,"shares-account-card"],["fxLayout","column",1,"header"],[1,"header-title-group"],[1,"profile-image-container"],["mat-card-md-image","","matTooltip","Shares Account","src","assets/images/shares_account_placeholder.png",1,"profile-image"],[1,"mat-typography","account-card-title"],[1,"fa","fa-stop",3,"ngClass","matTooltip"],[1,"account-actions"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"content"],["fxLayout","row","fxLayoutGap","2%",1,"shares-account-tables"],["fxFlex","49%"],[1,"table-headers"],["mat-tab-nav-bar","",1,"navigation-tabs"],["mat-tab-link","","routerLinkActive","",3,"routerLink","active",4,"mifosxHasPermission"],["mat-raised-button","",3,"click",4,"mifosxHasPermission"],["mat-raised-button","",3,"click"],["mat-raised-button","",3,"matMenuTriggerFor"],["More","matMenu"],["mat-menu-item","",3,"click",4,"mifosxHasPermission"],["mat-menu-item","",3,"click"],["mat-tab-link","","routerLinkActive","",3,"routerLink","active"],["transactions","routerLinkActive"],["charges","routerLinkActive"],["dividends","routerLinkActive"]],template:function(n,o){1&n&&(t.TgZ(0,"mat-card",0),t._uU(1,"\n\n  "),t.TgZ(2,"mat-card-header",1),t._uU(3,"\n\n    "),t.TgZ(4,"mat-card-title-group",2),t._uU(5,"\n\n      "),t.TgZ(6,"div",3),t._uU(7,"\n        "),t.TgZ(8,"div"),t._uU(9,"\n          "),t._UZ(10,"img",4),t._uU(11,"\n        "),t.qZA(),t._uU(12,"\n      "),t.qZA(),t._uU(13,"\n\n      "),t.TgZ(14,"div",5),t._uU(15,"\n        "),t.TgZ(16,"mat-card-title"),t._uU(17,"\n          "),t.TgZ(18,"h3"),t._uU(19,"\n            "),t._UZ(20,"i",6),t.ALo(21,"statusLookup"),t._uU(22),t.qZA(),t._uU(23,"\n        "),t.qZA(),t._uU(24,"\n        "),t.TgZ(25,"mat-card-subtitle"),t._uU(26,"\n          "),t.TgZ(27,"p"),t._uU(28),t._UZ(29,"br"),t._uU(30),t._UZ(31,"br"),t._uU(32),t.qZA(),t._uU(33,"\n        "),t.qZA(),t._uU(34,"\n      "),t.qZA(),t._uU(35,"\n\n    "),t.qZA(),t._uU(36,"\n\n    "),t.TgZ(37,"mat-card-actions",7),t._uU(38,"\n\n      "),t.YNc(39,et,4,1,"ng-container",8),t._uU(40,"\n  \n      "),t.YNc(41,ot,11,2,"ng-container",9),t._uU(42,"\n  \n    "),t.qZA(),t._uU(43,"\n\n  "),t.qZA(),t._uU(44,"\n\n  "),t.TgZ(45,"mat-card-content",10),t._uU(46,"\n\n    "),t.TgZ(47,"div",11),t._uU(48,"\n\n      "),t.TgZ(49,"div",12),t._uU(50,"\n        "),t.TgZ(51,"h4",13),t._uU(52,"Shares Details"),t.qZA(),t._uU(53,"\n        "),t.TgZ(54,"table"),t._uU(55,"\n          "),t.TgZ(56,"tbody"),t._uU(57,"\n            "),t.TgZ(58,"tr"),t._uU(59,"\n              "),t.TgZ(60,"td"),t._uU(61,"Activated On"),t.qZA(),t._uU(62,"\n              "),t.TgZ(63,"td"),t._uU(64),t.ALo(65,"dateFormat"),t.qZA(),t._uU(66,"\n            "),t.qZA(),t._uU(67,"\n            "),t.TgZ(68,"tr"),t._uU(69,"\n              "),t.TgZ(70,"td"),t._uU(71,"Currency"),t.qZA(),t._uU(72,"\n              "),t.TgZ(73,"td"),t._uU(74),t.qZA(),t._uU(75,"\n            "),t.qZA(),t._uU(76,"\n            "),t.TgZ(77,"tr"),t._uU(78,"\n              "),t.TgZ(79,"td"),t._uU(80,"External Id"),t.qZA(),t._uU(81,"\n              "),t.TgZ(82,"td"),t._uU(83),t.qZA(),t._uU(84,"\n            "),t.qZA(),t._uU(85,"\n            "),t.TgZ(86,"tr"),t._uU(87,"\n              "),t.TgZ(88,"td"),t._uU(89,"Linked Savings Account(Dividend Posting)"),t.qZA(),t._uU(90,"\n              "),t.TgZ(91,"td"),t._uU(92),t.qZA(),t._uU(93,"\n            "),t.qZA(),t._uU(94,"\n          "),t.qZA(),t._uU(95,"\n        "),t.qZA(),t._uU(96,"\n      "),t.qZA(),t._uU(97,"\n\n      "),t.TgZ(98,"div",12),t._uU(99,"\n        "),t.TgZ(100,"h4",13),t._uU(101,"Account Summary"),t.qZA(),t._uU(102,"\n        "),t.TgZ(103,"table"),t._uU(104,"\n          "),t.TgZ(105,"tbody"),t._uU(106,"\n            "),t.TgZ(107,"tr"),t._uU(108,"\n              "),t.TgZ(109,"td"),t._uU(110,"Approved Shares"),t.qZA(),t._uU(111,"\n              "),t.TgZ(112,"td"),t._uU(113),t.qZA(),t._uU(114,"\n            "),t.qZA(),t._uU(115,"\n            "),t.TgZ(116,"tr"),t._uU(117,"\n              "),t.TgZ(118,"td"),t._uU(119,"Pending for Approval Shares"),t.qZA(),t._uU(120,"\n              "),t.TgZ(121,"td"),t._uU(122),t.qZA(),t._uU(123,"\n            "),t.qZA(),t._uU(124,"\n          "),t.qZA(),t._uU(125,"\n        "),t.qZA(),t._uU(126,"\n      "),t.qZA(),t._uU(127,"\n\n    "),t.qZA(),t._uU(128,"\n\n    "),t.TgZ(129,"nav",14),t._uU(130,"\n      "),t.YNc(131,ct,3,3,"a",15),t._uU(132,"\n      "),t.YNc(133,st,3,3,"a",15),t._uU(134,"\n      "),t.YNc(135,mt,3,3,"a",15),t._uU(136,"\n    "),t.qZA(),t._uU(137,"\n\n    "),t._UZ(138,"router-outlet"),t._uU(139,"\n\n  "),t.qZA(),t._uU(140,"\n\n"),t.qZA(),t._uU(141,"\n")),2&n&&(t.xp6(20),t.Q6J("ngClass",t.lcZ(21,21,o.sharesAccountData.status.code))("matTooltip",o.sharesAccountData.status.value),t.xp6(2),t.hij("\n              Account Name : ",o.sharesAccountData.productName,"\n          "),t.xp6(6),t.AsE("\n            Account #: ",o.sharesAccountData.accountNo," | Client Name: ",o.sharesAccountData.clientName,""),t.xp6(2),t.AsE("\n            Current Market Price: ",o.sharesAccountData.currency.displaySymbol,"\xa0",o.sharesAccountData.currentMarketPrice,""),t.xp6(2),t.AsE("\n            Lockin Period: ",o.sharesAccountData.lockinPeriod?o.sharesAccountData.lockinPeriod:"N/A"," \n            ",o.sharesAccountData.lockinPeriod?o.sharesAccountData.lockPeriodTypeEnum.value:""," \n          "),t.xp6(7),t.Q6J("ngForOf",o.buttonConfig.singleButtons),t.xp6(2),t.Q6J("ngIf",o.buttonConfig.options.length),t.xp6(23),t.Oqu(o.sharesAccountData.timeline.activatedOnDate?t.lcZ(65,23,o.sharesAccountData.timeline.activatedOnDate):"Not Activated"),t.xp6(10),t.AsE("",o.sharesAccountData.currency.name," [",o.sharesAccountData.currency.code,"]"),t.xp6(9),t.Oqu(o.sharesAccountData.externalId?o.sharesAccountData.externalId:"Not Provided"),t.xp6(9),t.Oqu(o.sharesAccountData.savingsAccountNumber?o.sharesAccountData.savingsAccountNumber:"Unassigned"),t.xp6(21),t.Oqu(o.sharesAccountData.summary.totalApprovedShares),t.xp6(9),t.Oqu(o.sharesAccountData.summary.totalPendingForApprovalShares),t.xp6(9),t.Q6J("mifosxHasPermission","READ_SHAREACCOUNTPURCHASE"),t.xp6(2),t.Q6J("mifosxHasPermission","READ_SHAREACCOUNTCHARGE"),t.xp6(2),t.Q6J("mifosxHasPermission","READ_SHAREACCOUNTDIVIDENDS"))},directives:[d.a8,d.dk,m.xw,d.C1,d.nc,k.gM,d.n5,g.mk,M.oO,d.$j,d.hq,g.sg,g.O5,d.dn,m.SQ,m.yH,H.BU,K.A,l.lC,v.lW,I.p6,I.VK,I.OP,l.yS,H.Nj,l.Od],pipes:[R.F,b.E],styles:[".shares-account-card[_ngcontent-%COMP%]{margin:0 auto;max-width:80rem;width:90%;padding:0}.shares-account-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding:1%}.shares-account-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-title-group[_ngcontent-%COMP%]   .account-card-title[_ngcontent-%COMP%]{color:#fff;width:90%}.shares-account-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-title-group[_ngcontent-%COMP%]   .account-card-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.shares-account-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .profile-image-container[_ngcontent-%COMP%]{margin:1%}.shares-account-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .profile-image-container[_ngcontent-%COMP%]   .profile-image[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;border-radius:20px}.shares-account-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .account-actions[_ngcontent-%COMP%]{align-self:flex-end;margin:0 1%}.shares-account-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .account-actions[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-bottom:2px;margin-right:4px}.shares-account-card[_ngcontent-%COMP%]   .navigation-tabs[_ngcontent-%COMP%]{background-color:#f2f2f2;overflow:auto}.shares-account-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .shares-account-tables[_ngcontent-%COMP%]{padding:1%;margin:1%}.shares-account-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .shares-account-tables[_ngcontent-%COMP%]   .table-headers[_ngcontent-%COMP%]{margin:0;padding:6px}.shares-account-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .shares-account-tables[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:3px}.shares-account-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .shares-account-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),e}(),s=p(67033);function lt(e,a){1&e&&(t.TgZ(0,"th",14),t._uU(1," Transaction Date "),t.qZA())}function ht(e,a){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.ALo(2,"dateFormat"),t.qZA()),2&e){var n=a.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,n.purchasedDate)," ")}}function _t(e,a){1&e&&(t.TgZ(0,"th",14),t._uU(1," Transaction Type "),t.qZA())}function dt(e,a){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){var n=a.$implicit;t.xp6(1),t.AsE(" ",n.type.value," ","Charge Payment"!==n.type.value?"("+n.status.value+")":"","")}}function ft(e,a){1&e&&(t.TgZ(0,"th",14),t._uU(1," Total Shares "),t.qZA())}function At(e,a){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){var n=a.$implicit;t.xp6(1),t.hij(" ",n.numberOfShares," ")}}function gt(e,a){1&e&&(t.TgZ(0,"th",14),t._uU(1," Purhcased/Redeemed Price "),t.qZA())}function Ut(e,a){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){var n=a.$implicit,o=t.oxw();t.xp6(1),t.AsE("",o.shareAccountData.currency.displaySymbol,"\xa0",n.purchasedPrice,"")}}function Tt(e,a){1&e&&(t.TgZ(0,"th",14),t._uU(1," Charge Amount "),t.qZA())}function vt(e,a){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){var n=a.$implicit,o=t.oxw();t.xp6(1),t.AsE("",o.shareAccountData.currency.displaySymbol,"\xa0","Charge Payment"===n.type.value?n.amount:n.chargeAmount,"")}}function Zt(e,a){1&e&&(t.TgZ(0,"th",14),t._uU(1," Amount Recieved/Returned "),t.qZA())}function Ct(e,a){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){var n=a.$implicit,o=t.oxw();t.xp6(1),t.AsE("",o.shareAccountData.currency.displaySymbol,"\xa0",n.amount,"")}}function St(e,a){1&e&&t._UZ(0,"tr",16)}function yt(e,a){1&e&&t._UZ(0,"tr",17)}var xt=function(){function e(a){var n=this;this.route=a,this.displayedColumns=["transactionDate","transactionType","totalShares","purchasedOrRedeemedPrice","chargeAmount","amountRecievedOrReturned"],this.route.parent.data.subscribe(function(o){n.shareAccountData=o.sharesAccountData,n.transactionsData=n.shareAccountData.purchasedShares})}return e.prototype.ngOnInit=function(){this.dataSource=new s.by(this.transactionsData)},e.\u0275fac=function(n){return new(n||e)(t.Y36(l.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-transactions-tab"]],decls:61,vars:3,consts:[[1,"tab-container","mat-typography"],[1,"m-b-10"],[1,"mat-elevation-z1","m-b-25"],["mat-table","",3,"dataSource"],["matColumnDef","transactionDate"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","transactionType"],["matColumnDef","totalShares"],["matColumnDef","purchasedOrRedeemedPrice"],["matColumnDef","chargeAmount"],["matColumnDef","amountRecievedOrReturned"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t._uU(1,"\n\n  "),t.TgZ(2,"div",1),t._uU(3,"\n    "),t.TgZ(4,"h3"),t._uU(5,"All Transactions"),t.qZA(),t._uU(6,"\n  "),t.qZA(),t._uU(7,"\n\n  "),t.TgZ(8,"div",2),t._uU(9,"\n\n    "),t.TgZ(10,"table",3),t._uU(11,"\n\n      "),t.ynx(12,4),t._uU(13,"\n        "),t.YNc(14,lt,2,0,"th",5),t._uU(15,"\n        "),t.YNc(16,ht,3,3,"td",6),t._uU(17,"\n      "),t.BQk(),t._uU(18,"\n\n      "),t.ynx(19,7),t._uU(20,"\n        "),t.YNc(21,_t,2,0,"th",5),t._uU(22,"\n        "),t.YNc(23,dt,2,2,"td",6),t._uU(24,"\n      "),t.BQk(),t._uU(25,"\n\n      "),t.ynx(26,8),t._uU(27,"\n        "),t.YNc(28,ft,2,0,"th",5),t._uU(29,"\n        "),t.YNc(30,At,2,1,"td",6),t._uU(31,"\n      "),t.BQk(),t._uU(32,"\n\n      "),t.ynx(33,9),t._uU(34,"\n        "),t.YNc(35,gt,2,0,"th",5),t._uU(36,"\n        "),t.YNc(37,Ut,2,2,"td",6),t._uU(38,"\n      "),t.BQk(),t._uU(39,"\n\n      "),t.ynx(40,10),t._uU(41,"\n        "),t.YNc(42,Tt,2,0,"th",5),t._uU(43,"\n        "),t.YNc(44,vt,2,2,"td",6),t._uU(45,"\n      "),t.BQk(),t._uU(46,"\n\n      "),t.ynx(47,11),t._uU(48,"\n        "),t.YNc(49,Zt,2,0,"th",5),t._uU(50,"\n        "),t.YNc(51,Ct,2,2,"td",6),t._uU(52,"\n      "),t.BQk(),t._uU(53,"\n\n      "),t.YNc(54,St,1,0,"tr",12),t._uU(55,"\n      "),t.YNc(56,yt,1,0,"tr",13),t._uU(57,"\n\n    "),t.qZA(),t._uU(58,"\n\n  "),t.qZA(),t._uU(59,"\n\n"),t.qZA(),t._uU(60,"\n")),2&n&&(t.xp6(10),t.Q6J("dataSource",o.dataSource),t.xp6(44),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(2),t.Q6J("matRowDefColumns",o.displayedColumns))},directives:[s.BZ,s.w1,s.fO,s.Dz,s.as,s.nj,s.ge,s.ev,s.XQ,s.Gk],pipes:[b.E],styles:[".tab-container[_ngcontent-%COMP%]{padding:1%;margin:1%}.tab-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:1% auto}.tab-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}"]}),e}();function Dt(e,a){1&e&&(t.TgZ(0,"th",16),t._uU(1," Name "),t.qZA())}function bt(e,a){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){var n=a.$implicit;t.xp6(1),t.hij(" ",n.name," ")}}function qt(e,a){1&e&&(t.TgZ(0,"th",16),t._uU(1," Fee/Penalty "),t.qZA())}function Pt(e,a){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){var n=a.$implicit;t.xp6(1),t.hij(" ",!0===n.penalty?"Penalty":"Fee"," ")}}function Ft(e,a){1&e&&(t.TgZ(0,"th",16),t._uU(1," Payment Due At "),t.qZA())}function Nt(e,a){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){var n=a.$implicit;t.xp6(1),t.hij(" ",n.chargeTimeType.value," ")}}function wt(e,a){1&e&&(t.TgZ(0,"th",16),t._uU(1," Calculation Type "),t.qZA())}function Ot(e,a){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){var n=a.$implicit;t.xp6(1),t.hij(" ",n.chargeCalculationType.value," ")}}function Yt(e,a){1&e&&(t.TgZ(0,"th",16),t._uU(1," Due "),t.qZA())}function kt(e,a){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){var n=a.$implicit;t.xp6(1),t.AsE(" ",n.currency.displaySymbol,"\xa0",n.amount," ")}}function Mt(e,a){1&e&&(t.TgZ(0,"th",16),t._uU(1," Paid "),t.qZA())}function It(e,a){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){var n=a.$implicit;t.xp6(1),t.AsE(" ",n.currency.displaySymbol,"\xa0",n.amountPaid," ")}}function Rt(e,a){1&e&&(t.TgZ(0,"th",16),t._uU(1," Waived "),t.qZA())}function Qt(e,a){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){var n=a.$implicit;t.xp6(1),t.AsE(" ",n.currency.displaySymbol,"\xa0",n.amountWaived," ")}}function Jt(e,a){1&e&&(t.TgZ(0,"th",16),t._uU(1," Outstanding "),t.qZA())}function Lt(e,a){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){var n=a.$implicit;t.xp6(1),t.AsE(" ",n.currency.displaySymbol,"\xa0",n.amountOutstanding," ")}}function jt(e,a){1&e&&t._UZ(0,"tr",18)}function Et(e,a){1&e&&t._UZ(0,"tr",19)}var Bt=function(){function e(a){var n=this;this.route=a,this.displayedColumns=["name","feeOrPenalty","paymentDueAt","calculationType","due","paid","waived","outstanding"],this.route.parent.data.subscribe(function(o){n.sharesAccountData=o.sharesAccountData,n.chargesData=n.sharesAccountData.charges})}return e.prototype.ngOnInit=function(){var a=this.chargesData?this.chargesData.filter(function(n){return n.isActive}):[];this.dataSource=new s.by(a)},e.\u0275fac=function(n){return new(n||e)(t.Y36(l.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-charges-tab"]],decls:75,vars:3,consts:[[1,"tab-container","mat-typography"],[1,"m-b-10"],[1,"mat-elevation-z1","m-b-25"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","feeOrPenalty"],["matColumnDef","paymentDueAt"],["matColumnDef","calculationType"],["matColumnDef","due"],["matColumnDef","paid"],["matColumnDef","waived"],["matColumnDef","outstanding"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t._uU(1,"\n\n  "),t.TgZ(2,"div",1),t._uU(3,"\n    "),t.TgZ(4,"h3"),t._uU(5,"All Charges"),t.qZA(),t._uU(6,"\n  "),t.qZA(),t._uU(7,"\n\n  "),t.TgZ(8,"div",2),t._uU(9,"\n\n    "),t.TgZ(10,"table",3),t._uU(11,"\n\n      "),t.ynx(12,4),t._uU(13,"\n        "),t.YNc(14,Dt,2,0,"th",5),t._uU(15,"\n        "),t.YNc(16,bt,2,1,"td",6),t._uU(17,"\n      "),t.BQk(),t._uU(18,"\n\n      "),t.ynx(19,7),t._uU(20,"\n        "),t.YNc(21,qt,2,0,"th",5),t._uU(22,"\n        "),t.YNc(23,Pt,2,1,"td",6),t._uU(24,"\n      "),t.BQk(),t._uU(25,"\n\n      "),t.ynx(26,8),t._uU(27,"\n        "),t.YNc(28,Ft,2,0,"th",5),t._uU(29,"\n        "),t.YNc(30,Nt,2,1,"td",6),t._uU(31,"\n      "),t.BQk(),t._uU(32,"\n\n      "),t.ynx(33,9),t._uU(34,"\n        "),t.YNc(35,wt,2,0,"th",5),t._uU(36,"\n        "),t.YNc(37,Ot,2,1,"td",6),t._uU(38,"\n      "),t.BQk(),t._uU(39,"\n\n      "),t.ynx(40,10),t._uU(41,"\n        "),t.YNc(42,Yt,2,0,"th",5),t._uU(43,"\n        "),t.YNc(44,kt,2,2,"td",6),t._uU(45,"\n      "),t.BQk(),t._uU(46,"\n\n      "),t.ynx(47,11),t._uU(48,"\n        "),t.YNc(49,Mt,2,0,"th",5),t._uU(50,"\n        "),t.YNc(51,It,2,2,"td",6),t._uU(52,"\n      "),t.BQk(),t._uU(53,"\n\n      "),t.ynx(54,12),t._uU(55,"\n        "),t.YNc(56,Rt,2,0,"th",5),t._uU(57,"\n        "),t.YNc(58,Qt,2,2,"td",6),t._uU(59,"\n      "),t.BQk(),t._uU(60,"\n\n      "),t.ynx(61,13),t._uU(62,"\n        "),t.YNc(63,Jt,2,0,"th",5),t._uU(64,"\n        "),t.YNc(65,Lt,2,2,"td",6),t._uU(66,"\n      "),t.BQk(),t._uU(67,"\n\n      "),t.YNc(68,jt,1,0,"tr",14),t._uU(69,"\n      "),t.YNc(70,Et,1,0,"tr",15),t._uU(71,"\n\n    "),t.qZA(),t._uU(72,"\n\n  "),t.qZA(),t._uU(73,"\n\n"),t.qZA(),t._uU(74,"\n")),2&n&&(t.xp6(10),t.Q6J("dataSource",o.dataSource),t.xp6(58),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(2),t.Q6J("matRowDefColumns",o.displayedColumns))},directives:[s.BZ,s.w1,s.fO,s.Dz,s.as,s.nj,s.ge,s.ev,s.XQ,s.Gk],styles:[".tab-container[_ngcontent-%COMP%]{padding:1%;margin:1%}.tab-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:1% auto}.tab-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}"]}),e}();function Ht(e,a){1&e&&(t.TgZ(0,"th",12),t._uU(1," Transaction Date "),t.qZA())}function Gt(e,a){if(1&e&&(t.TgZ(0,"td",13),t._uU(1),t.ALo(2,"dateFormat"),t.qZA()),2&e){var n=a.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,n.postedDate)," ")}}function zt(e,a){1&e&&(t.TgZ(0,"th",12),t._uU(1," Amount "),t.qZA())}function $t(e,a){if(1&e&&(t.TgZ(0,"td",13),t._uU(1),t.qZA()),2&e){var n=a.$implicit,o=t.oxw();t.xp6(1),t.AsE(" ",o.shareAccountData.currency.displaySymbol,"\xa0",n.amount," ")}}function Wt(e,a){1&e&&(t.TgZ(0,"th",12),t._uU(1," Transaction Reference "),t.qZA())}function Vt(e,a){if(1&e&&(t.TgZ(0,"td",13),t._uU(1),t.qZA()),2&e){var n=a.$implicit;t.xp6(1),t.hij(" ",n.savingsTransactionId," ")}}function Xt(e,a){1&e&&(t.TgZ(0,"th",12),t._uU(1," status "),t.qZA())}function Kt(e,a){if(1&e&&(t.TgZ(0,"td",13),t._uU(1),t.qZA()),2&e){var n=a.$implicit;t.xp6(1),t.hij(" ",n.status.value," ")}}function te(e,a){1&e&&t._UZ(0,"tr",14)}function ee(e,a){1&e&&t._UZ(0,"tr",15)}var ne=function(){function e(a){var n=this;this.route=a,this.displayedColumns=["transactionDate","amount","transactionReference","status"],this.route.parent.data.subscribe(function(o){n.shareAccountData=o.sharesAccountData,n.dividendsData=n.shareAccountData.dividends})}return e.prototype.ngOnInit=function(){this.dataSource=new s.by(this.dividendsData)},e.\u0275fac=function(n){return new(n||e)(t.Y36(l.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-dividends-tab"]],decls:47,vars:3,consts:[[1,"tab-container","mat-typography"],[1,"m-b-10"],[1,"mat-elevation-z1","m-b-25"],["mat-table","",3,"dataSource"],["matColumnDef","transactionDate"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","amount"],["matColumnDef","transactionReference"],["matColumnDef","status"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t._uU(1,"\n\n  "),t.TgZ(2,"div",1),t._uU(3,"\n    "),t.TgZ(4,"h3"),t._uU(5,"All Dividends"),t.qZA(),t._uU(6,"\n  "),t.qZA(),t._uU(7,"\n\n  "),t.TgZ(8,"div",2),t._uU(9,"\n\n    "),t.TgZ(10,"table",3),t._uU(11,"\n\n      "),t.ynx(12,4),t._uU(13,"\n        "),t.YNc(14,Ht,2,0,"th",5),t._uU(15,"\n        "),t.YNc(16,Gt,3,3,"td",6),t._uU(17,"\n      "),t.BQk(),t._uU(18,"\n\n      "),t.ynx(19,7),t._uU(20,"\n        "),t.YNc(21,zt,2,0,"th",5),t._uU(22,"\n        "),t.YNc(23,$t,2,2,"td",6),t._uU(24,"\n      "),t.BQk(),t._uU(25,"\n\n      "),t.ynx(26,8),t._uU(27,"\n        "),t.YNc(28,Wt,2,0,"th",5),t._uU(29,"\n        "),t.YNc(30,Vt,2,1,"td",6),t._uU(31,"\n      "),t.BQk(),t._uU(32,"\n\n      "),t.ynx(33,9),t._uU(34,"\n        "),t.YNc(35,Xt,2,0,"th",5),t._uU(36,"\n        "),t.YNc(37,Kt,2,1,"td",6),t._uU(38,"\n      "),t.BQk(),t._uU(39,"\n\n      "),t.YNc(40,te,1,0,"tr",10),t._uU(41,"\n      "),t.YNc(42,ee,1,0,"tr",11),t._uU(43,"\n\n    "),t.qZA(),t._uU(44,"\n\n  "),t.qZA(),t._uU(45,"\n\n"),t.qZA(),t._uU(46,"\n")),2&n&&(t.xp6(10),t.Q6J("dataSource",o.dataSource),t.xp6(30),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(2),t.Q6J("matRowDefColumns",o.displayedColumns))},directives:[s.BZ,s.w1,s.fO,s.Dz,s.as,s.nj,s.ge,s.ev,s.XQ,s.Gk],pipes:[b.E],styles:[".tab-container[_ngcontent-%COMP%]{padding:1%;margin:1%}.tab-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:1% auto}.tab-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}"]}),e}(),f=p(64762),i=p(16073),C=p(89223),h=p(66283),Q=p(4786),y=p(26756),A=p(15812),Z=p(7753),q=p(87592),J=p(71522);function ae(e,a){if(1&e&&(t.TgZ(0,"mat-option",15),t._uU(1),t.qZA()),2&e){var n=a.$implicit;t.Q6J("value",n.id),t.xp6(1),t.hij("\n          ",n.name,"\n        ")}}var N=function(){function e(a,n,o){this.formBuilder=a,this.sharesService=n,this.settingsService=o,this.minDate=new Date(2e3,0,1),this.maxDate=new Date,this.sharesAccountProductTemplate=new t.vpe,this.createSharesAccountDetailsForm()}return e.prototype.ngOnInit=function(){this.maxDate=this.settingsService.businessDate,this.buildDependencies(),this.sharesAccountTemplate&&(this.productData=this.sharesAccountTemplate.productOptions,this.sharesAccountTemplate.productId&&this.sharesAccountDetailsForm.patchValue({productId:this.sharesAccountTemplate.productId,submittedDate:this.sharesAccountTemplate.timeline.submittedOnDate&&new Date(this.sharesAccountTemplate.timeline.submittedOnDate),externalId:this.sharesAccountTemplate.externalId}))},e.prototype.createSharesAccountDetailsForm=function(){this.sharesAccountDetailsForm=this.formBuilder.group({productId:["",i.kI.required],submittedDate:["",i.kI.required],externalId:[""]})},e.prototype.buildDependencies=function(){var a=this,n=this.sharesAccountTemplate.clientId;this.sharesAccountDetailsForm.get("productId").valueChanges.subscribe(function(o){a.sharesService.getSharesAccountTemplate(n,o).subscribe(function(r){a.sharesAccountProductTemplate.emit(r)})})},Object.defineProperty(e.prototype,"sharesAccountDetails",{get:function(){return this.sharesAccountDetailsForm.value},enumerable:!1,configurable:!0}),e.\u0275fac=function(n){return new(n||e)(t.Y36(i.qu),t.Y36(U),t.Y36(C.g))},e.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-shares-account-details-step"]],inputs:{sharesAccountTemplate:"sharesAccountTemplate"},outputs:{sharesAccountProductTemplate:"sharesAccountProductTemplate"},decls:63,vars:6,consts:[[3,"formGroup"],["fxLayout","row wrap","fxLayoutGap","2%","fxLayout.lt-md","column"],["fxFlex","48%"],["formControlName","productId","required",""],[3,"value",4,"ngFor","ngForOf"],["fxFlex","48%",3,"click"],["matInput","","formControlName","submittedDate","required","",3,"min","max","matDatepicker"],["matSuffix","",3,"for"],["submittedOnDatePicker",""],["matInput","","formControlName","externalId"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","center","fxLayoutGap","2%",1,"margin-t"],["mat-raised-button","","matStepperPrevious","","disabled",""],["icon","arrow-left"],["mat-raised-button","","matStepperNext",""],["icon","arrow-right"],[3,"value"]],template:function(n,o){if(1&n){var r=t.EpF();t.TgZ(0,"form",0),t._uU(1,"\n\n  "),t.TgZ(2,"div",1),t._uU(3,"\n\n    "),t.TgZ(4,"mat-form-field",2),t._uU(5,"\n      "),t.TgZ(6,"mat-label"),t._uU(7,"Product Name"),t.qZA(),t._uU(8,"\n      "),t.TgZ(9,"mat-select",3),t._uU(10,"\n        "),t.YNc(11,ae,2,2,"mat-option",4),t._uU(12,"\n      "),t.qZA(),t._uU(13,"\n      "),t.TgZ(14,"mat-error"),t._uU(15,"\n        Product Name is "),t.TgZ(16,"strong"),t._uU(17,"required"),t.qZA(),t._uU(18,"\n      "),t.qZA(),t._uU(19,"\n    "),t.qZA(),t._uU(20,"\n\n    "),t.TgZ(21,"mat-form-field",5),t.NdJ("click",function(){return t.CHM(r),t.MAs(31).open()}),t._uU(22,"\n      "),t.TgZ(23,"mat-label"),t._uU(24,"Submitted On"),t.qZA(),t._uU(25,"\n      "),t._UZ(26,"input",6),t._uU(27,"\n      "),t._UZ(28,"mat-datepicker-toggle",7),t._uU(29,"\n      "),t._UZ(30,"mat-datepicker",null,8),t._uU(32,"\n      "),t.TgZ(33,"mat-error"),t._uU(34,"\n        Submission Date is "),t.TgZ(35,"strong"),t._uU(36,"required"),t.qZA(),t._uU(37,"\n      "),t.qZA(),t._uU(38,"\n    "),t.qZA(),t._uU(39,"\n\n    "),t.TgZ(40,"mat-form-field",2),t._uU(41,"\n      "),t.TgZ(42,"mat-label"),t._uU(43,"External ID"),t.qZA(),t._uU(44,"\n      "),t._UZ(45,"input",9),t._uU(46,"\n    "),t.qZA(),t._uU(47,"\n\n  "),t.qZA(),t._uU(48,"\n\n  "),t.TgZ(49,"div",10),t._uU(50,"\n    "),t.TgZ(51,"button",11),t._uU(52,"\n      "),t._UZ(53,"fa-icon",12),t._uU(54,"\xa0\xa0\n      Previous\n    "),t.qZA(),t._uU(55,"\n    "),t.TgZ(56,"button",13),t._uU(57,"\n      Next\xa0\xa0\n      "),t._UZ(58,"fa-icon",14),t._uU(59,"\n    "),t.qZA(),t._uU(60,"\n  "),t.qZA(),t._uU(61,"\n\n"),t.qZA(),t._uU(62,"\n")}if(2&n){var c=t.MAs(31);t.Q6J("formGroup",o.sharesAccountDetailsForm),t.xp6(11),t.Q6J("ngForOf",o.productData),t.xp6(15),t.Q6J("min",o.minDate)("max",o.maxDate)("matDatepicker",c),t.xp6(2),t.Q6J("for",c)}},directives:[i._Y,i.JL,i.sg,m.xw,m.SQ,h.KE,m.yH,h.hX,Q.gD,i.JJ,i.u,i.Q7,g.sg,h.TO,y.Nt,i.Fj,A.hl,A.nW,h.R9,A.Mq,m.Wh,v.lW,Z.fd,q.BN,Z.Ic,J.ey],styles:[""]}),e}(),oe=p(29236);function re(e,a){if(1&e&&(t.TgZ(0,"mat-option",25),t._uU(1),t.qZA()),2&e){var n=a.$implicit;t.Q6J("value",n.id),t.xp6(1),t.hij("\n          ",n.accountNo,"\n        ")}}function ce(e,a){if(1&e&&(t.TgZ(0,"mat-option",25),t._uU(1),t.qZA()),2&e){var n=a.$implicit;t.Q6J("value",n.id),t.xp6(1),t.hij("\n          ",n.value,"\n        ")}}function ie(e,a){if(1&e&&(t.TgZ(0,"mat-option",25),t._uU(1),t.qZA()),2&e){var n=a.$implicit;t.Q6J("value",n.id),t.xp6(1),t.hij("\n          ",n.value,"\n        ")}}var w=function(){function e(a,n){this.formBuilder=a,this.settingsService=n,this.minDate=new Date(2e3,0,1),this.maxDate=new Date,this.isSavingsPatched=!1,this.createSharesAccountTermsForm()}return e.prototype.ngOnChanges=function(){this.sharesAccountProductTemplate&&(this.sharesAccountTermsForm.patchValue({currencyCode:this.sharesAccountProductTemplate.currency.code,decimal:this.sharesAccountProductTemplate.currency.decimalPlaces,currencyMultiple:this.sharesAccountProductTemplate.currency.inMultiplesOf,unitPrice:this.sharesAccountProductTemplate.currentMarketPrice,savingsAccountId:""}),this.setOptions(),this.sharesAccountTemplate&&!this.isSavingsPatched&&this.sharesAccountTemplate.savingsAccountId&&(this.sharesAccountTermsForm.get("savingsAccountId").patchValue(this.sharesAccountTemplate.savingsAccountId),this.isSavingsPatched=!0))},e.prototype.ngOnInit=function(){this.maxDate=this.settingsService.businessDate,this.sharesAccountTemplate&&this.sharesAccountTermsForm.patchValue({requestedShares:this.sharesAccountTemplate.summary.totalPendingForApprovalShares,minimumActivePeriod:this.sharesAccountTemplate.minimumActivePeriod,minimumActivePeriodFrequencyType:this.sharesAccountTemplate.minimumActivePeriod&&this.sharesAccountTemplate.minimumActivePeriodTypeEnum.id,lockinPeriodFrequency:this.sharesAccountTemplate.lockinPeriod,lockinPeriodFrequencyType:this.sharesAccountTemplate.lockinPeriod&&this.sharesAccountTemplate.lockPeriodTypeEnum.id,applicationDate:this.sharesAccountTemplate.purchasedShares[0].purchasedDate&&new Date(this.sharesAccountTemplate.purchasedShares[0].purchasedDate),allowDividendCalculationForInactiveClients:this.sharesAccountTemplate.allowDividendCalculationForInactiveClients})},e.prototype.createSharesAccountTermsForm=function(){this.sharesAccountTermsForm=this.formBuilder.group({currencyCode:[{value:"",disabled:!0}],decimal:[{value:"",disabled:!0}],requestedShares:["",i.kI.required],unitPrice:[{value:"",disabled:!0}],currencyMultiple:[{value:"",disabled:!0}],savingsAccountId:["",i.kI.required],minimumActivePeriod:[""],minimumActivePeriodFrequencyType:[""],lockinPeriodFrequency:[""],lockinPeriodFrequencyType:[""],applicationDate:["",i.kI.required],allowDividendCalculationForInactiveClients:[!1]})},e.prototype.setOptions=function(){this.minimumActivePeriodFrequencyTypeData=this.sharesAccountProductTemplate.minimumActivePeriodFrequencyTypeOptions,this.lockinPeriodFrequencyTypeData=this.sharesAccountProductTemplate.lockinPeriodFrequencyTypeOptions,this.savingsAccountsData=this.sharesAccountProductTemplate.clientSavingsAccounts},Object.defineProperty(e.prototype,"sharesAccountTerms",{get:function(){return this.sharesAccountTermsForm.value},enumerable:!1,configurable:!0}),e.\u0275fac=function(n){return new(n||e)(t.Y36(i.qu),t.Y36(C.g))},e.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-shares-account-terms-step"]],inputs:{sharesAccountProductTemplate:"sharesAccountProductTemplate",sharesAccountTemplate:"sharesAccountTemplate"},features:[t.TTD],decls:148,vars:8,consts:[[3,"formGroup"],["fxLayout","row wrap","fxLayoutGap","2%","fxLayout.lt-md","column","fxLayoutAlign.gt-sm","start center"],["fxFlex","48%"],["matInput","","formControlName","currencyCode"],["type","number","matInput","","formControlName","decimal"],["type","number","matInput","","formControlName","requestedShares","required",""],["type","number","matInput","","formControlName","unitPrice"],["type","number","matInput","","formControlName","currencyMultiple"],["formControlName","savingsAccountId","required",""],[3,"value",4,"ngFor","ngForOf"],["fxFlex","48%",3,"click"],["matInput","","formControlName","applicationDate","required","",3,"min","max","matDatepicker"],["matSuffix","",3,"for"],["applicationDatePicker",""],["labelPosition","before","formControlName","allowDividendCalculationForInactiveClients","fxFlex","48%"],["fxFlex","98%",1,"mat-h4"],["type","number","matInput","","formControlName","minimumActivePeriod"],["formControlName","minimumActivePeriodFrequencyType"],["type","number","matInput","","formControlName","lockinPeriodFrequency"],["formControlName","lockinPeriodFrequencyType"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","center","fxLayoutGap","2%",1,"margin-t"],["mat-raised-button","","matStepperPrevious","","disabled",""],["icon","arrow-left"],["mat-raised-button","","matStepperNext",""],["icon","arrow-right"],[3,"value"]],template:function(n,o){if(1&n){var r=t.EpF();t.TgZ(0,"form",0),t._uU(1,"\n\n  "),t.TgZ(2,"div",1),t._uU(3,"\n\n    "),t.TgZ(4,"mat-form-field",2),t._uU(5,"\n      "),t.TgZ(6,"mat-label"),t._uU(7,"Currency"),t.qZA(),t._uU(8,"\n      "),t._UZ(9,"input",3),t._uU(10,"\n    "),t.qZA(),t._uU(11,"\n\n    "),t.TgZ(12,"mat-form-field",2),t._uU(13,"\n      "),t.TgZ(14,"mat-label"),t._uU(15,"Decimal Places"),t.qZA(),t._uU(16,"\n      "),t._UZ(17,"input",4),t._uU(18,"\n    "),t.qZA(),t._uU(19,"\n\n    "),t.TgZ(20,"mat-form-field",2),t._uU(21,"\n      "),t.TgZ(22,"mat-label"),t._uU(23,"Total Number of Shares"),t.qZA(),t._uU(24,"\n      "),t._UZ(25,"input",5),t._uU(26,"\n      "),t.TgZ(27,"mat-error"),t._uU(28,"\n        Total Number of Shares is "),t.TgZ(29,"strong"),t._uU(30,"required"),t.qZA(),t._uU(31,"\n      "),t.qZA(),t._uU(32,"\n    "),t.qZA(),t._uU(33,"\n\n    "),t.TgZ(34,"mat-form-field",2),t._uU(35,"\n      "),t.TgZ(36,"mat-label"),t._uU(37,"Today's Price"),t.qZA(),t._uU(38,"\n      "),t._UZ(39,"input",6),t._uU(40,"\n    "),t.qZA(),t._uU(41,"\n\n    "),t.TgZ(42,"mat-form-field",2),t._uU(43,"\n      "),t.TgZ(44,"mat-label"),t._uU(45,"Currency in multiples of"),t.qZA(),t._uU(46,"\n      "),t._UZ(47,"input",7),t._uU(48,"\n    "),t.qZA(),t._uU(49,"\n\n    "),t.TgZ(50,"mat-form-field",2),t._uU(51,"\n      "),t.TgZ(52,"mat-label"),t._uU(53,"Default Savings Account"),t.qZA(),t._uU(54,"\n      "),t.TgZ(55,"mat-select",8),t._uU(56,"\n        "),t.YNc(57,re,2,2,"mat-option",9),t._uU(58,"\n      "),t.qZA(),t._uU(59,"\n      "),t.TgZ(60,"mat-error"),t._uU(61,"\n        Default Savings Account is "),t.TgZ(62,"strong"),t._uU(63,"required"),t.qZA(),t._uU(64,"\n      "),t.qZA(),t._uU(65,"\n    "),t.qZA(),t._uU(66,"\n\n    "),t.TgZ(67,"mat-form-field",10),t.NdJ("click",function(){return t.CHM(r),t.MAs(77).open()}),t._uU(68,"\n      "),t.TgZ(69,"mat-label"),t._uU(70,"Application Date"),t.qZA(),t._uU(71,"\n      "),t._UZ(72,"input",11),t._uU(73,"\n      "),t._UZ(74,"mat-datepicker-toggle",12),t._uU(75,"\n      "),t._UZ(76,"mat-datepicker",null,13),t._uU(78,"\n      "),t.TgZ(79,"mat-error"),t._uU(80,"\n        Application Date is "),t.TgZ(81,"strong"),t._uU(82,"required"),t.qZA(),t._uU(83,"\n      "),t.qZA(),t._uU(84,"\n    "),t.qZA(),t._uU(85,"\n\n    "),t.TgZ(86,"mat-checkbox",14),t._uU(87,"\n      Allow dividends for inactive clients\n    "),t.qZA(),t._uU(88,"\n\n    "),t.TgZ(89,"h4",15),t._uU(90,"Minimum Active Period"),t.qZA(),t._uU(91,"\n\n    "),t.TgZ(92,"mat-form-field",2),t._uU(93,"\n      "),t.TgZ(94,"mat-label"),t._uU(95,"Frequency"),t.qZA(),t._uU(96,"\n      "),t._UZ(97,"input",16),t._uU(98,"\n    "),t.qZA(),t._uU(99,"\n\n    "),t.TgZ(100,"mat-form-field",2),t._uU(101,"\n      "),t.TgZ(102,"mat-label"),t._uU(103,"Type"),t.qZA(),t._uU(104,"\n      "),t.TgZ(105,"mat-select",17),t._uU(106,"\n        "),t.YNc(107,ce,2,2,"mat-option",9),t._uU(108,"\n      "),t.qZA(),t._uU(109,"\n    "),t.qZA(),t._uU(110,"\n\n    "),t.TgZ(111,"h4",15),t._uU(112,"Lock-in Period"),t.qZA(),t._uU(113,"\n\n    "),t.TgZ(114,"mat-form-field",2),t._uU(115,"\n      "),t.TgZ(116,"mat-label"),t._uU(117,"Frequency"),t.qZA(),t._uU(118,"\n      "),t._UZ(119,"input",18),t._uU(120,"\n    "),t.qZA(),t._uU(121,"\n\n    "),t.TgZ(122,"mat-form-field",2),t._uU(123,"\n      "),t.TgZ(124,"mat-label"),t._uU(125,"Type"),t.qZA(),t._uU(126,"\n      "),t.TgZ(127,"mat-select",19),t._uU(128,"\n        "),t.YNc(129,ie,2,2,"mat-option",9),t._uU(130,"\n      "),t.qZA(),t._uU(131,"\n    "),t.qZA(),t._uU(132,"\n\n  "),t.qZA(),t._uU(133,"\n\n  "),t.TgZ(134,"div",20),t._uU(135,"\n    "),t.TgZ(136,"button",21),t._uU(137,"\n      "),t._UZ(138,"fa-icon",22),t._uU(139,"\xa0\xa0\n      Previous\n    "),t.qZA(),t._uU(140,"\n    "),t.TgZ(141,"button",23),t._uU(142,"\n      Next\xa0\xa0\n      "),t._UZ(143,"fa-icon",24),t._uU(144,"\n    "),t.qZA(),t._uU(145,"\n  "),t.qZA(),t._uU(146,"\n\n"),t.qZA(),t._uU(147,"\n")}if(2&n){var c=t.MAs(77);t.Q6J("formGroup",o.sharesAccountTermsForm),t.xp6(57),t.Q6J("ngForOf",o.savingsAccountsData),t.xp6(15),t.Q6J("min",o.minDate)("max",o.maxDate)("matDatepicker",c),t.xp6(2),t.Q6J("for",c),t.xp6(33),t.Q6J("ngForOf",o.minimumActivePeriodFrequencyTypeData),t.xp6(22),t.Q6J("ngForOf",o.lockinPeriodFrequencyTypeData)}},directives:[i._Y,i.JL,i.sg,m.xw,m.SQ,m.Wh,h.KE,m.yH,h.hX,y.Nt,i.Fj,i.JJ,i.u,i.wV,i.Q7,h.TO,Q.gD,g.sg,A.hl,A.nW,h.R9,A.Mq,oe.oG,v.lW,Z.fd,q.BN,Z.Ic,J.ey],styles:["h4[_ngcontent-%COMP%]{font-weight:500;margin:1em 0}.margin-t[_ngcontent-%COMP%]{margin-top:1em}"]}),e}(),se=p(92387),ue=p(76448),me=p(5605);function pe(e,a){if(1&e&&(t.TgZ(0,"mat-option",22),t._uU(1),t.qZA()),2&e){var n=a.$implicit;t.Q6J("value",n),t.xp6(1),t.hij("\n        ",n.name,"\n      ")}}function le(e,a){1&e&&(t.TgZ(0,"th",23),t._uU(1," Name "),t.qZA())}function he(e,a){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){var n=a.$implicit;t.xp6(1),t.hij("\n        ",n.name+", "+n.currency.displaySymbol,"\n      ")}}function _e(e,a){1&e&&(t.TgZ(0,"th",23),t._uU(1," Type "),t.qZA())}function de(e,a){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){var n=a.$implicit;t.xp6(1),t.hij("\n        ",n.chargeCalculationType.value,"\n      ")}}function fe(e,a){1&e&&(t.TgZ(0,"th",23),t._uU(1," Amount "),t.qZA())}function Ae(e,a){if(1&e){var n=t.EpF();t.TgZ(0,"td",24),t._uU(1),t.TgZ(2,"button",25),t.NdJ("click",function(){var u=t.CHM(n).$implicit;return t.oxw().editCharge(u)}),t._uU(3,"\n          "),t._UZ(4,"fa-icon",26),t._uU(5,"\n        "),t.qZA(),t._uU(6,"\n      "),t.qZA()}if(2&e){var o=a.$implicit;t.xp6(1),t.hij("\n        ",o.amount||o.amountOrPercentage," \n        ")}}function ge(e,a){1&e&&(t.TgZ(0,"th",23),t._uU(1," Collected On "),t.qZA())}function Ue(e,a){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){var n=a.$implicit;t.xp6(1),t.hij("\n        ",n.chargeTimeType.value,"\n      ")}}function Te(e,a){1&e&&(t.TgZ(0,"th",23),t._uU(1," Actions "),t.qZA())}function ve(e,a){if(1&e){var n=t.EpF();t.TgZ(0,"td",24),t._uU(1,"\n        "),t.TgZ(2,"button",27),t.NdJ("click",function(){var c=t.CHM(n).$implicit;return t.oxw().deleteCharge(c)}),t._uU(3,"\n          "),t._UZ(4,"fa-icon",28),t._uU(5,"\n        "),t.qZA(),t._uU(6,"\n      "),t.qZA()}}function Ze(e,a){1&e&&t._UZ(0,"tr",29)}function Ce(e,a){1&e&&t._UZ(0,"tr",30)}var O=function(){function e(a){this.dialog=a,this.chargeData=[],this.chargesDataSource=[],this.pristine=!0,this.isChargesPatched=!1,this.displayedColumns=["name","chargeCalculationType","amount","chargeTimeType","action"]}return e.prototype.ngOnInit=function(){var a=this;this.currencyCode.valueChanges.subscribe(function(){!a.isChargesPatched&&a.sharesAccountTemplate.charges?(a.chargesDataSource=a.sharesAccountTemplate.charges,a.isChargesPatched=!0):a.chargesDataSource=[]})},e.prototype.ngOnChanges=function(){this.sharesAccountProductTemplate&&(this.chargeData=this.sharesAccountProductTemplate.charges)},e.prototype.addCharge=function(a){this.chargesDataSource=this.chargesDataSource.concat([a.value]),a.value="",this.pristine=!1},e.prototype.editCharge=function(a){var n=this,o=[new ue.M({controlName:"amount",label:"Amount",value:a.amount||a.amountOrPercentage,type:"number",required:!1})];this.dialog.open(se.E,{data:{title:"Edit Charge",layout:{addButtonText:"Confirm"},formfields:o}}).afterClosed().subscribe(function(u){if(u.data){var _=(0,f.pi)((0,f.pi)({},a),{amount:u.data.value.amount});n.chargesDataSource.splice(n.chargesDataSource.indexOf(a),1,_),n.chargesDataSource=n.chargesDataSource.concat([])}}),this.pristine=!1},e.prototype.deleteCharge=function(a){var n=this;this.dialog.open(B.F,{data:{deleteContext:"charge "+a.name}}).afterClosed().subscribe(function(r){r.delete&&(n.chargesDataSource.splice(n.chargesDataSource.indexOf(a),1),n.chargesDataSource=n.chargesDataSource.concat([]))}),this.pristine=!1},Object.defineProperty(e.prototype,"sharesAccountCharges",{get:function(){return{charges:this.chargesDataSource}},enumerable:!1,configurable:!0}),e.\u0275fac=function(n){return new(n||e)(t.Y36(T.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-shares-account-charges-step"]],inputs:{sharesAccountProductTemplate:"sharesAccountProductTemplate",sharesAccountTemplate:"sharesAccountTemplate",currencyCode:"currencyCode"},features:[t.TTD],decls:79,vars:10,consts:[["fxLayout","row wrap","fxLayoutGap","2%","fxLayout.lt-md","column"],["fxFlex","48%"],["charge",""],[3,"value",4,"ngFor","ngForOf"],["fxFlex","48%","fxFlexAlign","center"],["type","button","mat-raised-button","","color","primary",3,"disabled","click"],["icon","plus"],["fxFlex","98%","mat-table","",1,"mat-elevation-z1",3,"dataSource","hidden"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","chargeCalculationType"],["matColumnDef","amount"],["matColumnDef","chargeTimeType"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","center","fxLayoutGap","2%",1,"margin-t"],["mat-raised-button","","matStepperPrevious",""],["icon","arrow-left"],["mat-raised-button","","matStepperNext",""],["icon","arrow-right"],[3,"value"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","primary",3,"click"],["icon","pen"],["mat-icon-button","","color","warn",3,"click"],["icon","trash"],["mat-header-row",""],["mat-row",""]],template:function(n,o){if(1&n){var r=t.EpF();t.TgZ(0,"div",0),t._uU(1,"\n\n  "),t.TgZ(2,"mat-form-field",1),t._uU(3,"\n    "),t.TgZ(4,"mat-label"),t._uU(5,"Charge"),t.qZA(),t._uU(6,"\n    "),t.TgZ(7,"mat-select",null,2),t._uU(9,"\n      "),t.YNc(10,pe,2,2,"mat-option",3),t.ALo(11,"chargesFilter"),t._uU(12,"\n    "),t.qZA(),t._uU(13,"\n  "),t.qZA(),t._uU(14,"\n\n  "),t.TgZ(15,"div",4),t._uU(16,"\n    "),t.TgZ(17,"button",5),t.NdJ("click",function(){t.CHM(r);var _=t.MAs(8);return o.addCharge(_)}),t._uU(18,"\n      "),t._UZ(19,"fa-icon",6),t._uU(20,"\xa0\xa0\n      Add\n    "),t.qZA(),t._uU(21,"\n  "),t.qZA(),t._uU(22,"\n\n  "),t.TgZ(23,"table",7),t._uU(24,"\n\n    "),t.ynx(25,8),t._uU(26,"\n      "),t.YNc(27,le,2,0,"th",9),t._uU(28,"\n      "),t.YNc(29,he,2,1,"td",10),t._uU(30,"\n    "),t.BQk(),t._uU(31,"\n\n    "),t.ynx(32,11),t._uU(33,"\n      "),t.YNc(34,_e,2,0,"th",9),t._uU(35,"\n      "),t.YNc(36,de,2,1,"td",10),t._uU(37,"\n    "),t.BQk(),t._uU(38,"\n\n    "),t.ynx(39,12),t._uU(40,"\n      "),t.YNc(41,fe,2,0,"th",9),t._uU(42,"\n      "),t.YNc(43,Ae,7,1,"td",10),t._uU(44,"\n    "),t.BQk(),t._uU(45,"\n\n    "),t.ynx(46,13),t._uU(47,"\n      "),t.YNc(48,ge,2,0,"th",9),t._uU(49,"\n      "),t.YNc(50,Ue,2,1,"td",10),t._uU(51,"\n    "),t.BQk(),t._uU(52,"\n\n    "),t.ynx(53,14),t._uU(54,"\n      "),t.YNc(55,Te,2,0,"th",9),t._uU(56,"\n      "),t.YNc(57,ve,7,0,"td",10),t._uU(58,"\n    "),t.BQk(),t._uU(59,"\n\n    "),t.YNc(60,Ze,1,0,"tr",15),t._uU(61,"\n    "),t.YNc(62,Ce,1,0,"tr",16),t._uU(63,"\n\n  "),t.qZA(),t._uU(64,"\n\n"),t.qZA(),t._uU(65,"\n\n"),t.TgZ(66,"div",17),t._uU(67,"\n  "),t.TgZ(68,"button",18),t._uU(69,"\n    "),t._UZ(70,"fa-icon",19),t._uU(71,"\xa0\xa0\n    Previous\n  "),t.qZA(),t._uU(72,"\n  "),t.TgZ(73,"button",20),t._uU(74,"\n    Next\xa0\xa0\n    "),t._UZ(75,"fa-icon",21),t._uU(76,"\n  "),t.qZA(),t._uU(77,"\n"),t.qZA(),t._uU(78,"\n")}if(2&n){var c=t.MAs(8);t.xp6(10),t.Q6J("ngForOf",t.Dn7(11,6,o.chargeData,o.chargesDataSource,o.currencyCode.value)),t.xp6(7),t.Q6J("disabled",!c.value),t.xp6(6),t.Q6J("dataSource",o.chargesDataSource)("hidden",0===o.chargesDataSource.length),t.xp6(37),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(2),t.Q6J("matRowDefColumns",o.displayedColumns)}},directives:[m.xw,m.SQ,h.KE,m.yH,h.hX,Q.gD,g.sg,m.XD,v.lW,q.BN,s.BZ,s.w1,s.fO,s.Dz,s.as,s.nj,m.Wh,Z.fd,Z.Ic,J.ey,s.ge,s.ev,s.XQ,s.Gk],pipes:[me.A],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-elevation-z1[_ngcontent-%COMP%]{margin:1em 0 1.5em}.margin-t[_ngcontent-%COMP%]{margin-top:1em}"]}),e}(),x=p(92722),Se=p(27679),ye=p(48414);function xe(e,a){if(1&e&&(t.TgZ(0,"div",2),t._uU(1,"\n    "),t.TgZ(2,"span",3),t._uU(3,"Minimum Active Period"),t.qZA(),t._uU(4,"\n    "),t.TgZ(5,"span",4),t._uU(6),t.ALo(7,"find"),t.qZA(),t._uU(8,"\n  "),t.qZA()),2&e){var n=t.oxw();t.xp6(6),t.AsE("",n.sharesAccount.minimumActivePeriod,"\xa0",t.gM2(7,2,n.sharesAccount.minimumActivePeriodFrequencyType,n.sharesAccountProductTemplate.minimumActivePeriodFrequencyTypeOptions,"id","value"),"")}}function De(e,a){if(1&e&&(t.TgZ(0,"div",2),t._uU(1,"\n    "),t.TgZ(2,"span",3),t._uU(3,"Lock-in Period"),t.qZA(),t._uU(4,"\n    "),t.TgZ(5,"span",4),t._uU(6),t.ALo(7,"find"),t.qZA(),t._uU(8,"\n  "),t.qZA()),2&e){var n=t.oxw();t.xp6(6),t.AsE("",n.sharesAccount.lockinPeriodFrequency,"\xa0",t.gM2(7,2,n.sharesAccount.lockinPeriodFrequencyType,n.sharesAccountProductTemplate.lockinPeriodFrequencyTypeOptions,"id","value"),"")}}function be(e,a){1&e&&(t.TgZ(0,"th",22),t._uU(1," Name "),t.qZA())}function qe(e,a){if(1&e&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&e){var n=a.$implicit;t.xp6(1),t.hij("\n          ",n.name+", "+n.currency.displaySymbol,"\n        ")}}function Pe(e,a){1&e&&(t.TgZ(0,"th",22),t._uU(1," Type "),t.qZA())}function Fe(e,a){if(1&e&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&e){var n=a.$implicit;t.xp6(1),t.hij("\n          ",n.chargeCalculationType.value,"\n        ")}}function Ne(e,a){1&e&&(t.TgZ(0,"th",22),t._uU(1," Amount "),t.qZA())}function we(e,a){if(1&e&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&e){var n=a.$implicit;t.xp6(1),t.hij("\n          ",n.amount||n.amountOrPercentage,"\n        ")}}function Oe(e,a){1&e&&(t.TgZ(0,"th",22),t._uU(1," Collected On "),t.qZA())}function Ye(e,a){if(1&e&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&e){var n=a.$implicit;t.xp6(1),t.hij("\n          ",n.chargeTimeType.value,"\n        ")}}function ke(e,a){1&e&&t._UZ(0,"tr",24)}function Me(e,a){1&e&&t._UZ(0,"tr",25)}function Ie(e,a){if(1&e&&(t.TgZ(0,"div",12),t._uU(1,"\n\n    "),t.TgZ(2,"h3",1),t._uU(3,"Charges"),t.qZA(),t._uU(4,"\n\n    "),t._UZ(5,"mat-divider",2),t._uU(6,"\n\n    "),t.TgZ(7,"table",13),t._uU(8,"\n\n      "),t.ynx(9,14),t._uU(10,"\n        "),t.YNc(11,be,2,0,"th",15),t._uU(12,"\n        "),t.YNc(13,qe,2,1,"td",16),t._uU(14,"\n      "),t.BQk(),t._uU(15,"\n\n      "),t.ynx(16,17),t._uU(17,"\n        "),t.YNc(18,Pe,2,0,"th",15),t._uU(19,"\n        "),t.YNc(20,Fe,2,1,"td",16),t._uU(21,"\n      "),t.BQk(),t._uU(22,"\n\n      "),t.ynx(23,18),t._uU(24,"\n        "),t.YNc(25,Ne,2,0,"th",15),t._uU(26,"\n        "),t.YNc(27,we,2,1,"td",16),t._uU(28,"\n      "),t.BQk(),t._uU(29,"\n\n      "),t.ynx(30,19),t._uU(31,"\n        "),t.YNc(32,Oe,2,0,"th",15),t._uU(33,"\n        "),t.YNc(34,Ye,2,1,"td",16),t._uU(35,"\n      "),t.BQk(),t._uU(36,"\n\n      "),t.YNc(37,ke,1,0,"tr",20),t._uU(38,"\n      "),t.YNc(39,Me,1,0,"tr",21),t._uU(40,"\n\n    "),t.qZA(),t._uU(41,"\n\n  "),t.qZA()),2&e){var n=t.oxw();t.xp6(7),t.Q6J("dataSource",n.sharesAccount.charges),t.xp6(30),t.Q6J("matHeaderRowDef",n.chargesDisplayedColumns),t.xp6(2),t.Q6J("matRowDefColumns",n.chargesDisplayedColumns)}}var Re=function(e){return[e]},Qe=function(){return["../"]},G=function(){function e(){this.chargesDisplayedColumns=["name","chargeCalculationType","amount","chargeTimeType"],this.submit=new t.vpe}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-shares-account-preview-step"]],inputs:{sharesAccountProductTemplate:"sharesAccountProductTemplate",sharesAccountTemplate:"sharesAccountTemplate",sharesAccountTermsForm:"sharesAccountTermsForm",sharesAccount:"sharesAccount"},outputs:{submit:"submit"},decls:137,vars:37,consts:[["fxLayout","row wrap","fxLayout.lt-md","column"],["fxFlexFill","",1,"mat-h3"],["fxFlexFill",""],["fxFlex","40%"],["fxFlex","60%"],["fxFlexFill","",4,"ngIf"],["fxFlexFill","","fxLayout","row wrap","fxLayout.lt-md","column",4,"ngIf"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","center","fxLayoutGap","2%",1,"margin-t"],["mat-raised-button","","matStepperPrevious",""],["icon","arrow-left"],["mat-raised-button","",3,"routerLink"],["mat-raised-button","","color","primary",3,"click"],["fxFlexFill","","fxLayout","row wrap","fxLayout.lt-md","column"],["fxFlexFill","","mat-table","",1,"mat-elevation-z1",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","chargeCalculationType"],["matColumnDef","amount"],["matColumnDef","chargeTimeType"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t._uU(1,"\n\n  "),t.TgZ(2,"h3",1),t._uU(3,"Details"),t.qZA(),t._uU(4,"\n\n  "),t._UZ(5,"mat-divider",2),t._uU(6,"\n\n  "),t.TgZ(7,"div",2),t._uU(8,"\n    "),t.TgZ(9,"span",3),t._uU(10,"Product"),t.qZA(),t._uU(11,"\n    "),t.TgZ(12,"span",4),t._uU(13),t.ALo(14,"find"),t.qZA(),t._uU(15,"\n  "),t.qZA(),t._uU(16,"\n\n  "),t.TgZ(17,"div",2),t._uU(18,"\n    "),t.TgZ(19,"span",3),t._uU(20,"Submitted On"),t.qZA(),t._uU(21,"\n    "),t.TgZ(22,"span",4),t._uU(23),t.ALo(24,"dateFormat"),t.qZA(),t._uU(25,"\n  "),t.qZA(),t._uU(26,"\n\n  "),t.TgZ(27,"div",2),t._uU(28,"\n    "),t.TgZ(29,"span",3),t._uU(30,"External Id"),t.qZA(),t._uU(31,"\n    "),t.TgZ(32,"span",4),t._uU(33),t.qZA(),t._uU(34,"\n  "),t.qZA(),t._uU(35,"\n\n  "),t.TgZ(36,"h3",1),t._uU(37,"Terms"),t.qZA(),t._uU(38,"\n\n  "),t._UZ(39,"mat-divider",2),t._uU(40,"\n\n  "),t.TgZ(41,"div",2),t._uU(42,"\n    "),t.TgZ(43,"span",3),t._uU(44,"Currency"),t.qZA(),t._uU(45,"\n    "),t.TgZ(46,"span",4),t._uU(47),t.ALo(48,"find"),t.qZA(),t._uU(49,"\n  "),t.qZA(),t._uU(50,"\n\n  "),t.TgZ(51,"div",2),t._uU(52,"\n    "),t.TgZ(53,"span",3),t._uU(54,"Decimal Places"),t.qZA(),t._uU(55,"\n    "),t.TgZ(56,"span",4),t._uU(57),t.qZA(),t._uU(58,"\n  "),t.qZA(),t._uU(59,"\n\n  "),t.TgZ(60,"div",2),t._uU(61,"\n    "),t.TgZ(62,"span",3),t._uU(63,"Total Number of Shares"),t.qZA(),t._uU(64,"\n    "),t.TgZ(65,"span",4),t._uU(66),t.qZA(),t._uU(67,"\n  "),t.qZA(),t._uU(68,"\n\n  "),t.TgZ(69,"div",2),t._uU(70,"\n    "),t.TgZ(71,"span",3),t._uU(72,"Today's Price"),t.qZA(),t._uU(73,"\n    "),t.TgZ(74,"span",4),t._uU(75),t.qZA(),t._uU(76,"\n  "),t.qZA(),t._uU(77,"\n\n  "),t.TgZ(78,"div",2),t._uU(79,"\n    "),t.TgZ(80,"span",3),t._uU(81,"Currency in multiples of"),t.qZA(),t._uU(82,"\n    "),t.TgZ(83,"span",4),t._uU(84),t.qZA(),t._uU(85,"\n  "),t.qZA(),t._uU(86,"\n\n  "),t.TgZ(87,"div",2),t._uU(88,"\n    "),t.TgZ(89,"span",3),t._uU(90,"Default Savings Account"),t.qZA(),t._uU(91,"\n    "),t.TgZ(92,"span",4),t._uU(93),t.ALo(94,"find"),t.qZA(),t._uU(95,"\n  "),t.qZA(),t._uU(96,"\n\n  "),t.YNc(97,xe,9,7,"div",5),t._uU(98,"\n\n  "),t.YNc(99,De,9,7,"div",5),t._uU(100,"\n\n  "),t.TgZ(101,"div",2),t._uU(102,"\n    "),t.TgZ(103,"span",3),t._uU(104,"Application Date"),t.qZA(),t._uU(105,"\n    "),t.TgZ(106,"span",4),t._uU(107),t.ALo(108,"dateFormat"),t.qZA(),t._uU(109,"\n  "),t.qZA(),t._uU(110,"\n\n  "),t.TgZ(111,"div",2),t._uU(112,"\n    "),t.TgZ(113,"span",3),t._uU(114,"Allow dividends for inactive clients"),t.qZA(),t._uU(115,"\n    "),t.TgZ(116,"span",4),t._uU(117),t.qZA(),t._uU(118,"\n  "),t.qZA(),t._uU(119,"\n\n  "),t.YNc(120,Ie,42,3,"div",6),t._uU(121,"\n\n"),t.qZA(),t._uU(122,"\n\n"),t.TgZ(123,"div",7),t._uU(124,"\n  "),t.TgZ(125,"button",8),t._uU(126,"\n    "),t._UZ(127,"fa-icon",9),t._uU(128,"\xa0\xa0\n    Previous\n  "),t.qZA(),t._uU(129,"\n  "),t.TgZ(130,"button",10),t._uU(131,"\n    Cancel\n  "),t.qZA(),t._uU(132,"\n  "),t.TgZ(133,"button",11),t.NdJ("click",function(){return o.submit.emit()}),t._uU(134,"\n    Submit\n  "),t.qZA(),t._uU(135,"\n"),t.qZA(),t._uU(136,"\n")),2&n&&(t.xp6(13),t.Oqu(t.gM2(14,15,o.sharesAccount.productId,o.sharesAccountTemplate.productOptions,"id","name")),t.xp6(10),t.Oqu(t.lcZ(24,20,o.sharesAccount.submittedDate)),t.xp6(10),t.Oqu(o.sharesAccount.externalId||"Unassigned"),t.xp6(14),t.Oqu(t.gM2(48,22,o.sharesAccountTermsForm.get("currencyCode").value,t.VKq(34,Re,o.sharesAccountProductTemplate.currency),"code","displayLabel")),t.xp6(10),t.Oqu(o.sharesAccountTermsForm.get("decimal").value),t.xp6(9),t.Oqu(o.sharesAccount.requestedShares),t.xp6(9),t.Oqu(o.sharesAccountTermsForm.get("unitPrice").value),t.xp6(9),t.Oqu(o.sharesAccountTermsForm.get("currencyMultiple").value),t.xp6(9),t.Oqu(t.gM2(94,27,o.sharesAccount.savingsAccountId,o.sharesAccountProductTemplate.clientSavingsAccounts,"id","accountNo")),t.xp6(4),t.Q6J("ngIf",o.sharesAccount.minimumActivePeriod),t.xp6(2),t.Q6J("ngIf",o.sharesAccount.lockinPeriodFrequency),t.xp6(8),t.Oqu(t.lcZ(108,32,o.sharesAccount.applicationDate)),t.xp6(10),t.Oqu(o.sharesAccount.allowDividendCalculationForInactiveClients),t.xp6(3),t.Q6J("ngIf",o.sharesAccount.charges.length),t.xp6(10),t.Q6J("routerLink",t.DdM(36,Qe)))},directives:[m.xw,m.s9,Se.d,m.yH,g.O5,m.Wh,m.SQ,v.lW,Z.fd,q.BN,l.rH,s.BZ,s.w1,s.fO,s.Dz,s.as,s.nj,s.ge,s.ev,s.XQ,s.Gk],pipes:[ye.Z,b.E],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-elevation-z1[_ngcontent-%COMP%]{margin:1em 0 1.5em}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin:0;font-weight:500}span[_ngcontent-%COMP%]{margin:.5em 0}mat-divider[_ngcontent-%COMP%]{margin:0 0 .5em}.margin-t[_ngcontent-%COMP%]{margin-top:1em}"]}),e}();function Je(e,a){1&e&&(t._uU(0,"\n      "),t._UZ(1,"fa-icon",14),t._uU(2,"\n    "))}function Le(e,a){1&e&&(t._uU(0,"\n      "),t._UZ(1,"fa-icon",14),t._uU(2,"\n    "))}function je(e,a){1&e&&(t._uU(0,"\n      "),t._UZ(1,"fa-icon",15),t._uU(2,"\n    "))}function Ee(e,a){1&e&&(t._uU(0,"\n      "),t._UZ(1,"fa-icon",16),t._uU(2,"\n    "))}function Be(e,a){1&e&&(t._uU(0,"\n      "),t._UZ(1,"fa-icon",17),t._uU(2,"\n    "))}function He(e,a){1&e&&t._uU(0,"DETAILS")}function Ge(e,a){1&e&&t._uU(0,"TERMS")}function ze(e,a){1&e&&t._uU(0,"CHARGES")}function $e(e,a){1&e&&t._uU(0,"PREVIEW")}function We(e,a){if(1&e){var n=t.EpF();t.TgZ(0,"mat-step",18),t._uU(1,"\n\n      "),t.YNc(2,$e,1,0,"ng-template",9),t._uU(3,"\n\n      "),t.TgZ(4,"mifosx-shares-account-preview-step",19),t.NdJ("submit",function(){return t.CHM(n),t.oxw().submit()}),t._uU(5,"\n      "),t.qZA(),t._uU(6,"\n\n    "),t.qZA()}if(2&e){var o=t.oxw();t.xp6(4),t.Q6J("sharesAccountProductTemplate",o.sharesAccountProductTemplate)("sharesAccountTemplate",o.sharesAccountTemplate)("sharesAccountTermsForm",o.sharesAccountTermsForm)("sharesAccount",o.sharesAccount)}}var Ve=function(){function e(a,n,o,r,c){var u=this;this.route=a,this.router=n,this.dateUtils=o,this.sharesService=r,this.settingsService=c,this.route.data.subscribe(function(_){u.sharesAccountTemplate=_.sharesAccountTemplate})}return e.prototype.setTemplate=function(a){this.sharesAccountProductTemplate=a},Object.defineProperty(e.prototype,"sharesAccountDetailsForm",{get:function(){return this.sharesAccountDetailsStep.sharesAccountDetailsForm},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sharesAccountTermsForm",{get:function(){return this.sharesAccountTermsStep.sharesAccountTermsForm},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sharesAccountFormValid",{get:function(){return this.sharesAccountDetailsForm.valid&&this.sharesAccountTermsForm.valid},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sharesAccount",{get:function(){return(0,f.pi)((0,f.pi)((0,f.pi)({},this.sharesAccountDetailsStep.sharesAccountDetails),this.sharesAccountTermsStep.sharesAccountTerms),this.sharesAccountChargesStep.sharesAccountCharges)},enumerable:!1,configurable:!0}),e.prototype.submit=function(){var a=this,n=this.settingsService.language.code,o=this.settingsService.dateFormat,r=(0,f.pi)((0,f.pi)({},this.sharesAccount),{clientId:this.sharesAccountTemplate.clientId,charges:this.sharesAccount.charges.map(function(c){return{chargeId:c.chargeId,amount:c.amount}}),applicationDate:this.dateUtils.formatDate(this.sharesAccount.applicationDate,o),submittedDate:this.dateUtils.formatDate(this.sharesAccount.submittedDate,o),unitPrice:this.sharesAccountTermsForm.get("unitPrice").value,dateFormat:o,locale:n});this.sharesService.createSharesAccount(r).subscribe(function(c){a.router.navigate(["../",c.resourceId],{relativeTo:a.route})})},e.\u0275fac=function(n){return new(n||e)(t.Y36(l.gz),t.Y36(l.F0),t.Y36(x.L),t.Y36(U),t.Y36(C.g))},e.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-create-shares-account"]],viewQuery:function(n,o){if(1&n&&(t.Gf(N,7),t.Gf(w,7),t.Gf(O,7)),2&n){var r=void 0;t.iGM(r=t.CRH())&&(o.sharesAccountDetailsStep=r.first),t.iGM(r=t.CRH())&&(o.sharesAccountTermsStep=r.first),t.iGM(r=t.CRH())&&(o.sharesAccountChargesStep=r.first)}},decls:42,vars:8,consts:[[1,"container"],["labelPosition","bottom",1,"mat-elevation-z8"],["shareProductStepper",""],["matStepperIcon","number"],["matStepperIcon","edit"],["matStepperIcon","done"],["matStepperIcon","error"],["matStepperIcon","preview"],[3,"stepControl"],["matStepLabel",""],[3,"sharesAccountTemplate","sharesAccountProductTemplate"],[3,"sharesAccountProductTemplate"],[3,"sharesAccountProductTemplate","sharesAccountTemplate","currencyCode"],["completed","",4,"ngIf"],["icon","pencil-alt","size","sm"],["icon","check","size","sm"],["icon","exclamation-triangle","size","lg"],["icon","eye","size","sm"],["completed",""],[3,"sharesAccountProductTemplate","sharesAccountTemplate","sharesAccountTermsForm","sharesAccount","submit"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t._uU(1,"\n\n  "),t.TgZ(2,"mat-horizontal-stepper",1,2),t._uU(4,"\n\n    "),t.YNc(5,Je,3,0,"ng-template",3),t._uU(6,"\n\n    "),t.YNc(7,Le,3,0,"ng-template",4),t._uU(8,"\n\n    "),t.YNc(9,je,3,0,"ng-template",5),t._uU(10,"\n\n    "),t.YNc(11,Ee,3,0,"ng-template",6),t._uU(12,"\n\n    "),t.YNc(13,Be,3,0,"ng-template",7),t._uU(14,"\n\n    "),t.TgZ(15,"mat-step",8),t._uU(16,"\n\n      "),t.YNc(17,He,1,0,"ng-template",9),t._uU(18,"\n\n      "),t.TgZ(19,"mifosx-shares-account-details-step",10),t.NdJ("sharesAccountProductTemplate",function(c){return o.setTemplate(c)}),t._uU(20,"\n      "),t.qZA(),t._uU(21,"\n\n    "),t.qZA(),t._uU(22,"\n\n    "),t.TgZ(23,"mat-step",8),t._uU(24,"\n\n      "),t.YNc(25,Ge,1,0,"ng-template",9),t._uU(26,"\n\n      "),t._UZ(27,"mifosx-shares-account-terms-step",11),t._uU(28,"\n\n    "),t.qZA(),t._uU(29,"\n\n    "),t.TgZ(30,"mat-step"),t._uU(31,"\n\n      "),t.YNc(32,ze,1,0,"ng-template",9),t._uU(33,"\n\n      "),t.TgZ(34,"mifosx-shares-account-charges-step",12),t._uU(35,"\n      "),t.qZA(),t._uU(36,"\n\n    "),t.qZA(),t._uU(37,"\n\n    "),t.YNc(38,We,7,4,"mat-step",13),t._uU(39,"\n\n  "),t.qZA(),t._uU(40,"\n\n"),t.qZA(),t._uU(41,"\n")),2&n&&(t.xp6(15),t.Q6J("stepControl",o.sharesAccountDetailsForm),t.xp6(4),t.Q6J("sharesAccountTemplate",o.sharesAccountTemplate),t.xp6(4),t.Q6J("stepControl",o.sharesAccountTermsForm),t.xp6(4),t.Q6J("sharesAccountProductTemplate",o.sharesAccountProductTemplate),t.xp6(7),t.Q6J("sharesAccountProductTemplate",o.sharesAccountProductTemplate)("sharesAccountTemplate",o.sharesAccountTemplate)("currencyCode",o.sharesAccountTermsForm.get("currencyCode")),t.xp6(4),t.Q6J("ngIf",o.sharesAccountFormValid))},directives:[Z.Vq,Z.z9,Z.C0,Z.VY,N,w,O,g.O5,q.BN,G],styles:[""]}),e}();function Xe(e,a){1&e&&(t._uU(0,"\n      "),t._UZ(1,"fa-icon",14),t._uU(2,"\n    "))}function Ke(e,a){1&e&&(t._uU(0,"\n      "),t._UZ(1,"fa-icon",14),t._uU(2,"\n    "))}function tn(e,a){1&e&&(t._uU(0,"\n      "),t._UZ(1,"fa-icon",15),t._uU(2,"\n    "))}function en(e,a){1&e&&(t._uU(0,"\n      "),t._UZ(1,"fa-icon",16),t._uU(2,"\n    "))}function nn(e,a){1&e&&(t._uU(0,"\n      "),t._UZ(1,"fa-icon",17),t._uU(2,"\n    "))}function an(e,a){1&e&&t._uU(0,"DETAILS")}function on(e,a){1&e&&t._uU(0,"TERMS")}function rn(e,a){1&e&&t._uU(0,"CHARGES")}function cn(e,a){1&e&&t._uU(0,"PREVIEW")}function sn(e,a){if(1&e){var n=t.EpF();t.TgZ(0,"mat-step",18),t._uU(1,"\n\n      "),t.YNc(2,cn,1,0,"ng-template",9),t._uU(3,"\n\n      "),t.TgZ(4,"mifosx-shares-account-preview-step",19),t.NdJ("submit",function(){return t.CHM(n),t.oxw().submit()}),t._uU(5,"\n      "),t.qZA(),t._uU(6,"\n\n    "),t.qZA()}if(2&e){var o=t.oxw();t.xp6(4),t.Q6J("sharesAccountProductTemplate",o.sharesAccountProductTemplate)("sharesAccountTemplate",o.sharesAccountAndTemplate)("sharesAccountTermsForm",o.sharesAccountTermsForm)("sharesAccount",o.sharesAccount)}}var un=function(){function e(a,n,o,r,c){var u=this;this.route=a,this.router=n,this.dateUtils=o,this.sharesService=r,this.settingsService=c,this.route.data.subscribe(function(_){u.sharesAccountAndTemplate=_.sharesAccountAndTemplate})}return e.prototype.setTemplate=function(a){this.sharesAccountProductTemplate=a},Object.defineProperty(e.prototype,"sharesAccountDetailsForm",{get:function(){return this.sharesAccountDetailsStep.sharesAccountDetailsForm},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sharesAccountTermsForm",{get:function(){return this.sharesAccountTermsStep.sharesAccountTermsForm},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sharesAccountFormValidAndNotPristine",{get:function(){return this.sharesAccountDetailsForm.valid&&this.sharesAccountTermsForm.valid&&(!this.sharesAccountDetailsForm.pristine||!this.sharesAccountTermsForm.pristine||!this.sharesAccountChargesStep.pristine)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sharesAccount",{get:function(){return(0,f.pi)((0,f.pi)((0,f.pi)({},this.sharesAccountDetailsStep.sharesAccountDetails),this.sharesAccountTermsStep.sharesAccountTerms),this.sharesAccountChargesStep.sharesAccountCharges)},enumerable:!1,configurable:!0}),e.prototype.submit=function(){var a=this,n=this.settingsService.language.code,o=this.settingsService.dateFormat,r=(0,f.pi)((0,f.pi)({},this.sharesAccount),{clientId:this.sharesAccountAndTemplate.clientId,charges:this.sharesAccount.charges.map(function(c){return{chargeId:c.chargeId,amount:c.amount}}),applicationDate:this.dateUtils.formatDate(this.sharesAccount.applicationDate,o),submittedDate:this.dateUtils.formatDate(this.sharesAccount.submittedDate,o),unitPrice:this.sharesAccountTermsForm.get("unitPrice").value,dateFormat:o,locale:n});this.sharesService.updateSharesAccount(this.sharesAccountAndTemplate.id,r).subscribe(function(c){a.router.navigate(["../"],{relativeTo:a.route})})},e.\u0275fac=function(n){return new(n||e)(t.Y36(l.gz),t.Y36(l.F0),t.Y36(x.L),t.Y36(U),t.Y36(C.g))},e.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-edit-shares-account"]],viewQuery:function(n,o){if(1&n&&(t.Gf(N,7),t.Gf(w,7),t.Gf(O,7)),2&n){var r=void 0;t.iGM(r=t.CRH())&&(o.sharesAccountDetailsStep=r.first),t.iGM(r=t.CRH())&&(o.sharesAccountTermsStep=r.first),t.iGM(r=t.CRH())&&(o.sharesAccountChargesStep=r.first)}},decls:43,vars:9,consts:[[1,"container"],["labelPosition","bottom",1,"mat-elevation-z8"],["shareProductStepper",""],["matStepperIcon","number"],["matStepperIcon","edit"],["matStepperIcon","done"],["matStepperIcon","error"],["matStepperIcon","preview"],[3,"stepControl"],["matStepLabel",""],[3,"sharesAccountTemplate","sharesAccountProductTemplate"],[3,"sharesAccountProductTemplate","sharesAccountTemplate"],[3,"sharesAccountProductTemplate","sharesAccountTemplate","currencyCode"],["completed","",4,"ngIf"],["icon","pencil-alt","size","sm"],["icon","check","size","sm"],["icon","exclamation-triangle","size","lg"],["icon","eye","size","sm"],["completed",""],[3,"sharesAccountProductTemplate","sharesAccountTemplate","sharesAccountTermsForm","sharesAccount","submit"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t._uU(1,"\n\n  "),t.TgZ(2,"mat-horizontal-stepper",1,2),t._uU(4,"\n\n    "),t.YNc(5,Xe,3,0,"ng-template",3),t._uU(6,"\n\n    "),t.YNc(7,Ke,3,0,"ng-template",4),t._uU(8,"\n\n    "),t.YNc(9,tn,3,0,"ng-template",5),t._uU(10,"\n\n    "),t.YNc(11,en,3,0,"ng-template",6),t._uU(12,"\n\n    "),t.YNc(13,nn,3,0,"ng-template",7),t._uU(14,"\n\n    "),t.TgZ(15,"mat-step",8),t._uU(16,"\n\n      "),t.YNc(17,an,1,0,"ng-template",9),t._uU(18,"\n\n      "),t.TgZ(19,"mifosx-shares-account-details-step",10),t.NdJ("sharesAccountProductTemplate",function(c){return o.setTemplate(c)}),t._uU(20,"\n      "),t.qZA(),t._uU(21,"\n\n    "),t.qZA(),t._uU(22,"\n\n    "),t.TgZ(23,"mat-step",8),t._uU(24,"\n\n      "),t.YNc(25,on,1,0,"ng-template",9),t._uU(26,"\n\n      "),t.TgZ(27,"mifosx-shares-account-terms-step",11),t._uU(28,"\n      "),t.qZA(),t._uU(29,"\n\n    "),t.qZA(),t._uU(30,"\n\n    "),t.TgZ(31,"mat-step"),t._uU(32,"\n\n      "),t.YNc(33,rn,1,0,"ng-template",9),t._uU(34,"\n\n      "),t.TgZ(35,"mifosx-shares-account-charges-step",12),t._uU(36,"\n      "),t.qZA(),t._uU(37,"\n\n    "),t.qZA(),t._uU(38,"\n\n    "),t.YNc(39,sn,7,4,"mat-step",13),t._uU(40,"\n\n  "),t.qZA(),t._uU(41,"\n\n"),t.qZA(),t._uU(42,"\n")),2&n&&(t.xp6(15),t.Q6J("stepControl",o.sharesAccountDetailsForm),t.xp6(4),t.Q6J("sharesAccountTemplate",o.sharesAccountAndTemplate),t.xp6(4),t.Q6J("stepControl",o.sharesAccountTermsForm),t.xp6(4),t.Q6J("sharesAccountProductTemplate",o.sharesAccountProductTemplate)("sharesAccountTemplate",o.sharesAccountAndTemplate),t.xp6(8),t.Q6J("sharesAccountProductTemplate",o.sharesAccountProductTemplate)("sharesAccountTemplate",o.sharesAccountAndTemplate)("currencyCode",o.sharesAccountTermsForm.get("currencyCode")),t.xp6(4),t.Q6J("ngIf",o.sharesAccountFormValidAndNotPristine))},directives:[Z.Vq,Z.z9,Z.C0,Z.VY,N,w,O,g.O5,q.BN,G],styles:[""]}),e}();function mn(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"\n              Approved On Date is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA(),t._uU(4,"\n            "),t.qZA())}var pn=function(){return["../../"]},ln=function(){function e(a,n,o,r,c,u){this.formBuilder=a,this.sharesService=n,this.dateUtils=o,this.route=r,this.router=c,this.settingsService=u,this.minDate=new Date(2e3,0,1),this.maxDate=new Date,this.accountId=this.route.parent.snapshot.params.shareAccountId}return e.prototype.ngOnInit=function(){this.maxDate=this.settingsService.businessDate,this.createApproveSharesAccountForm()},e.prototype.createApproveSharesAccountForm=function(){this.approveSharesAccountForm=this.formBuilder.group({approvedDate:["",i.kI.required],note:[""]})},e.prototype.submit=function(){var a=this,n=this.approveSharesAccountForm.value,o=this.settingsService.language.code,r=this.settingsService.dateFormat;n.approvedDate instanceof Date&&(n.approvedDate=this.dateUtils.formatDate(this.approveSharesAccountForm.value.approvedDate,r));var u=(0,f.pi)((0,f.pi)({},n),{dateFormat:r,locale:o});this.sharesService.executeSharesAccountCommand(this.accountId,"approve",u).subscribe(function(){a.router.navigate(["../../"],{relativeTo:a.route})})},e.\u0275fac=function(n){return new(n||e)(t.Y36(i.qu),t.Y36(U),t.Y36(x.L),t.Y36(l.gz),t.Y36(l.F0),t.Y36(C.g))},e.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-approve-shares-account"]],decls:47,vars:9,consts:[[1,"container"],[3,"formGroup","ngSubmit"],["fxLayout","column"],[3,"click"],["matInput","","required","","formControlName","approvedDate",3,"min","max","matDatepicker"],["matSuffix","",3,"for"],["approvedDatePicker",""],[4,"ngIf"],["matInput","","formControlName","note"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","center","fxLayoutGap","5px"],["type","button","mat-raised-button","",3,"routerLink"],["mat-raised-button","","color","accent",3,"disabled"]],template:function(n,o){if(1&n){var r=t.EpF();t.TgZ(0,"div",0),t._uU(1,"\n\n  "),t.TgZ(2,"mat-card"),t._uU(3,"\n\n    "),t.TgZ(4,"form",1),t.NdJ("ngSubmit",function(){return o.submit()}),t._uU(5,"\n\n      "),t.TgZ(6,"mat-card-content"),t._uU(7,"\n\n        "),t.TgZ(8,"div",2),t._uU(9,"\n\n          "),t.TgZ(10,"mat-form-field",3),t.NdJ("click",function(){return t.CHM(r),t.MAs(20).open()}),t._uU(11,"\n            "),t.TgZ(12,"mat-label"),t._uU(13,"Approved On Date"),t.qZA(),t._uU(14,"\n            "),t._UZ(15,"input",4),t._uU(16,"\n            "),t._UZ(17,"mat-datepicker-toggle",5),t._uU(18,"\n            "),t._UZ(19,"mat-datepicker",null,6),t._uU(21,"\n            "),t.YNc(22,mn,5,0,"mat-error",7),t._uU(23,"\n          "),t.qZA(),t._uU(24,"\n\n          "),t.TgZ(25,"mat-form-field"),t._uU(26,"\n            "),t.TgZ(27,"mat-label"),t._uU(28,"Note"),t.qZA(),t._uU(29,"\n            "),t._UZ(30,"textarea",8),t._uU(31,"\n          "),t.qZA(),t._uU(32,"\n\n        "),t.qZA(),t._uU(33,"\n\n      "),t.qZA(),t._uU(34,"\n\n      "),t.TgZ(35,"mat-card-actions",9),t._uU(36,"\n        "),t.TgZ(37,"button",10),t._uU(38,"Cancel"),t.qZA(),t._uU(39,"\n        "),t.TgZ(40,"button",11),t._uU(41,"Confirm"),t.qZA(),t._uU(42,"\n      "),t.qZA(),t._uU(43,"\n\n    "),t.qZA(),t._uU(44,"\n\n  "),t.qZA(),t._uU(45,"\n\n"),t.qZA(),t._uU(46,"\n")}if(2&n){var c=t.MAs(20);t.xp6(4),t.Q6J("formGroup",o.approveSharesAccountForm),t.xp6(11),t.Q6J("min",o.minDate)("max",o.maxDate)("matDatepicker",c),t.xp6(2),t.Q6J("for",c),t.xp6(5),t.Q6J("ngIf",o.approveSharesAccountForm.controls.approvedDate.hasError("required")),t.xp6(15),t.Q6J("routerLink",t.DdM(8,pn)),t.xp6(3),t.Q6J("disabled",!o.approveSharesAccountForm.valid)}},directives:[d.a8,i._Y,i.JL,i.sg,d.dn,m.xw,h.KE,h.hX,y.Nt,i.Fj,A.hl,i.Q7,i.JJ,i.u,A.nW,h.R9,A.Mq,g.O5,d.hq,m.Wh,m.SQ,v.lW,l.rH,h.TO],styles:[".container[_ngcontent-%COMP%]{max-width:37rem}"]}),e}();function hn(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"\n              Rejected On Date is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA(),t._uU(4,"\n            "),t.qZA())}var _n=function(){return["../../"]},dn=function(){function e(a,n,o,r,c,u){this.formBuilder=a,this.sharesService=n,this.dateUtils=o,this.route=r,this.router=c,this.settingsService=u,this.minDate=new Date(2e3,0,1),this.maxDate=new Date,this.accountId=this.route.parent.snapshot.params.shareAccountId}return e.prototype.ngOnInit=function(){this.maxDate=this.settingsService.businessDate,this.createRejectSharesAccountForm()},e.prototype.createRejectSharesAccountForm=function(){this.rejectSharesAccountForm=this.formBuilder.group({rejectedDate:["",i.kI.required],note:[""]})},e.prototype.submit=function(){var a=this,n=this.rejectSharesAccountForm.value,o=this.settingsService.language.code,r=this.settingsService.dateFormat;n.rejectedDate instanceof Date&&(n.rejectedDate=this.dateUtils.formatDate(this.rejectSharesAccountForm.value.rejectedDate,r));var u=(0,f.pi)((0,f.pi)({},n),{dateFormat:r,locale:o});this.sharesService.executeSharesAccountCommand(this.accountId,"reject",u).subscribe(function(){a.router.navigate(["../../"],{relativeTo:a.route})})},e.\u0275fac=function(n){return new(n||e)(t.Y36(i.qu),t.Y36(U),t.Y36(x.L),t.Y36(l.gz),t.Y36(l.F0),t.Y36(C.g))},e.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-reject-shares-account"]],decls:47,vars:9,consts:[[1,"container"],[3,"formGroup","ngSubmit"],["fxLayout","column"],[3,"click"],["matInput","","required","","formControlName","rejectedDate",3,"min","max","matDatepicker"],["matSuffix","",3,"for"],["rejectedDatePicker",""],[4,"ngIf"],["matInput","","formControlName","note"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","center","fxLayoutGap","5px"],["type","button","mat-raised-button","",3,"routerLink"],["mat-raised-button","","color","warn",3,"disabled"]],template:function(n,o){if(1&n){var r=t.EpF();t.TgZ(0,"div",0),t._uU(1,"\n\n  "),t.TgZ(2,"mat-card"),t._uU(3,"\n\n    "),t.TgZ(4,"form",1),t.NdJ("ngSubmit",function(){return o.submit()}),t._uU(5,"\n\n      "),t.TgZ(6,"mat-card-content"),t._uU(7,"\n\n        "),t.TgZ(8,"div",2),t._uU(9,"\n\n          "),t.TgZ(10,"mat-form-field",3),t.NdJ("click",function(){return t.CHM(r),t.MAs(20).open()}),t._uU(11,"\n            "),t.TgZ(12,"mat-label"),t._uU(13,"Rejected On Date"),t.qZA(),t._uU(14,"\n            "),t._UZ(15,"input",4),t._uU(16,"\n            "),t._UZ(17,"mat-datepicker-toggle",5),t._uU(18,"\n            "),t._UZ(19,"mat-datepicker",null,6),t._uU(21,"\n            "),t.YNc(22,hn,5,0,"mat-error",7),t._uU(23,"\n          "),t.qZA(),t._uU(24,"\n\n          "),t.TgZ(25,"mat-form-field"),t._uU(26,"\n            "),t.TgZ(27,"mat-label"),t._uU(28,"Note"),t.qZA(),t._uU(29,"\n            "),t._UZ(30,"textarea",8),t._uU(31,"\n          "),t.qZA(),t._uU(32,"\n\n        "),t.qZA(),t._uU(33,"\n\n      "),t.qZA(),t._uU(34,"\n\n      "),t.TgZ(35,"mat-card-actions",9),t._uU(36,"\n        "),t.TgZ(37,"button",10),t._uU(38,"Cancel"),t.qZA(),t._uU(39,"\n        "),t.TgZ(40,"button",11),t._uU(41,"Confirm"),t.qZA(),t._uU(42,"\n      "),t.qZA(),t._uU(43,"\n\n    "),t.qZA(),t._uU(44,"\n\n  "),t.qZA(),t._uU(45,"\n\n"),t.qZA(),t._uU(46,"\n")}if(2&n){var c=t.MAs(20);t.xp6(4),t.Q6J("formGroup",o.rejectSharesAccountForm),t.xp6(11),t.Q6J("min",o.minDate)("max",o.maxDate)("matDatepicker",c),t.xp6(2),t.Q6J("for",c),t.xp6(5),t.Q6J("ngIf",o.rejectSharesAccountForm.controls.rejectedDate.hasError("required")),t.xp6(15),t.Q6J("routerLink",t.DdM(8,_n)),t.xp6(3),t.Q6J("disabled",!o.rejectSharesAccountForm.valid)}},directives:[d.a8,i._Y,i.JL,i.sg,d.dn,m.xw,h.KE,h.hX,y.Nt,i.Fj,A.hl,i.Q7,i.JJ,i.u,A.nW,h.R9,A.Mq,g.O5,d.hq,m.Wh,m.SQ,v.lW,l.rH,h.TO],styles:[".container[_ngcontent-%COMP%]{max-width:37rem}"]}),e}();function fn(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"\n              Closed On Date is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA(),t._uU(4,"\n            "),t.qZA())}var An=function(){return["../../"]},gn=function(){function e(a,n,o,r,c,u){this.formBuilder=a,this.sharesService=n,this.dateUtils=o,this.route=r,this.router=c,this.settingsService=u,this.minDate=new Date(2e3,0,1),this.maxDate=new Date,this.accountId=this.route.parent.snapshot.params.shareAccountId}return e.prototype.ngOnInit=function(){this.maxDate=this.settingsService.businessDate,this.createCloseSharesAccountForm()},e.prototype.createCloseSharesAccountForm=function(){this.closeSharesAccountForm=this.formBuilder.group({closedDate:["",i.kI.required],note:[""]})},e.prototype.submit=function(){var a=this,n=this.closeSharesAccountForm.value,o=this.settingsService.language.code,r=this.settingsService.dateFormat;n.closedDate instanceof Date&&(n.closedDate=this.dateUtils.formatDate(this.closeSharesAccountForm.value.closedDate,r));var u=(0,f.pi)((0,f.pi)({},n),{dateFormat:r,locale:o});this.sharesService.executeSharesAccountCommand(this.accountId,"close",u).subscribe(function(){a.router.navigate(["../../"],{relativeTo:a.route})})},e.\u0275fac=function(n){return new(n||e)(t.Y36(i.qu),t.Y36(U),t.Y36(x.L),t.Y36(l.gz),t.Y36(l.F0),t.Y36(C.g))},e.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-close-shares-account"]],decls:47,vars:9,consts:[[1,"container"],[3,"formGroup","ngSubmit"],["fxLayout","column"],[3,"click"],["matInput","","required","","formControlName","closedDate",3,"min","max","matDatepicker"],["matSuffix","",3,"for"],["closedDatePicker",""],[4,"ngIf"],["matInput","","formControlName","note"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","center","fxLayoutGap","5px"],["type","button","mat-raised-button","",3,"routerLink"],["mat-raised-button","","color","warn",3,"disabled"]],template:function(n,o){if(1&n){var r=t.EpF();t.TgZ(0,"div",0),t._uU(1,"\n\n  "),t.TgZ(2,"mat-card"),t._uU(3,"\n\n    "),t.TgZ(4,"form",1),t.NdJ("ngSubmit",function(){return o.submit()}),t._uU(5,"\n\n      "),t.TgZ(6,"mat-card-content"),t._uU(7,"\n\n        "),t.TgZ(8,"div",2),t._uU(9,"\n\n          "),t.TgZ(10,"mat-form-field",3),t.NdJ("click",function(){return t.CHM(r),t.MAs(20).open()}),t._uU(11,"\n            "),t.TgZ(12,"mat-label"),t._uU(13,"Closed On Date"),t.qZA(),t._uU(14,"\n            "),t._UZ(15,"input",4),t._uU(16,"\n            "),t._UZ(17,"mat-datepicker-toggle",5),t._uU(18,"\n            "),t._UZ(19,"mat-datepicker",null,6),t._uU(21,"\n            "),t.YNc(22,fn,5,0,"mat-error",7),t._uU(23,"\n          "),t.qZA(),t._uU(24,"\n\n          "),t.TgZ(25,"mat-form-field"),t._uU(26,"\n            "),t.TgZ(27,"mat-label"),t._uU(28,"Note"),t.qZA(),t._uU(29,"\n            "),t._UZ(30,"textarea",8),t._uU(31,"\n          "),t.qZA(),t._uU(32,"\n\n        "),t.qZA(),t._uU(33,"\n\n      "),t.qZA(),t._uU(34,"\n\n      "),t.TgZ(35,"mat-card-actions",9),t._uU(36,"\n        "),t.TgZ(37,"button",10),t._uU(38,"Cancel"),t.qZA(),t._uU(39,"\n        "),t.TgZ(40,"button",11),t._uU(41,"Confirm"),t.qZA(),t._uU(42,"\n      "),t.qZA(),t._uU(43,"\n\n    "),t.qZA(),t._uU(44,"\n\n  "),t.qZA(),t._uU(45,"\n\n"),t.qZA(),t._uU(46,"\n")}if(2&n){var c=t.MAs(20);t.xp6(4),t.Q6J("formGroup",o.closeSharesAccountForm),t.xp6(11),t.Q6J("min",o.minDate)("max",o.maxDate)("matDatepicker",c),t.xp6(2),t.Q6J("for",c),t.xp6(5),t.Q6J("ngIf",o.closeSharesAccountForm.controls.closedDate.hasError("required")),t.xp6(15),t.Q6J("routerLink",t.DdM(8,An)),t.xp6(3),t.Q6J("disabled",!o.closeSharesAccountForm.valid)}},directives:[d.a8,i._Y,i.JL,i.sg,d.dn,m.xw,h.KE,h.hX,y.Nt,i.Fj,A.hl,i.Q7,i.JJ,i.u,A.nW,h.R9,A.Mq,g.O5,d.hq,m.Wh,m.SQ,v.lW,l.rH,h.TO],styles:[".container[_ngcontent-%COMP%]{max-width:37rem}"]}),e}();function Un(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"\n              Activated On Date is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA(),t._uU(4,"\n            "),t.qZA())}var Tn=function(){return["../../"]},vn=function(){function e(a,n,o,r,c,u){this.formBuilder=a,this.sharesService=n,this.dateUtils=o,this.route=r,this.router=c,this.settingsService=u,this.minDate=new Date(2e3,0,1),this.maxDate=new Date,this.accountId=this.route.parent.snapshot.params.shareAccountId}return e.prototype.ngOnInit=function(){this.maxDate=this.settingsService.businessDate,this.createActivateSharesAccountForm()},e.prototype.createActivateSharesAccountForm=function(){this.activateSharesAccountForm=this.formBuilder.group({activatedDate:["",i.kI.required]})},e.prototype.submit=function(){var a=this,n=this.activateSharesAccountForm.value,o=this.settingsService.language.code,r=this.settingsService.dateFormat;n.activatedDate instanceof Date&&(n.activatedDate=this.dateUtils.formatDate(this.activateSharesAccountForm.value.activatedDate,r));var u=(0,f.pi)((0,f.pi)({},n),{dateFormat:r,locale:o});this.sharesService.executeSharesAccountCommand(this.accountId,"activate",u).subscribe(function(){a.router.navigate(["../../"],{relativeTo:a.route})})},e.\u0275fac=function(n){return new(n||e)(t.Y36(i.qu),t.Y36(U),t.Y36(x.L),t.Y36(l.gz),t.Y36(l.F0),t.Y36(C.g))},e.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-activate-shares-account"]],decls:36,vars:9,consts:[[1,"container"],[3,"formGroup","ngSubmit"],["fxFlex","",3,"click"],["matInput","","required","","formControlName","activatedDate",3,"min","max","matDatepicker"],["matSuffix","",3,"for"],["activatedDatePicker",""],[4,"ngIf"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","center","fxLayoutGap","5px"],["type","button","mat-raised-button","",3,"routerLink"],["mat-raised-button","","color","accent",3,"disabled"]],template:function(n,o){if(1&n){var r=t.EpF();t.TgZ(0,"div",0),t._uU(1,"\n\n  "),t.TgZ(2,"mat-card"),t._uU(3,"\n\n    "),t.TgZ(4,"form",1),t.NdJ("ngSubmit",function(){return o.submit()}),t._uU(5,"\n\n      "),t.TgZ(6,"mat-card-content"),t._uU(7,"\n\n          "),t.TgZ(8,"mat-form-field",2),t.NdJ("click",function(){return t.CHM(r),t.MAs(18).open()}),t._uU(9,"\n            "),t.TgZ(10,"mat-label"),t._uU(11,"Activated On Date"),t.qZA(),t._uU(12,"\n            "),t._UZ(13,"input",3),t._uU(14,"\n            "),t._UZ(15,"mat-datepicker-toggle",4),t._uU(16,"\n            "),t._UZ(17,"mat-datepicker",null,5),t._uU(19,"\n            "),t.YNc(20,Un,5,0,"mat-error",6),t._uU(21,"\n          "),t.qZA(),t._uU(22,"\n\n      "),t.qZA(),t._uU(23,"\n\n      "),t.TgZ(24,"mat-card-actions",7),t._uU(25,"\n        "),t.TgZ(26,"button",8),t._uU(27,"Cancel"),t.qZA(),t._uU(28,"\n        "),t.TgZ(29,"button",9),t._uU(30,"Confirm"),t.qZA(),t._uU(31,"\n      "),t.qZA(),t._uU(32,"\n\n    "),t.qZA(),t._uU(33,"\n\n  "),t.qZA(),t._uU(34,"\n\n"),t.qZA(),t._uU(35,"\n")}if(2&n){var c=t.MAs(18);t.xp6(4),t.Q6J("formGroup",o.activateSharesAccountForm),t.xp6(9),t.Q6J("min",o.minDate)("max",o.maxDate)("matDatepicker",c),t.xp6(2),t.Q6J("for",c),t.xp6(5),t.Q6J("ngIf",o.activateSharesAccountForm.controls.activatedDate.hasError("required")),t.xp6(6),t.Q6J("routerLink",t.DdM(8,Tn)),t.xp6(3),t.Q6J("disabled",!o.activateSharesAccountForm.valid)}},directives:[d.a8,i._Y,i.JL,i.sg,d.dn,h.KE,m.yH,h.hX,y.Nt,i.Fj,A.hl,i.Q7,i.JJ,i.u,A.nW,h.R9,A.Mq,g.O5,d.hq,m.xw,m.Wh,m.SQ,v.lW,l.rH,h.TO],styles:[".container[_ngcontent-%COMP%]{max-width:37rem}"]}),e}(),Zn=function(){return["../../"]},Cn=function(){function e(a,n,o){this.sharesService=a,this.route=n,this.router=o,this.accountId=this.route.parent.snapshot.params.shareAccountId}return e.prototype.submit=function(){var a=this;this.sharesService.executeSharesAccountCommand(this.accountId,"undoapproval",{}).subscribe(function(){a.router.navigate(["../../"],{relativeTo:a.route})})},e.\u0275fac=function(n){return new(n||e)(t.Y36(U),t.Y36(l.gz),t.Y36(l.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-undo-approval-shares-account"]],decls:27,vars:3,consts:[[1,"container"],[3,"ngSubmit"],[1,"mat-typography","confirm-text"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","center","fxLayoutGap","5px"],["type","button","mat-raised-button","",3,"routerLink"],["mat-raised-button","","color","warn"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t._uU(1,"\n\n  "),t.TgZ(2,"mat-card"),t._uU(3,"\n\n    "),t.TgZ(4,"form",1),t.NdJ("ngSubmit",function(){return o.submit()}),t._uU(5,"\n\n      "),t.TgZ(6,"mat-card-content"),t._uU(7,"\n\n        "),t.TgZ(8,"div"),t._uU(9,"\n\n          "),t.TgZ(10,"p",2),t._uU(11),t.qZA(),t._uU(12,"\n\n        "),t.qZA(),t._uU(13,"\n\n      "),t.qZA(),t._uU(14,"\n\n      "),t.TgZ(15,"mat-card-actions",3),t._uU(16,"\n        "),t.TgZ(17,"button",4),t._uU(18,"Cancel"),t.qZA(),t._uU(19,"\n        "),t.TgZ(20,"button",5),t._uU(21,"Confirm"),t.qZA(),t._uU(22,"\n      "),t.qZA(),t._uU(23,"\n\n    "),t.qZA(),t._uU(24,"\n\n  "),t.qZA(),t._uU(25,"\n\n"),t.qZA(),t._uU(26,"\n")),2&n&&(t.xp6(11),t.hij("\n            Are you sure you want to undo approval of shares account with ID: ",o.accountId," ?\n          "),t.xp6(6),t.Q6J("routerLink",t.DdM(2,Zn)))},directives:[d.a8,i._Y,i.JL,i.F,d.dn,d.hq,m.xw,m.Wh,m.SQ,v.lW,l.rH],styles:[".container[_ngcontent-%COMP%]{max-width:37rem}.container[_ngcontent-%COMP%]   .confirm-text[_ngcontent-%COMP%]{font-size:16px;text-align:center}"]}),e}();function Sn(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"\n              Request Date is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA(),t._uU(4,"\n            "),t.qZA())}function yn(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"\n              Requested Shares is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA(),t._uU(4,"\n            "),t.qZA())}var xn=function(){return["../../"]},Dn=function(){function e(a,n,o,r,c,u){var _=this;this.formBuilder=a,this.sharesService=n,this.dateUtils=o,this.route=r,this.router=c,this.settingsService=u,this.minDate=new Date(2e3,0,1),this.maxDate=new Date,this.accountId=this.route.parent.snapshot.params.shareAccountId,this.route.data.subscribe(function(D){_.sharesAccountData=D.shareAccountActionData})}return e.prototype.ngOnInit=function(){this.maxDate=this.settingsService.businessDate,this.createApplySharesAccountForm(),this.applySharesForm.get("unitPrice").patchValue(this.sharesAccountData.currentMarketPrice||"")},e.prototype.createApplySharesAccountForm=function(){this.applySharesForm=this.formBuilder.group({requestedDate:["",i.kI.required],requestedShares:["",i.kI.required],unitPrice:[{value:"",disabled:!0}]})},e.prototype.submit=function(){var a=this,n=this.applySharesForm.value,o=this.settingsService.language.code,r=this.settingsService.dateFormat;n.requestedDate instanceof Date&&(n.requestedDate=this.dateUtils.formatDate(this.applySharesForm.value.requestedDate,r));var u=(0,f.pi)((0,f.pi)({},n),{unitPrice:this.applySharesForm.get("unitPrice").value,dateFormat:r,locale:o});this.sharesService.executeSharesAccountCommand(this.accountId,"applyadditionalshares",u).subscribe(function(){a.router.navigate(["../../"],{relativeTo:a.route})})},e.\u0275fac=function(n){return new(n||e)(t.Y36(i.qu),t.Y36(U),t.Y36(x.L),t.Y36(l.gz),t.Y36(l.F0),t.Y36(C.g))},e.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-apply-shares"]],decls:57,vars:10,consts:[[1,"container"],[3,"formGroup","ngSubmit"],["fxLayout","column"],[3,"click"],["matInput","","required","","formControlName","requestedDate",3,"min","max","matDatepicker"],["matSuffix","",3,"for"],["requestedDatePicker",""],[4,"ngIf"],["matInput","","required","","formControlName","requestedShares"],["matInput","","required","","formControlName","unitPrice"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","center","fxLayoutGap","5px"],["type","button","mat-raised-button","",3,"routerLink"],["mat-raised-button","","color","accent",3,"disabled"]],template:function(n,o){if(1&n){var r=t.EpF();t.TgZ(0,"div",0),t._uU(1,"\n\n  "),t.TgZ(2,"mat-card"),t._uU(3,"\n\n    "),t.TgZ(4,"form",1),t.NdJ("ngSubmit",function(){return o.submit()}),t._uU(5,"\n\n      "),t.TgZ(6,"mat-card-content"),t._uU(7,"\n\n        "),t.TgZ(8,"div",2),t._uU(9,"\n\n          "),t.TgZ(10,"mat-form-field",3),t.NdJ("click",function(){return t.CHM(r),t.MAs(20).open()}),t._uU(11,"\n            "),t.TgZ(12,"mat-label"),t._uU(13,"Request Date"),t.qZA(),t._uU(14,"\n            "),t._UZ(15,"input",4),t._uU(16,"\n            "),t._UZ(17,"mat-datepicker-toggle",5),t._uU(18,"\n            "),t._UZ(19,"mat-datepicker",null,6),t._uU(21,"\n            "),t.YNc(22,Sn,5,0,"mat-error",7),t._uU(23,"\n          "),t.qZA(),t._uU(24,"\n\n          "),t.TgZ(25,"mat-form-field"),t._uU(26,"\n            "),t.TgZ(27,"mat-label"),t._uU(28,"Total No. of Shares"),t.qZA(),t._uU(29,"\n            "),t._UZ(30,"input",8),t._uU(31,"\n            "),t.YNc(32,yn,5,0,"mat-error",7),t._uU(33,"\n          "),t.qZA(),t._uU(34,"\n\n          "),t.TgZ(35,"mat-form-field"),t._uU(36,"\n            "),t.TgZ(37,"mat-label"),t._uU(38,"Today's Price"),t.qZA(),t._uU(39,"\n            "),t._UZ(40,"input",9),t._uU(41,"\n          "),t.qZA(),t._uU(42,"\n\n        "),t.qZA(),t._uU(43,"\n\n      "),t.qZA(),t._uU(44,"\n\n      "),t.TgZ(45,"mat-card-actions",10),t._uU(46,"\n        "),t.TgZ(47,"button",11),t._uU(48,"Cancel"),t.qZA(),t._uU(49,"\n        "),t.TgZ(50,"button",12),t._uU(51,"Confirm"),t.qZA(),t._uU(52,"\n      "),t.qZA(),t._uU(53,"\n\n    "),t.qZA(),t._uU(54,"\n\n  "),t.qZA(),t._uU(55,"\n\n"),t.qZA(),t._uU(56,"\n")}if(2&n){var c=t.MAs(20);t.xp6(4),t.Q6J("formGroup",o.applySharesForm),t.xp6(11),t.Q6J("min",o.minDate)("max",o.maxDate)("matDatepicker",c),t.xp6(2),t.Q6J("for",c),t.xp6(5),t.Q6J("ngIf",o.applySharesForm.controls.requestedDate.hasError("required")),t.xp6(10),t.Q6J("ngIf",o.applySharesForm.controls.requestedShares.hasError("required")),t.xp6(15),t.Q6J("routerLink",t.DdM(9,xn)),t.xp6(3),t.Q6J("disabled",!o.applySharesForm.valid)}},directives:[d.a8,i._Y,i.JL,i.sg,d.dn,m.xw,h.KE,h.hX,y.Nt,i.Fj,A.hl,i.Q7,i.JJ,i.u,A.nW,h.R9,A.Mq,g.O5,d.hq,m.Wh,m.SQ,v.lW,l.rH,h.TO],styles:[".container[_ngcontent-%COMP%]{max-width:37rem}"]}),e}();function bn(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"\n              Request Date is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA(),t._uU(4,"\n            "),t.qZA())}function qn(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"\n              Requested Shares is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA(),t._uU(4,"\n            "),t.qZA())}var Pn=function(){return["../../"]},Fn=function(){function e(a,n,o,r,c,u){var _=this;this.formBuilder=a,this.sharesService=n,this.dateUtils=o,this.route=r,this.router=c,this.settingsService=u,this.minDate=new Date(2e3,0,1),this.maxDate=new Date,this.accountId=this.route.parent.snapshot.params.shareAccountId,this.route.data.subscribe(function(D){_.sharesAccountData=D.shareAccountActionData})}return e.prototype.ngOnInit=function(){this.maxDate=this.settingsService.businessDate,this.createRedeemSharesAccountForm(),this.redeemSharesForm.get("unitPrice").patchValue(this.sharesAccountData.currentMarketPrice||"")},e.prototype.createRedeemSharesAccountForm=function(){this.redeemSharesForm=this.formBuilder.group({requestedDate:["",i.kI.required],requestedShares:["",i.kI.required],unitPrice:[{value:"",disabled:!0}]})},e.prototype.submit=function(){var a=this,n=this.redeemSharesForm.value,o=this.settingsService.language.code,r=this.settingsService.dateFormat;n.requestedDate instanceof Date&&(n.requestedDate=this.dateUtils.formatDate(this.redeemSharesForm.value.requestedDate,r));var u=(0,f.pi)((0,f.pi)({},n),{unitPrice:this.redeemSharesForm.get("unitPrice").value,dateFormat:r,locale:o});this.sharesService.executeSharesAccountCommand(this.accountId,"redeemshares",u).subscribe(function(){a.router.navigate(["../../"],{relativeTo:a.route})})},e.\u0275fac=function(n){return new(n||e)(t.Y36(i.qu),t.Y36(U),t.Y36(x.L),t.Y36(l.gz),t.Y36(l.F0),t.Y36(C.g))},e.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-redeem-shares"]],decls:57,vars:10,consts:[[1,"container"],[3,"formGroup","ngSubmit"],["fxLayout","column"],[3,"click"],["matInput","","required","","formControlName","requestedDate",3,"min","max","matDatepicker"],["matSuffix","",3,"for"],["requestedDatePicker",""],[4,"ngIf"],["matInput","","required","","formControlName","requestedShares"],["matInput","","required","","formControlName","unitPrice"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","center","fxLayoutGap","5px"],["type","button","mat-raised-button","",3,"routerLink"],["mat-raised-button","","color","warn",3,"disabled"]],template:function(n,o){if(1&n){var r=t.EpF();t.TgZ(0,"div",0),t._uU(1,"\n\n  "),t.TgZ(2,"mat-card"),t._uU(3,"\n\n    "),t.TgZ(4,"form",1),t.NdJ("ngSubmit",function(){return o.submit()}),t._uU(5,"\n\n      "),t.TgZ(6,"mat-card-content"),t._uU(7,"\n\n        "),t.TgZ(8,"div",2),t._uU(9,"\n\n          "),t.TgZ(10,"mat-form-field",3),t.NdJ("click",function(){return t.CHM(r),t.MAs(20).open()}),t._uU(11,"\n            "),t.TgZ(12,"mat-label"),t._uU(13,"Request Date"),t.qZA(),t._uU(14,"\n            "),t._UZ(15,"input",4),t._uU(16,"\n            "),t._UZ(17,"mat-datepicker-toggle",5),t._uU(18,"\n            "),t._UZ(19,"mat-datepicker",null,6),t._uU(21,"\n            "),t.YNc(22,bn,5,0,"mat-error",7),t._uU(23,"\n          "),t.qZA(),t._uU(24,"\n\n          "),t.TgZ(25,"mat-form-field"),t._uU(26,"\n            "),t.TgZ(27,"mat-label"),t._uU(28,"Total No. of Shares"),t.qZA(),t._uU(29,"\n            "),t._UZ(30,"input",8),t._uU(31,"\n            "),t.YNc(32,qn,5,0,"mat-error",7),t._uU(33,"\n          "),t.qZA(),t._uU(34,"\n\n          "),t.TgZ(35,"mat-form-field"),t._uU(36,"\n            "),t.TgZ(37,"mat-label"),t._uU(38,"Today's Price"),t.qZA(),t._uU(39,"\n            "),t._UZ(40,"input",9),t._uU(41,"\n          "),t.qZA(),t._uU(42,"\n\n        "),t.qZA(),t._uU(43,"\n\n      "),t.qZA(),t._uU(44,"\n\n      "),t.TgZ(45,"mat-card-actions",10),t._uU(46,"\n        "),t.TgZ(47,"button",11),t._uU(48,"Cancel"),t.qZA(),t._uU(49,"\n        "),t.TgZ(50,"button",12),t._uU(51,"Confirm"),t.qZA(),t._uU(52,"\n      "),t.qZA(),t._uU(53,"\n\n    "),t.qZA(),t._uU(54,"\n\n  "),t.qZA(),t._uU(55,"\n\n"),t.qZA(),t._uU(56,"\n")}if(2&n){var c=t.MAs(20);t.xp6(4),t.Q6J("formGroup",o.redeemSharesForm),t.xp6(11),t.Q6J("min",o.minDate)("max",o.maxDate)("matDatepicker",c),t.xp6(2),t.Q6J("for",c),t.xp6(5),t.Q6J("ngIf",o.redeemSharesForm.controls.requestedDate.hasError("required")),t.xp6(10),t.Q6J("ngIf",o.redeemSharesForm.controls.requestedShares.hasError("required")),t.xp6(15),t.Q6J("routerLink",t.DdM(9,Pn)),t.xp6(3),t.Q6J("disabled",!o.redeemSharesForm.valid)}},directives:[d.a8,i._Y,i.JL,i.sg,d.dn,m.xw,h.KE,h.hX,y.Nt,i.Fj,A.hl,i.Q7,i.JJ,i.u,A.nW,h.R9,A.Mq,g.O5,d.hq,m.Wh,m.SQ,v.lW,l.rH,h.TO],styles:[".container[_ngcontent-%COMP%]{max-width:37rem}"]}),e}(),Y=p(73005),P=p(58623),Nn=function(){return{approve:!0}},wn=function(){function e(a,n){this.dialogRef=a,this.data=n}return e.\u0275fac=function(n){return new(n||e)(t.Y36(T.so),t.Y36(T.WI))},e.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-approve-share-dialog"]],decls:18,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["align","end"],["mat-raised-button","","mat-dialog-close",""],["mat-raised-button","","color","accent",3,"mat-dialog-close"]],template:function(n,o){1&n&&(t.TgZ(0,"h1",0),t._uU(1,"Approve Share"),t.qZA(),t._uU(2,"\n"),t.TgZ(3,"div",1),t._uU(4,"\n  "),t.TgZ(5,"p"),t._uU(6),t.qZA(),t._uU(7,"\n"),t.qZA(),t._uU(8,"\n"),t.TgZ(9,"mat-dialog-actions",2),t._uU(10,"\n  "),t.TgZ(11,"button",3),t._uU(12,"Cancel"),t.qZA(),t._uU(13,"\n  "),t.TgZ(14,"button",4),t._uU(15,"Confirm"),t.qZA(),t._uU(16,"\n"),t.qZA(),t._uU(17,"\n")),2&n&&(t.xp6(6),t.hij("Are you sure you want to approve share with id: ",o.data.shareId," ?"),t.xp6(8),t.Q6J("mat-dialog-close",t.DdM(2,Nn)))},directives:[T.uh,T.xY,T.H8,v.lW,T.ZT],styles:[""]}),e}(),On=["sharesTable"];function Yn(e,a){1&e&&(t.TgZ(0,"th",15),t._uU(1," Transaction Date "),t.qZA())}function kn(e,a){if(1&e&&(t.TgZ(0,"td",16),t._uU(1),t.ALo(2,"dateFormat"),t.qZA()),2&e){var n=a.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,n.purchasedDate),"")}}function Mn(e,a){1&e&&(t.TgZ(0,"th",15),t._uU(1," Total Shares "),t.qZA())}function In(e,a){if(1&e&&(t.TgZ(0,"td",16),t._uU(1),t.qZA()),2&e){var n=a.$implicit;t.xp6(1),t.hij(" ",n.numberOfShares," ")}}function Rn(e,a){1&e&&(t.TgZ(0,"th",15),t._uU(1," Purchased/Redeemed Price "),t.qZA())}function Qn(e,a){if(1&e&&(t.TgZ(0,"td",16),t._uU(1),t.qZA()),2&e){var n=a.$implicit;t.xp6(1),t.hij(" ",n.purchasedPrice," ")}}function Jn(e,a){1&e&&(t.TgZ(0,"th",17),t._uU(1," Status "),t.qZA())}function Ln(e,a){if(1&e&&(t.TgZ(0,"td",16),t._uU(1,"\n          "),t._UZ(2,"i",18),t.ALo(3,"statusLookup"),t._uU(4,"\n        "),t.qZA()),2&e){var n=a.$implicit;t.xp6(2),t.Q6J("ngClass",t.lcZ(3,2,n.status.code))("matTooltip",n.status.value)}}function jn(e,a){1&e&&(t.TgZ(0,"th",15),t._uU(1," Confirm Approve "),t.qZA())}function En(e,a){if(1&e){var n=t.EpF();t.TgZ(0,"td",16),t._uU(1,"\n          "),t.TgZ(2,"button",19),t.NdJ("click",function(){var c=t.CHM(n).$implicit;return t.oxw().approve(c.id)}),t._uU(3,"\n            "),t._UZ(4,"i",20),t._uU(5,"\n          "),t.qZA(),t._uU(6,"\n        "),t.qZA()}}function Bn(e,a){1&e&&t._UZ(0,"tr",21)}function Hn(e,a){1&e&&t._UZ(0,"tr",22)}var Gn=function(){return[10,25,50,100]},zn=function(){function e(a,n,o,r){var c=this;this.sharesService=a,this.route=n,this.dialog=o,this.settingsService=r,this.displayedColumns=["transactionDate","totalShares","redeemedPrice","status","approve"],this.accountId=this.route.parent.snapshot.params.shareAccountId,this.route.data.subscribe(function(u){c.sharesAccountData=u.shareAccountActionData})}return e.prototype.ngOnInit=function(){this.sharesData=this.sharesAccountData.purchasedShares.filter(function(a){return"Pending Approval"===a.status.value}),this.setShares()},e.prototype.setShares=function(){this.dataSource=new s.by(this.sharesData),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},e.prototype.approve=function(a){var n=this;this.dialog.open(wn,{data:{shareId:a}}).afterClosed().subscribe(function(r){r.approve&&n.sharesService.executeSharesAccountCommand(n.accountId,"approveadditionalshares",{requestedShares:[{id:a}],dateFormat:n.settingsService.dateFormat,locale:n.settingsService.language.code}).subscribe(function(){var D=n.sharesData.find(function(j){return j.id===a}),L=n.sharesData.indexOf(D);n.sharesData.splice(L,1),n.dataSource.data=n.sharesData,n.sharesTableRef.renderRows()})})},e.\u0275fac=function(n){return new(n||e)(t.Y36(U),t.Y36(l.gz),t.Y36(T.uw),t.Y36(C.g))},e.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-approve-shares"]],viewQuery:function(n,o){if(1&n&&(t.Gf(Y.NW,7),t.Gf(P.YE,7),t.Gf(On,7)),2&n){var r=void 0;t.iGM(r=t.CRH())&&(o.paginator=r.first),t.iGM(r=t.CRH())&&(o.sort=r.first),t.iGM(r=t.CRH())&&(o.sharesTableRef=r.first)}},decls:51,vars:5,consts:[[1,"container"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["sharesTable",""],["matColumnDef","transactionDate"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","totalShares"],["matColumnDef","redeemedPrice"],["matColumnDef","status"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","approve"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[1,"fa","fa-stop",3,"ngClass","matTooltip"],["mat-raised-button","","color","accent","matTooltip","Approve Share",1,"share-action-button",3,"click"],[1,"fa","fa-check"],["mat-header-row",""],["mat-row",""]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t._uU(1,"\n\n  "),t.TgZ(2,"div",1),t._uU(3,"\n\n    "),t.TgZ(4,"table",2,3),t._uU(6,"\n\n      "),t.ynx(7,4),t._uU(8,"\n        "),t.YNc(9,Yn,2,0,"th",5),t._uU(10,"\n        "),t.YNc(11,kn,3,3,"td",6),t._uU(12,"\n      "),t.BQk(),t._uU(13,"\n\n      "),t.ynx(14,7),t._uU(15,"\n        "),t.YNc(16,Mn,2,0,"th",5),t._uU(17,"\n        "),t.YNc(18,In,2,1,"td",6),t._uU(19,"\n      "),t.BQk(),t._uU(20,"\n\n      "),t.ynx(21,8),t._uU(22,"\n        "),t.YNc(23,Rn,2,0,"th",5),t._uU(24,"\n        "),t.YNc(25,Qn,2,1,"td",6),t._uU(26,"\n      "),t.BQk(),t._uU(27,"\n\n      "),t.ynx(28,9),t._uU(29,"\n        "),t.YNc(30,Jn,2,0,"th",10),t._uU(31,"\n        "),t.YNc(32,Ln,5,4,"td",6),t._uU(33,"\n      "),t.BQk(),t._uU(34,"\n\n      "),t.ynx(35,11),t._uU(36,"\n        "),t.YNc(37,jn,2,0,"th",5),t._uU(38,"\n        "),t.YNc(39,En,7,0,"td",6),t._uU(40,"\n      "),t.BQk(),t._uU(41,"\n\n      "),t.YNc(42,Bn,1,0,"tr",12),t._uU(43,"\n      "),t.YNc(44,Hn,1,0,"tr",13),t._uU(45,"\n\n    "),t.qZA(),t._uU(46,"\n\n    "),t._UZ(47,"mat-paginator",14),t._uU(48,"\n\n  "),t.qZA(),t._uU(49,"\n\n"),t.qZA(),t._uU(50,"\n")),2&n&&(t.xp6(4),t.Q6J("dataSource",o.dataSource),t.xp6(38),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(2),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(3),t.Q6J("pageSizeOptions",t.DdM(4,Gn)))},directives:[s.BZ,P.YE,s.w1,s.fO,s.Dz,s.as,s.nj,Y.NW,s.ge,P.nU,s.ev,g.mk,M.oO,k.gM,v.lW,s.XQ,s.Gk],pipes:[b.E,R.F],styles:["table[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{cursor:pointer}table[_ngcontent-%COMP%]   .share-action-button[_ngcontent-%COMP%]{min-width:26px;padding:0 6px;margin:4px;line-height:25px}"]}),e}(),$n=function(){return{reject:!0}},Wn=function(){function e(a,n){this.dialogRef=a,this.data=n}return e.\u0275fac=function(n){return new(n||e)(t.Y36(T.so),t.Y36(T.WI))},e.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-reject-share-dialog"]],decls:18,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["align","end"],["mat-raised-button","","mat-dialog-close",""],["mat-raised-button","","color","warn",3,"mat-dialog-close"]],template:function(n,o){1&n&&(t.TgZ(0,"h1",0),t._uU(1,"Reject Share"),t.qZA(),t._uU(2,"\n"),t.TgZ(3,"div",1),t._uU(4,"\n  "),t.TgZ(5,"p"),t._uU(6),t.qZA(),t._uU(7,"\n"),t.qZA(),t._uU(8,"\n"),t.TgZ(9,"mat-dialog-actions",2),t._uU(10,"\n  "),t.TgZ(11,"button",3),t._uU(12,"Cancel"),t.qZA(),t._uU(13,"\n  "),t.TgZ(14,"button",4),t._uU(15,"Confirm"),t.qZA(),t._uU(16,"\n"),t.qZA(),t._uU(17,"\n")),2&n&&(t.xp6(6),t.hij("Are you sure you want to reject share with id: ",o.data.shareId," ?"),t.xp6(8),t.Q6J("mat-dialog-close",t.DdM(2,$n)))},directives:[T.uh,T.xY,T.H8,v.lW,T.ZT],styles:[""]}),e}(),Vn=["sharesTable"];function Xn(e,a){1&e&&(t.TgZ(0,"th",15),t._uU(1," Transaction Date "),t.qZA())}function Kn(e,a){if(1&e&&(t.TgZ(0,"td",16),t._uU(1),t.ALo(2,"dateFormat"),t.qZA()),2&e){var n=a.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,n.purchasedDate),"")}}function ta(e,a){1&e&&(t.TgZ(0,"th",15),t._uU(1," Total Shares "),t.qZA())}function ea(e,a){if(1&e&&(t.TgZ(0,"td",16),t._uU(1),t.qZA()),2&e){var n=a.$implicit;t.xp6(1),t.hij(" ",n.numberOfShares," ")}}function na(e,a){1&e&&(t.TgZ(0,"th",15),t._uU(1," Purchased/Redeemed Price "),t.qZA())}function aa(e,a){if(1&e&&(t.TgZ(0,"td",16),t._uU(1),t.qZA()),2&e){var n=a.$implicit;t.xp6(1),t.hij(" ",n.purchasedPrice," ")}}function oa(e,a){1&e&&(t.TgZ(0,"th",17),t._uU(1," Status "),t.qZA())}function ra(e,a){if(1&e&&(t.TgZ(0,"td",16),t._uU(1,"\n          "),t._UZ(2,"i",18),t.ALo(3,"statusLookup"),t._uU(4,"\n        "),t.qZA()),2&e){var n=a.$implicit;t.xp6(2),t.Q6J("ngClass",t.lcZ(3,2,n.status.code))("matTooltip",n.status.value)}}function ca(e,a){1&e&&(t.TgZ(0,"th",15),t._uU(1," Confirm Reject "),t.qZA())}function ia(e,a){if(1&e){var n=t.EpF();t.TgZ(0,"td",16),t._uU(1,"\n          "),t.TgZ(2,"button",19),t.NdJ("click",function(){var c=t.CHM(n).$implicit;return t.oxw().reject(c.id)}),t._uU(3,"\n            "),t._UZ(4,"i",20),t._uU(5,"\n          "),t.qZA(),t._uU(6,"\n        "),t.qZA()}}function sa(e,a){1&e&&t._UZ(0,"tr",21)}function ua(e,a){1&e&&t._UZ(0,"tr",22)}var ma=function(){return[10,25,50,100]},pa=function(){function e(a,n,o,r){var c=this;this.sharesService=a,this.route=n,this.dialog=o,this.settingsService=r,this.displayedColumns=["transactionDate","totalShares","redeemedPrice","status","reject"],this.accountId=this.route.parent.snapshot.params.shareAccountId,this.route.data.subscribe(function(u){c.sharesAccountData=u.shareAccountActionData})}return e.prototype.ngOnInit=function(){this.sharesData=this.sharesAccountData.purchasedShares.filter(function(a){return"Pending Approval"===a.status.value}),this.setShares()},e.prototype.setShares=function(){this.dataSource=new s.by(this.sharesData),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},e.prototype.reject=function(a){var n=this;this.dialog.open(Wn,{data:{shareId:a}}).afterClosed().subscribe(function(r){r.reject&&n.sharesService.executeSharesAccountCommand(n.accountId,"rejectadditionalshares",{requestedShares:[{id:a}],dateFormat:n.settingsService.dateFormat,locale:n.settingsService.language.code}).subscribe(function(){var D=n.sharesData.find(function(j){return j.id===a}),L=n.sharesData.indexOf(D);n.sharesData.splice(L,1),n.dataSource.data=n.sharesData,n.sharesTableRef.renderRows()})})},e.\u0275fac=function(n){return new(n||e)(t.Y36(U),t.Y36(l.gz),t.Y36(T.uw),t.Y36(C.g))},e.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-reject-shares"]],viewQuery:function(n,o){if(1&n&&(t.Gf(Y.NW,7),t.Gf(P.YE,7),t.Gf(Vn,7)),2&n){var r=void 0;t.iGM(r=t.CRH())&&(o.paginator=r.first),t.iGM(r=t.CRH())&&(o.sort=r.first),t.iGM(r=t.CRH())&&(o.sharesTableRef=r.first)}},decls:51,vars:5,consts:[[1,"container"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["sharesTable",""],["matColumnDef","transactionDate"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","totalShares"],["matColumnDef","redeemedPrice"],["matColumnDef","status"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","reject"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[1,"fa","fa-stop",3,"ngClass","matTooltip"],["mat-raised-button","","color","warn","matTooltip","Reject Share",1,"share-action-button",3,"click"],[1,"fa","fa-times"],["mat-header-row",""],["mat-row",""]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t._uU(1,"\n\n  "),t.TgZ(2,"div",1),t._uU(3,"\n\n    "),t.TgZ(4,"table",2,3),t._uU(6,"\n\n      "),t.ynx(7,4),t._uU(8,"\n        "),t.YNc(9,Xn,2,0,"th",5),t._uU(10,"\n        "),t.YNc(11,Kn,3,3,"td",6),t._uU(12,"\n      "),t.BQk(),t._uU(13,"\n\n      "),t.ynx(14,7),t._uU(15,"\n        "),t.YNc(16,ta,2,0,"th",5),t._uU(17,"\n        "),t.YNc(18,ea,2,1,"td",6),t._uU(19,"\n      "),t.BQk(),t._uU(20,"\n\n      "),t.ynx(21,8),t._uU(22,"\n        "),t.YNc(23,na,2,0,"th",5),t._uU(24,"\n        "),t.YNc(25,aa,2,1,"td",6),t._uU(26,"\n      "),t.BQk(),t._uU(27,"\n\n      "),t.ynx(28,9),t._uU(29,"\n        "),t.YNc(30,oa,2,0,"th",10),t._uU(31,"\n        "),t.YNc(32,ra,5,4,"td",6),t._uU(33,"\n      "),t.BQk(),t._uU(34,"\n\n      "),t.ynx(35,11),t._uU(36,"\n        "),t.YNc(37,ca,2,0,"th",5),t._uU(38,"\n        "),t.YNc(39,ia,7,0,"td",6),t._uU(40,"\n      "),t.BQk(),t._uU(41,"\n\n      "),t.YNc(42,sa,1,0,"tr",12),t._uU(43,"\n      "),t.YNc(44,ua,1,0,"tr",13),t._uU(45,"\n\n    "),t.qZA(),t._uU(46,"\n\n    "),t._UZ(47,"mat-paginator",14),t._uU(48,"\n\n  "),t.qZA(),t._uU(49,"\n\n"),t.qZA(),t._uU(50,"\n")),2&n&&(t.xp6(4),t.Q6J("dataSource",o.dataSource),t.xp6(38),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(2),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(3),t.Q6J("pageSizeOptions",t.DdM(4,ma)))},directives:[s.BZ,P.YE,s.w1,s.fO,s.Dz,s.as,s.nj,Y.NW,s.ge,P.nU,s.ev,g.mk,M.oO,k.gM,v.lW,s.XQ,s.Gk],pipes:[b.E,R.F],styles:["table[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{cursor:pointer}table[_ngcontent-%COMP%]   .share-action-button[_ngcontent-%COMP%]{min-width:26px;padding:0 6px;margin:4px;line-height:25px}"]}),e}();function la(e,a){1&e&&t._UZ(0,"mifosx-approve-shares-account")}function ha(e,a){1&e&&t._UZ(0,"mifosx-reject-shares-account")}function _a(e,a){1&e&&t._UZ(0,"mifosx-close-shares-account")}function da(e,a){1&e&&t._UZ(0,"mifosx-activate-shares-account")}function fa(e,a){1&e&&t._UZ(0,"mifosx-undo-approval-shares-account")}function Aa(e,a){1&e&&t._UZ(0,"mifosx-apply-shares")}function ga(e,a){1&e&&t._UZ(0,"mifosx-redeem-shares")}function Ua(e,a){1&e&&t._UZ(0,"mifosx-approve-shares")}function Ta(e,a){1&e&&t._UZ(0,"mifosx-reject-shares")}var va=function(){function e(a){this.route=a,this.actions={Approve:!1,Reject:!1,Close:!1,Activate:!1,"Undo Approval":!1,"Apply Additional Shares":!1,"Redeem Shares":!1,"Approve Additional Shares":!1,"Reject Additional Shares":!1},this.actions[this.route.snapshot.params.name]=!0}return e.\u0275fac=function(n){return new(n||e)(t.Y36(l.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-shares-account-actions"]],decls:17,vars:9,consts:[[4,"ngIf"]],template:function(n,o){1&n&&(t.YNc(0,la,1,0,"mifosx-approve-shares-account",0),t._uU(1,"\n"),t.YNc(2,ha,1,0,"mifosx-reject-shares-account",0),t._uU(3,"\n"),t.YNc(4,_a,1,0,"mifosx-close-shares-account",0),t._uU(5,"\n"),t.YNc(6,da,1,0,"mifosx-activate-shares-account",0),t._uU(7,"\n"),t.YNc(8,fa,1,0,"mifosx-undo-approval-shares-account",0),t._uU(9,"\n"),t.YNc(10,Aa,1,0,"mifosx-apply-shares",0),t._uU(11,"\n"),t.YNc(12,ga,1,0,"mifosx-redeem-shares",0),t._uU(13,"\n"),t.YNc(14,Ua,1,0,"mifosx-approve-shares",0),t._uU(15,"\n"),t.YNc(16,Ta,1,0,"mifosx-reject-shares",0)),2&n&&(t.Q6J("ngIf",o.actions.Approve),t.xp6(2),t.Q6J("ngIf",o.actions.Reject),t.xp6(2),t.Q6J("ngIf",o.actions.Close),t.xp6(2),t.Q6J("ngIf",o.actions.Activate),t.xp6(2),t.Q6J("ngIf",o.actions["Undo Approval"]),t.xp6(2),t.Q6J("ngIf",o.actions["Apply Additional Shares"]),t.xp6(2),t.Q6J("ngIf",o.actions["Redeem Shares"]),t.xp6(2),t.Q6J("ngIf",o.actions["Approve Additional Shares"]),t.xp6(2),t.Q6J("ngIf",o.actions["Reject Additional Shares"]))},directives:[g.O5,ln,dn,gn,vn,Cn,Dn,Fn,zn,pa],styles:[""]}),e}(),z=function(){function e(a){this.sharesService=a}return e.prototype.resolve=function(a){var n=a.paramMap.get("shareAccountId");return this.sharesService.getSharesAccountData(n,!1)},e.\u0275fac=function(n){return new(n||e)(t.LFG(U))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e}(),$=function(){function e(a){this.sharesService=a}return e.prototype.resolve=function(a){var n=a.paramMap.get("name"),o=a.paramMap.get("shareAccountId")||a.parent.parent.paramMap.get("shareAccountId");switch(n){case"Apply Additional Shares":case"Redeem Shares":case"Approve Additional Shares":case"Reject Additional Shares":return this.sharesService.getSharesAccountData(o,!0);default:return}},e.\u0275fac=function(n){return new(n||e)(t.LFG(U))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e}(),W=function(){function e(a){this.sharesService=a}return e.prototype.resolve=function(a){var n=a.parent.parent.paramMap.get("clientId");return this.sharesService.getSharesAccountTemplate(n)},e.\u0275fac=function(n){return new(n||e)(t.LFG(U))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e}(),V=function(){function e(a){this.sharesService=a}return e.prototype.resolve=function(a){var n=a.paramMap.get("shareAccountId");return this.sharesService.getSharesAccountData(n,!0)},e.\u0275fac=function(n){return new(n||e)(t.LFG(U))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e}(),Za=[{path:"",data:{title:(0,S.K)("Shares"),breadcrumb:"Shares",routeParamBreadcrumb:!1},children:[{path:"create",data:{title:(0,S.K)("Create Shares Account"),breadcrumb:"Create Shares Account"},component:Ve,resolve:{sharesAccountTemplate:W}},{path:":shareAccountId",data:{title:(0,S.K)("Shares Account View"),routeParamBreadcrumb:"shareAccountId"},children:[{path:"",component:pt,resolve:{sharesAccountData:z},children:[{path:"transactions",component:xt,data:{title:(0,S.K)("Shares Account Transactions"),breadcrumb:"Transactions",routeParamBreadcrumb:!1}},{path:"charges",component:Bt,data:{title:(0,S.K)("Shares Account Charges"),breadcrumb:"Charges",routeParamBreadcrumb:!1}},{path:"dividends",component:ne,data:{title:(0,S.K)("Shares Account Dividends"),breadcrumb:"Dividends",routeParamBreadcrumb:!1}}]},{path:"edit",data:{title:(0,S.K)("Edit Shares Account"),breadcrumb:"Edit",routeParamBreadcrumb:!1},component:un,resolve:{sharesAccountAndTemplate:V}},{path:"actions/:name",data:{title:(0,S.K)("Shares Account Actions"),breadcrumb:"Actions",routeParamBreadcrumb:"name"},component:va,resolve:{shareAccountActionData:$}}]}]}],Ca=function(){function e(){}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[z,W,V,$],imports:[[l.Bz.forChild(Za)],l.Bz]}),e}(),Sa=p(21575),ya=p(10413),xa=p(21325),Da=function(){function e(){}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[],imports:[[Sa.m,ya.D,xa.o,Ca]]}),e}()}}]);