"use strict";(self.webpackChunkmifosx_web_app=self.webpackChunkmifosx_web_app||[]).push([["src_app_shares_shares_module_ts"],{60606:(es,B,m)=>{m.r(B),m.d(B,{SharesModule:()=>ts});var u=m(46661),L=m(25532);class et{constructor(r){this.setOptions(r),this.setButtons(r)}get singleButtons(){return this.buttonsArray}get options(){return this.optionArray}setButtons(r){switch(r){case"Active":this.buttonsArray=[{name:"Apply Additional Shares",icon:"arrow-right",taskPermissionName:"APPLYADDITIONAL_SHAREACCOUNT"},{name:"Approve Additional Shares",icon:"arrow-right",taskPermissionName:"APPROVEADDITIONAL_SHAREACCOUNT"},{name:"Reject Additional Shares",icon:"arrow-left",taskPermissionName:"REJECTADDITIONAL_SHAREACCOUNT"},{name:"Redeem Shares",icon:"arrow-left",taskPermissionName:"WITHDRAW_SAVINGSACCOUNT"}];break;case"Submitted and pending approval":this.buttonsArray=[{name:"Modify Application",icon:"pencil",taskPermissionName:"UPDATE_SHAREACCOUNT"},{name:"Approve",icon:"check",taskPermissionName:"APPROVE_SHAREACCOUNT"}];break;case"Approved":this.buttonsArray=[{name:"Undo Approval",icon:"undo",taskPermissionName:"APPROVALUNDO_SHAREACCOUNT"},{name:"Activate",icon:"check",taskPermissionName:"ACTIVATE_SHAREACCOUNT"}];break;default:this.buttonsArray=[]}}setOptions(r){switch(r){case"Active":this.optionArray=[{name:"Close",taskPermissionName:"CLOSE_SHAREACCOUNT"}];break;case"Submitted and pending approval":this.optionArray=[{name:"Reject",taskPermissionName:"REJECT_SHAREACCOUNT"},{name:"Delete",taskPermissionName:"DELETE_SHAREACCOUNT"}];break;default:this.optionArray=[]}}addOption(r){this.optionArray.push(r)}removeButton(r){const s=this.buttonsArray.map(a=>a.name).indexOf(r);this.buttonsArray.splice(s,1)}}var t=m(17705),j=m(21626);let _=(()=>{class e{constructor(n){this.http=n}getSharesAccountData(n,s){const a=(new j.Nl).set("template",s.toString());return this.http.get(`/accounts/share/${n}`,{params:a})}getSharesAccountTemplate(n,s){let a=(new j.Nl).set("clientId",n);return a=s?a.set("productId",s):a,this.http.get("/accounts/share/template",{params:a})}createSharesAccount(n){return this.http.post("/accounts/share",n)}updateSharesAccount(n,s){return this.http.put(`/accounts/share/${n}`,s)}deleteSharesAccount(n){return this.http.delete(`/accounts/share/${n}`)}executeSharesAccountCommand(n,s,a){const o=(new j.Nl).set("command",s);return this.http.post(`/accounts/share/${n}`,a,{params:o})}static{this.\u0275fac=function(s){return new(s||e)(t.KVO(j.Qq))}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var T=m(75351),d=m(60177),D=m(20060),b=m(88834),h=m(25596),nt=m(99213),N=m(59115),w=m(96850),$=m(14823),H=m(75620),at=m(26216),z=m(94587),f=m(68018),G=m(67949),Y=m(56617),I=m(37314);function st(e,r){if(1&e&&(t.j41(0,"span",26),t.EFF(1,"\n                  "),t.nrm(2,"mifosx-account-number",27),t.EFF(3,"\n                "),t.k0s()),2&e){const n=t.XpG();t.R7$(2),t.FS9("accountNo",n.sharesAccountData.clientAccountNo)}}function rt(e,r){if(1&e&&(t.j41(0,"tr"),t.EFF(1,"\n                      "),t.j41(2,"td"),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.EFF(5,"\n                      "),t.j41(6,"td"),t.EFF(7),t.nI1(8,"translateKey"),t.k0s(),t.EFF(9,"\n                    "),t.k0s()),2&e){const n=t.XpG();t.R7$(3),t.SpI("",t.bMT(4,3,"labels.inputs.Lockin Period")," :"),t.R7$(4),t.Lme("\n                        ",n.sharesAccountData.lockinPeriod,"\n                        ",t.i5U(8,5,n.sharesAccountData.lockPeriodTypeEnum.value,"catalogs"),"\n                      ")}}function ot(e,r){if(1&e&&(t.j41(0,"button",28),t.EFF(1,"\n                "),t.j41(2,"mat-icon",29),t.EFF(3,"\n                  "),t.nrm(4,"fa-icon",30),t.EFF(5,"\n                "),t.k0s(),t.EFF(6,"\n              "),t.k0s()),2&e){t.XpG();const n=t.sdS(83);t.Y8G("matMenuTriggerFor",n)}}function it(e,r){if(1&e){const n=t.RV6();t.j41(0,"button",32),t.bIt("click",function(){t.eBV(n);const a=t.XpG().$implicit,o=t.XpG();return t.Njj(o.doAction(a.name))}),t.EFF(1,"\n          "),t.j41(2,"mat-icon",33),t.EFF(3,"\n            "),t.nrm(4,"fa-icon",34),t.EFF(5,"\n          "),t.k0s(),t.EFF(6,"\n          "),t.j41(7,"span"),t.EFF(8),t.nI1(9,"translate"),t.k0s(),t.EFF(10,"\n        "),t.k0s()}if(2&e){const n=t.XpG().$implicit;t.R7$(4),t.FS9("icon",n.icon),t.R7$(4),t.JRh(t.bMT(9,2,"labels.menus."+n.name))}}function ct(e,r){if(1&e&&(t.qex(0),t.EFF(1,"\n        "),t.DNE(2,it,11,4,"button",31),t.EFF(3,"\n      "),t.bVm()),2&e){const n=r.$implicit;t.R7$(2),t.Y8G("mifosxHasPermission",n.taskPermissionName)}}function lt(e,r){if(1&e){const n=t.RV6();t.j41(0,"button",32),t.bIt("click",function(){t.eBV(n);const a=t.XpG().$implicit,o=t.XpG(2);return t.Njj(o.doAction(a.name))}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}if(2&e){const n=t.XpG().$implicit;t.R7$(1),t.SpI("\n              ",t.bMT(2,1,"labels.menus."+n.name),"\n            ")}}function mt(e,r){if(1&e&&(t.j41(0,"span"),t.EFF(1,"\n            "),t.DNE(2,lt,3,3,"button",31),t.EFF(3,"\n          "),t.k0s()),2&e){const n=r.$implicit;t.R7$(2),t.Y8G("mifosxHasPermission",n.taskPermissionName)}}function ut(e,r){if(1&e&&(t.qex(0),t.EFF(1,"\n        "),t.j41(2,"button",35),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.EFF(5,"\n        "),t.j41(6,"mat-menu",null,36),t.EFF(8,"\n          "),t.DNE(9,mt,4,1,"span",21),t.EFF(10,"\n        "),t.k0s(),t.EFF(11,"\n      "),t.bVm()),2&e){const n=t.sdS(7),s=t.XpG();t.R7$(2),t.Y8G("matMenuTriggerFor",n),t.R7$(1),t.JRh(t.bMT(4,3,"labels.menus.More")),t.R7$(6),t.Y8G("ngForOf",s.buttonConfig.options)}}const Ft=function(){return["./general"]};function pt(e,r){if(1&e&&(t.j41(0,"a",37,38),t.EFF(2),t.nI1(3,"translate"),t.k0s()),2&e){const n=t.sdS(1);t.Y8G("routerLink",t.lJ4(5,Ft))("active",n.isActive),t.R7$(2),t.SpI("\n        ",t.bMT(3,3,"labels.inputs.General"),"\n      ")}}const ht=function(){return["./transactions"]};function dt(e,r){if(1&e&&(t.j41(0,"a",37,39),t.EFF(2),t.nI1(3,"translate"),t.k0s()),2&e){const n=t.sdS(1);t.Y8G("routerLink",t.lJ4(5,ht))("active",n.isActive),t.R7$(2),t.SpI("\n        ",t.bMT(3,3,"labels.inputs.Transactions"),"\n      ")}}const Et=function(){return["./charges"]};function ft(e,r){if(1&e&&(t.j41(0,"a",37,40),t.EFF(2),t.nI1(3,"translate"),t.k0s()),2&e){const n=t.sdS(1);t.Y8G("routerLink",t.lJ4(5,Et))("active",n.isActive),t.R7$(2),t.SpI("\n        ",t.bMT(3,3,"labels.inputs.Charges"),"\n      ")}}const bt=function(){return["./dividends"]};function _t(e,r){if(1&e&&(t.j41(0,"a",37,41),t.EFF(2),t.nI1(3,"translate"),t.k0s()),2&e){const n=t.sdS(1);t.Y8G("routerLink",t.lJ4(5,bt))("active",n.isActive),t.R7$(2),t.SpI("\n        ",t.bMT(3,3,"labels.inputs.Dividends"),"\n      ")}}let Tt=(()=>{class e{constructor(n,s,a,o){this.route=n,this.router=s,this.sharesService=a,this.dialog=o,this.route.data.subscribe(i=>{this.sharesAccountData=i.sharesAccountData})}ngOnInit(){this.setConditionalButtons(),this.router.url.includes("clients")?this.entityType="Client":this.router.url.includes("groups")?this.entityType="Group":this.router.url.includes("centers")&&(this.entityType="Center")}setConditionalButtons(){const n=this.sharesAccountData.status.value;if(this.buttonConfig=new et(n),this.sharesAccountData.charges&&this.sharesAccountData.charges.forEach(a=>{"Annual fee - INR"===a.name&&this.buttonConfig.addOption({name:"Apply Anuual Fees",taskPermissionName:"APPLYANNUALFEE_SAVINGSACCOUNT"})}),"Active"===n){let a=!1;this.sharesAccountData.purchasedShares.forEach(o=>{"purchasedSharesStatusType.applied"===o.status.code&&"purchasedSharesType.purchased"===o.type.code&&(a=!0)}),a||(this.buttonConfig.removeButton("Approve Additional Shares"),this.buttonConfig.removeButton("Reject Additional Shares"))}}doAction(n){switch(n){case"Approve":case"Reject":case"Close":case"Activate":case"Undo Approval":case"Apply Additional Shares":case"Redeem Shares":case"Approve Additional Shares":case"Reject Additional Shares":this.router.navigate([`actions/${n}`],{relativeTo:this.route});break;case"Modify Application":this.router.navigate(["edit"],{relativeTo:this.route});break;case"Delete":this.deleteSharesAccount()}}deleteSharesAccount(){this.dialog.open(L.X,{data:{deleteContext:`shares account with id: ${this.sharesAccountData.id}`}}).afterClosed().subscribe(s=>{s.delete&&this.sharesService.deleteSharesAccount(this.sharesAccountData.id).subscribe(()=>{this.router.navigate(["../../"],{relativeTo:this.route})})})}static{this.\u0275fac=function(s){return new(s||e)(t.rXU(u.nX),t.rXU(u.Ix),t.rXU(_),t.rXU(T.bZ))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["mifosx-shares-account-view"]],decls:112,vars:35,consts:[[1,"account-card"],[1,"header","layout-column"],[1,"header-title-group"],[1,"profile-image-container"],["mat-card-md-image","","src","assets/images/shares_account_placeholder.png",1,"profile-image",3,"matTooltip"],[1,"mat-typography","account-card-title"],[1,"layout-row","responsive-column"],[1,"flex-60"],[1,"fa","fa-stop",3,"ngClass","matTooltip"],[1,"m-r-5"],[3,"textValue"],["display","left",3,"accountNo"],[1,"shares-overview"],[1,"m-r-10"],["class","m-l-10",4,"ngIf"],[1,"account-overview"],[4,"ngIf"],[1,"flex-auto"],[1,"flex-40"],["mat-icon-button","","aria-label","Share account actions","yPosition","below",3,"matMenuTriggerFor",4,"ngIf"],["accountMenu","matMenu"],[4,"ngFor","ngForOf"],[1,"content"],["mat-tab-nav-bar","",1,"navigation-tabs",3,"tabPanel"],["mat-tab-link","","routerLinkActive","",3,"routerLink","active",4,"mifosxHasPermission"],["tabPanel",""],[1,"m-l-10"],[3,"accountNo"],["mat-icon-button","","aria-label","Share account actions","yPosition","below",3,"matMenuTriggerFor"],["matListIcon","",1,"actions-menu"],["icon","bars","size","sm"],["mat-menu-item","",3,"click",4,"mifosxHasPermission"],["mat-menu-item","",3,"click"],["matListIcon",""],["size","sm",3,"icon"],["mat-menu-item","",3,"matMenuTriggerFor"],["More","matMenu"],["mat-tab-link","","routerLinkActive","",3,"routerLink","active"],["general","routerLinkActive"],["transactions","routerLinkActive"],["charges","routerLinkActive"],["dividends","routerLinkActive"]],template:function(s,a){if(1&s&&(t.j41(0,"mat-card",0),t.EFF(1,"\n  "),t.j41(2,"mat-card-header",1),t.EFF(3,"\n    "),t.j41(4,"mat-card-title-group",2),t.EFF(5,"\n      "),t.j41(6,"div",3),t.EFF(7,"\n        "),t.j41(8,"div"),t.EFF(9,"\n          "),t.nrm(10,"img",4),t.nI1(11,"translate"),t.EFF(12,"\n        "),t.k0s(),t.EFF(13,"\n      "),t.k0s(),t.EFF(14,"\n\n      "),t.j41(15,"div",5),t.EFF(16,"\n        "),t.j41(17,"mat-card-title"),t.EFF(18,"\n          "),t.j41(19,"div",6),t.EFF(20,"\n            "),t.j41(21,"div",7),t.EFF(22,"\n              "),t.j41(23,"h3"),t.EFF(24,"\n                "),t.nrm(25,"i",8),t.nI1(26,"statusLookup"),t.EFF(27,"\n                "),t.j41(28,"span",9),t.EFF(29),t.nI1(30,"translate"),t.k0s(),t.EFF(31,"\n                "),t.j41(32,"span",9),t.nrm(33,"mifosx-long-text",10),t.k0s(),t.EFF(34,"\n                "),t.nrm(35,"mifosx-account-number",11),t.EFF(36,"\n              "),t.k0s(),t.EFF(37,"\n              "),t.j41(38,"span",12),t.EFF(39,"\n                "),t.j41(40,"span",13),t.EFF(41),t.nI1(42,"translate"),t.nI1(43,"translate"),t.k0s(),t.EFF(44),t.DNE(45,st,4,1,"span",14),t.EFF(46,"\n              "),t.k0s(),t.EFF(47,"\n              "),t.j41(48,"div"),t.EFF(49,"\n                "),t.j41(50,"table",15),t.EFF(51,"\n                  "),t.j41(52,"tbody"),t.EFF(53,"\n                    "),t.j41(54,"tr"),t.EFF(55,"\n                      "),t.j41(56,"td"),t.EFF(57),t.nI1(58,"translate"),t.k0s(),t.EFF(59,"\n                      "),t.j41(60,"td"),t.EFF(61),t.nI1(62,"formatNumber"),t.k0s(),t.EFF(63,"\n                    "),t.k0s(),t.EFF(64,"\n                    "),t.DNE(65,rt,10,8,"tr",16),t.EFF(66,"\n                  "),t.k0s(),t.EFF(67,"\n                "),t.k0s(),t.EFF(68,"\n              "),t.k0s(),t.EFF(69,"\n            "),t.k0s(),t.EFF(70,"\n\n            "),t.nrm(71,"span",17),t.EFF(72,"\n            "),t.j41(73,"div",18),t.EFF(74,"\n              "),t.DNE(75,ot,7,1,"button",19),t.EFF(76,"\n            "),t.k0s(),t.EFF(77,"\n          "),t.k0s(),t.EFF(78,"\n        "),t.k0s(),t.EFF(79,"\n      "),t.k0s(),t.EFF(80,"\n    "),t.k0s(),t.EFF(81,"\n\n    "),t.j41(82,"mat-menu",null,20),t.EFF(84,"\n      "),t.DNE(85,ct,4,1,"ng-container",21),t.EFF(86,"\n\n      "),t.DNE(87,ut,12,5,"ng-container",16),t.EFF(88,"\n    "),t.k0s(),t.EFF(89,"\n  "),t.k0s(),t.EFF(90,"\n\n  "),t.j41(91,"mat-card-content",22),t.EFF(92,"\n    "),t.j41(93,"nav",23),t.EFF(94,"\n      "),t.DNE(95,pt,4,6,"a",24),t.EFF(96,"\n      "),t.DNE(97,dt,4,6,"a",24),t.EFF(98,"\n      "),t.DNE(99,ft,4,6,"a",24),t.EFF(100,"\n      "),t.DNE(101,_t,4,6,"a",24),t.EFF(102,"\n    "),t.k0s(),t.EFF(103,"\n\n    "),t.j41(104,"mat-tab-nav-panel",null,25),t.EFF(106,"\n      "),t.nrm(107,"router-outlet"),t.EFF(108,"\n    "),t.k0s(),t.EFF(109,"\n  "),t.k0s(),t.EFF(110,"\n"),t.k0s(),t.EFF(111,"\n")),2&s){const o=t.sdS(105);t.R7$(10),t.FS9("matTooltip",t.bMT(11,21,"tooltips.Shares Account")),t.R7$(15),t.Y8G("ngClass",t.bMT(26,23,a.sharesAccountData.status.code))("matTooltip",a.sharesAccountData.status.value),t.R7$(4),t.SpI("",t.bMT(30,25,"labels.inputs.Share Product")," :"),t.R7$(4),t.FS9("textValue",a.sharesAccountData.productName),t.R7$(2),t.FS9("accountNo",a.sharesAccountData.accountNo),t.R7$(6),t.Lme("",t.bMT(42,27,"labels.text."+a.entityType)," ",t.bMT(43,29,"labels.inputs.name")," :"),t.R7$(3),t.SpI("",a.sharesAccountData.clientName||a.sharesAccountData.groupName,"\n                "),t.R7$(1),t.Y8G("ngIf",a.sharesAccountData.clientAccountNo),t.R7$(12),t.SpI("",t.bMT(58,31,"labels.inputs.Current Market Price")," :"),t.R7$(4),t.JRh(t.bMT(62,33,a.sharesAccountData.currentMarketPrice)),t.R7$(4),t.Y8G("ngIf",a.sharesAccountData.lockinPeriod),t.R7$(10),t.Y8G("ngIf",a.buttonConfig.singleButtons.length>0),t.R7$(10),t.Y8G("ngForOf",a.buttonConfig.singleButtons),t.R7$(2),t.Y8G("ngIf",a.buttonConfig.options.length),t.R7$(6),t.Y8G("tabPanel",o),t.R7$(2),t.Y8G("mifosxHasPermission","READ_SHAREACCOUNTPURCHASE"),t.R7$(2),t.Y8G("mifosxHasPermission","READ_SHAREACCOUNTPURCHASE"),t.R7$(2),t.Y8G("mifosxHasPermission","READ_SHAREACCOUNTCHARGE"),t.R7$(2),t.Y8G("mifosxHasPermission","READ_SHAREACCOUNTDIVIDENDS")}},dependencies:[d.YU,d.Sq,d.bT,D.aY,b.iY,h.RN,h.m2,h.MM,h.hl,h.dh,h.aJ,nt.An,N.kk,N.fb,N.Cp,w.Bu,w.hQ,w.Ql,$.oV,H.i,at.h,z.p,u.n3,u.Wk,u.wQ,f.D9,G.l,Y.p,I.D],styles:[".shares-overview[_ngcontent-%COMP%]{font-size:14px}.account-overview[_ngcontent-%COMP%]{min-width:60%;font-weight:400}"]})}}return e})();var l=m(9159),v=m(53468);function At(e,r){1&e&&(t.j41(0,"th",14),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"labels.inputs.Transaction Date")))}function gt(e,r){if(1&e&&(t.j41(0,"td",15),t.EFF(1),t.nI1(2,"dateFormat"),t.k0s()),2&e){const n=r.$implicit;t.R7$(1),t.JRh(t.bMT(2,1,n.purchasedDate))}}function St(e,r){1&e&&(t.j41(0,"th",14),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"labels.inputs.Transaction Type")))}function Ct(e,r){if(1&e&&(t.j41(0,"td",15),t.EFF(1),t.k0s()),2&e){const n=r.$implicit;t.R7$(1),t.Lme("\n          ",n.type.value,"\n          ","Charge Payment"!==n.type.value?"("+n.status.value+")":"","\n        ")}}function Dt(e,r){1&e&&(t.j41(0,"th",14),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"labels.inputs.Total Shares")))}function Rt(e,r){if(1&e&&(t.j41(0,"td",15),t.EFF(1),t.k0s()),2&e){const n=r.$implicit;t.R7$(1),t.JRh(n.numberOfShares)}}function vt(e,r){1&e&&(t.j41(0,"th",14),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"labels.inputs.Purhcased/Redeemed Price")))}function kt(e,r){if(1&e&&(t.j41(0,"td",15),t.EFF(1),t.k0s()),2&e){const n=r.$implicit,s=t.XpG();t.R7$(1),t.Lme("\n          ",s.shareAccountData.currency.displaySymbol,"\xa0",n.purchasedPrice,"\n        ")}}function It(e,r){1&e&&(t.j41(0,"th",14),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"labels.inputs.Charge Amount")))}function jt(e,r){if(1&e&&(t.j41(0,"td",15),t.EFF(1),t.k0s()),2&e){const n=r.$implicit,s=t.XpG();t.R7$(1),t.Lme("\n          ",s.shareAccountData.currency.displaySymbol,"\xa0","Charge Payment"===n.type.value?n.amount:n.chargeAmount,"\n        ")}}function $t(e,r){1&e&&(t.j41(0,"th",14),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"labels.inputs.Amount Recieved/Returned")))}function yt(e,r){if(1&e&&(t.j41(0,"td",15),t.EFF(1),t.k0s()),2&e){const n=r.$implicit,s=t.XpG();t.R7$(1),t.Lme("\n          ",s.shareAccountData.currency.displaySymbol,"\xa0",n.amount,"\n        ")}}function xt(e,r){1&e&&t.nrm(0,"tr",16)}function Pt(e,r){1&e&&t.nrm(0,"tr",17)}let Mt=(()=>{class e{constructor(n){this.route=n,this.displayedColumns=["transactionDate","transactionType","totalShares","purchasedOrRedeemedPrice","chargeAmount","amountRecievedOrReturned"],this.route.parent.data.subscribe(s=>{this.shareAccountData=s.sharesAccountData,this.transactionsData=this.shareAccountData.purchasedShares})}ngOnInit(){this.dataSource=new l.I6(this.transactionsData)}static{this.\u0275fac=function(s){return new(s||e)(t.rXU(u.nX))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["mifosx-transactions-tab"]],decls:62,vars:6,consts:[[1,"tab-container","mat-typography"],[1,"m-b-10"],[1,"mat-elevation-z1","m-b-25"],["mat-table","",3,"dataSource"],["matColumnDef","transactionDate"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","transactionType"],["matColumnDef","totalShares"],["matColumnDef","purchasedOrRedeemedPrice"],["matColumnDef","chargeAmount"],["matColumnDef","amountRecievedOrReturned"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(s,a){1&s&&(t.j41(0,"div",0),t.EFF(1,"\n  "),t.j41(2,"div",1),t.EFF(3,"\n    "),t.j41(4,"h3"),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.EFF(7,"\n  "),t.k0s(),t.EFF(8,"\n\n  "),t.j41(9,"div",2),t.EFF(10,"\n    "),t.j41(11,"table",3),t.EFF(12,"\n      "),t.qex(13,4),t.EFF(14,"\n        "),t.DNE(15,At,3,3,"th",5),t.EFF(16,"\n        "),t.DNE(17,gt,3,3,"td",6),t.EFF(18,"\n      "),t.bVm(),t.EFF(19,"\n\n      "),t.qex(20,7),t.EFF(21,"\n        "),t.DNE(22,St,3,3,"th",5),t.EFF(23,"\n        "),t.DNE(24,Ct,2,2,"td",6),t.EFF(25,"\n      "),t.bVm(),t.EFF(26,"\n\n      "),t.qex(27,8),t.EFF(28,"\n        "),t.DNE(29,Dt,3,3,"th",5),t.EFF(30,"\n        "),t.DNE(31,Rt,2,1,"td",6),t.EFF(32,"\n      "),t.bVm(),t.EFF(33,"\n\n      "),t.qex(34,9),t.EFF(35,"\n        "),t.DNE(36,vt,3,3,"th",5),t.EFF(37,"\n        "),t.DNE(38,kt,2,2,"td",6),t.EFF(39,"\n      "),t.bVm(),t.EFF(40,"\n\n      "),t.qex(41,10),t.EFF(42,"\n        "),t.DNE(43,It,3,3,"th",5),t.EFF(44,"\n        "),t.DNE(45,jt,2,2,"td",6),t.EFF(46,"\n      "),t.bVm(),t.EFF(47,"\n\n      "),t.qex(48,11),t.EFF(49,"\n        "),t.DNE(50,$t,3,3,"th",5),t.EFF(51,"\n        "),t.DNE(52,yt,2,2,"td",6),t.EFF(53,"\n      "),t.bVm(),t.EFF(54,"\n\n      "),t.DNE(55,xt,1,0,"tr",12),t.EFF(56,"\n      "),t.DNE(57,Pt,1,0,"tr",13),t.EFF(58,"\n    "),t.k0s(),t.EFF(59,"\n  "),t.k0s(),t.EFF(60,"\n"),t.k0s(),t.EFF(61,"\n")),2&s&&(t.R7$(5),t.JRh(t.bMT(6,4,"labels.heading.All Transactions")),t.R7$(6),t.Y8G("dataSource",a.dataSource),t.R7$(44),t.Y8G("matHeaderRowDef",a.displayedColumns),t.R7$(2),t.Y8G("matRowDefColumns",a.displayedColumns))},dependencies:[l.Zl,l.tL,l.ji,l.cC,l.YV,l.iL,l.KS,l.$R,l.YZ,l.NB,f.D9,v.a],styles:[".tab-container[_ngcontent-%COMP%]{padding:1%;margin:1%}.tab-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:1% auto}.tab-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}"]})}}return e})();function Nt(e,r){1&e&&(t.j41(0,"th",17),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"labels.inputs.name")))}function wt(e,r){if(1&e&&(t.j41(0,"td",18),t.EFF(1),t.k0s()),2&e){const n=r.$implicit;t.R7$(1),t.JRh(n.name)}}function Gt(e,r){1&e&&(t.j41(0,"th",17),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"labels.inputs.Fee/Penalty")))}function Yt(e,r){if(1&e&&(t.j41(0,"td",18),t.EFF(1),t.k0s()),2&e){const n=r.$implicit;t.R7$(1),t.JRh(!0===n.penalty?"Penalty":"Fee")}}function Ot(e,r){1&e&&(t.j41(0,"th",17),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"labels.inputs.Payment Due At")))}function Jt(e,r){if(1&e&&(t.j41(0,"td",18),t.EFF(1),t.nI1(2,"translateKey"),t.k0s()),2&e){const n=r.$implicit;t.R7$(1),t.JRh(t.i5U(2,1,n.chargeTimeType.value,"catalogs"))}}function Vt(e,r){1&e&&(t.j41(0,"th",17),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"labels.inputs.Calculation Type")))}function Ut(e,r){if(1&e&&(t.j41(0,"td",18),t.EFF(1),t.nI1(2,"translateKey"),t.k0s()),2&e){const n=r.$implicit;t.R7$(1),t.JRh(t.i5U(2,1,n.chargeCalculationType.value,"catalogs"))}}function Xt(e,r){1&e&&(t.j41(0,"th",17),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"labels.inputs.Due")))}function qt(e,r){if(1&e&&(t.j41(0,"td",18),t.EFF(1),t.nI1(2,"currency"),t.k0s()),2&e){const n=r.$implicit;t.R7$(1),t.SpI("\n          ",t.ii3(2,1,n.amount,n.currency.code,"symbol-narrow","1.2-2"),"\n        ")}}function Bt(e,r){1&e&&(t.j41(0,"th",17),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"labels.inputs.Paid")))}function Lt(e,r){if(1&e&&(t.j41(0,"td",18),t.EFF(1),t.nI1(2,"currency"),t.k0s()),2&e){const n=r.$implicit;t.R7$(1),t.SpI("\n          ",t.ii3(2,1,n.amountPaid,n.currency.code,"symbol-narrow","1.2-2"),"\n        ")}}function Ht(e,r){1&e&&(t.j41(0,"th",17),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"labels.inputs.Waived")))}function zt(e,r){if(1&e&&(t.j41(0,"td",18),t.EFF(1),t.nI1(2,"currency"),t.k0s()),2&e){const n=r.$implicit;t.R7$(1),t.SpI("\n          ",t.ii3(2,1,n.amountWaived,n.currency.code,"symbol-narrow","1.2-2"),"\n        ")}}function Zt(e,r){1&e&&(t.j41(0,"th",17),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"labels.inputs.Outstanding")))}function Kt(e,r){if(1&e&&(t.j41(0,"td",18),t.EFF(1),t.nI1(2,"currency"),t.k0s()),2&e){const n=r.$implicit;t.R7$(1),t.SpI("\n          ",t.ii3(2,1,n.amountOutstanding,n.currency.code,"symbol-narrow","1.2-2"),"\n        ")}}function Wt(e,r){1&e&&(t.j41(0,"th",17),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"labels.inputs.Actions")))}function Qt(e,r){if(1&e){const n=t.RV6();t.j41(0,"button",22),t.bIt("click",function(a){t.eBV(n);const o=t.XpG(2).$implicit,i=t.XpG();return i.routeEdit(a),t.Njj(i.editCharge(o))}),t.nI1(1,"translate"),t.EFF(2,"\n              "),t.nrm(3,"i",23),t.EFF(4,"\n            "),t.k0s()}2&e&&t.FS9("matTooltip",t.bMT(1,1,"tooltips.Edit Charge"))}function te(e,r){if(1&e){const n=t.RV6();t.j41(0,"button",24),t.bIt("click",function(a){t.eBV(n);const o=t.XpG(2).$implicit,i=t.XpG();return i.routeEdit(a),t.Njj(i.deleteCharge(o.id))}),t.nI1(1,"translate"),t.EFF(2,"\n              "),t.nrm(3,"i",25),t.EFF(4,"\n            "),t.k0s()}2&e&&t.FS9("matTooltip",t.bMT(1,1,"tooltips.Delete Charge"))}function ee(e,r){1&e&&(t.j41(0,"span"),t.EFF(1,"\n            "),t.DNE(2,Qt,5,3,"button",20),t.EFF(3,"\n            "),t.DNE(4,te,5,3,"button",21),t.EFF(5,"\n          "),t.k0s()),2&e&&(t.R7$(2),t.Y8G("mifosxHasPermission","UPDATE_SHARESACCOUNTCHARGE"),t.R7$(2),t.Y8G("mifosxHasPermission","DELETE_SHARESACCOUNTCHARGE"))}function ne(e,r){if(1&e){const n=t.RV6();t.j41(0,"button",22),t.bIt("click",function(a){t.eBV(n);const o=t.XpG(2).$implicit,i=t.XpG();return i.routeEdit(a),t.Njj(i.payCharge(o.id))}),t.nI1(1,"translate"),t.EFF(2,"\n              "),t.nrm(3,"i",26),t.EFF(4,"\n            "),t.k0s()}2&e&&t.FS9("matTooltip",t.bMT(1,1,"tooltips.Pay Charge"))}function ae(e,r){if(1&e){const n=t.RV6();t.j41(0,"button",22),t.bIt("click",function(a){t.eBV(n);const o=t.XpG(2).$implicit,i=t.XpG();return i.routeEdit(a),t.Njj(i.waiveCharge(o.id))}),t.nI1(1,"translate"),t.EFF(2,"\n              "),t.nrm(3,"i",27),t.EFF(4,"\n            "),t.k0s()}2&e&&t.FS9("matTooltip",t.bMT(1,1,"tooltips.Waive Charge"))}function se(e,r){1&e&&(t.j41(0,"span"),t.EFF(1,"\n            "),t.DNE(2,ne,5,3,"button",20),t.EFF(3,"\n            "),t.DNE(4,ae,5,3,"button",20),t.EFF(5,"\n          "),t.k0s()),2&e&&(t.R7$(2),t.Y8G("mifosxHasPermission","PAY_SHARESACCOUNTCHARGE"),t.R7$(2),t.Y8G("mifosxHasPermission","WAIVE_SHARESACCOUNTCHARGE"))}function re(e,r){if(1&e&&(t.j41(0,"td",18),t.EFF(1,"\n          "),t.DNE(2,ee,6,2,"span",19),t.EFF(3,"\n          "),t.DNE(4,se,6,2,"span",19),t.EFF(5,"\n        "),t.k0s()),2&e){const n=t.XpG();t.R7$(2),t.Y8G("ngIf","Submitted and pending approval"===n.sharesAccountData.status.value),t.R7$(2),t.Y8G("ngIf","Active"===n.sharesAccountData.status.value)}}function oe(e,r){1&e&&t.nrm(0,"tr",28)}function ie(e,r){1&e&&t.nrm(0,"tr",29)}let ce=(()=>{class e{constructor(n){this.route=n,this.displayedColumns=["name","feeOrPenalty","paymentDueAt","calculationType","due","paid","waived","outstanding","actions"],this.route.parent.data.subscribe(s=>{this.sharesAccountData=s.sharesAccountData,this.chargesData=this.sharesAccountData.charges})}ngOnInit(){const n=this.chargesData?this.chargesData.filter(s=>s.isActive):[];this.dataSource=new l.I6(n)}static{this.\u0275fac=function(s){return new(s||e)(t.rXU(u.nX))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["mifosx-charges-tab"]],decls:83,vars:6,consts:[[1,"tab-container","mat-typography"],[1,"m-b-10"],[1,"mat-elevation-z1","m-b-25"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","feeOrPenalty"],["matColumnDef","paymentDueAt"],["matColumnDef","calculationType"],["matColumnDef","due"],["matColumnDef","paid"],["matColumnDef","waived"],["matColumnDef","outstanding"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[4,"ngIf"],["class","account-action-button","mat-raised-button","","color","primary",3,"matTooltip","click",4,"mifosxHasPermission"],["class","account-action-button","mat-raised-button","","color","warn",3,"matTooltip","click",4,"mifosxHasPermission"],["mat-raised-button","","color","primary",1,"account-action-button",3,"matTooltip","click"],[1,"fa","fa-pencil"],["mat-raised-button","","color","warn",1,"account-action-button",3,"matTooltip","click"],[1,"fa","fa-trash"],[1,"fa","fa-dollar"],[1,"fa","fa-flag"],["mat-header-row",""],["mat-row",""]],template:function(s,a){1&s&&(t.j41(0,"div",0),t.EFF(1,"\n  "),t.j41(2,"div",1),t.EFF(3,"\n    "),t.j41(4,"h3"),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.EFF(7,"\n  "),t.k0s(),t.EFF(8,"\n\n  "),t.j41(9,"div",2),t.EFF(10,"\n    "),t.j41(11,"table",3),t.EFF(12,"\n      "),t.qex(13,4),t.EFF(14,"\n        "),t.DNE(15,Nt,3,3,"th",5),t.EFF(16,"\n        "),t.DNE(17,wt,2,1,"td",6),t.EFF(18,"\n      "),t.bVm(),t.EFF(19,"\n\n      "),t.qex(20,7),t.EFF(21,"\n        "),t.DNE(22,Gt,3,3,"th",5),t.EFF(23,"\n        "),t.DNE(24,Yt,2,1,"td",6),t.EFF(25,"\n      "),t.bVm(),t.EFF(26,"\n\n      "),t.qex(27,8),t.EFF(28,"\n        "),t.DNE(29,Ot,3,3,"th",5),t.EFF(30,"\n        "),t.DNE(31,Jt,3,4,"td",6),t.EFF(32,"\n      "),t.bVm(),t.EFF(33,"\n\n      "),t.qex(34,9),t.EFF(35,"\n        "),t.DNE(36,Vt,3,3,"th",5),t.EFF(37,"\n        "),t.DNE(38,Ut,3,4,"td",6),t.EFF(39,"\n      "),t.bVm(),t.EFF(40,"\n\n      "),t.qex(41,10),t.EFF(42,"\n        "),t.DNE(43,Xt,3,3,"th",5),t.EFF(44,"\n        "),t.DNE(45,qt,3,6,"td",6),t.EFF(46,"\n      "),t.bVm(),t.EFF(47,"\n\n      "),t.qex(48,11),t.EFF(49,"\n        "),t.DNE(50,Bt,3,3,"th",5),t.EFF(51,"\n        "),t.DNE(52,Lt,3,6,"td",6),t.EFF(53,"\n      "),t.bVm(),t.EFF(54,"\n\n      "),t.qex(55,12),t.EFF(56,"\n        "),t.DNE(57,Ht,3,3,"th",5),t.EFF(58,"\n        "),t.DNE(59,zt,3,6,"td",6),t.EFF(60,"\n      "),t.bVm(),t.EFF(61,"\n\n      "),t.qex(62,13),t.EFF(63,"\n        "),t.DNE(64,Zt,3,3,"th",5),t.EFF(65,"\n        "),t.DNE(66,Kt,3,6,"td",6),t.EFF(67,"\n      "),t.bVm(),t.EFF(68,"\n\n      "),t.qex(69,14),t.EFF(70,"\n        "),t.DNE(71,Wt,3,3,"th",5),t.EFF(72,"\n        "),t.DNE(73,re,6,2,"td",6),t.EFF(74,"\n      "),t.bVm(),t.EFF(75,"\n\n      "),t.DNE(76,oe,1,0,"tr",15),t.EFF(77,"\n      "),t.DNE(78,ie,1,0,"tr",16),t.EFF(79,"\n    "),t.k0s(),t.EFF(80,"\n  "),t.k0s(),t.EFF(81,"\n"),t.k0s(),t.EFF(82,"\n")),2&s&&(t.R7$(5),t.JRh(t.bMT(6,4,"labels.heading.All Charges")),t.R7$(6),t.Y8G("dataSource",a.dataSource),t.R7$(65),t.Y8G("matHeaderRowDef",a.displayedColumns),t.R7$(2),t.Y8G("matRowDefColumns",a.displayedColumns))},dependencies:[d.bT,b.$z,l.Zl,l.tL,l.ji,l.cC,l.YV,l.iL,l.KS,l.$R,l.YZ,l.NB,$.oV,z.p,d.oe,f.D9,I.D],styles:[".tab-container[_ngcontent-%COMP%]{padding:1%;margin:1%}.tab-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:1% auto}.tab-container[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{margin-left:auto}.tab-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.tab-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .account-action-button[_ngcontent-%COMP%]{min-width:26px;padding:0 6px;margin:4px;line-height:25px}.tab-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .select-row[_ngcontent-%COMP%]:hover{cursor:pointer}"]})}}return e})();function le(e,r){1&e&&(t.j41(0,"th",12),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"labels.inputs.Transaction Date")))}function me(e,r){if(1&e&&(t.j41(0,"td",13),t.EFF(1),t.nI1(2,"dateFormat"),t.k0s()),2&e){const n=r.$implicit;t.R7$(1),t.JRh(t.bMT(2,1,n.postedDate))}}function ue(e,r){1&e&&(t.j41(0,"th",12),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"labels.inputs.Amount")))}function Fe(e,r){if(1&e&&(t.j41(0,"td",13),t.EFF(1),t.nI1(2,"currency"),t.k0s()),2&e){const n=r.$implicit,s=t.XpG();t.R7$(1),t.SpI("\n          ",t.ii3(2,1,n.amount,s.shareAccountData.currency.code,"symbol-narrow","1.2-2"),"\n        ")}}function pe(e,r){1&e&&(t.j41(0,"th",12),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"labels.inputs.Transaction Reference")))}function he(e,r){if(1&e&&(t.j41(0,"td",13),t.EFF(1),t.k0s()),2&e){const n=r.$implicit;t.R7$(1),t.JRh(n.savingsTransactionId)}}function de(e,r){1&e&&(t.j41(0,"th",12),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"labels.inputs.Status")))}function Ee(e,r){if(1&e&&(t.j41(0,"td",13),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e){const n=r.$implicit;t.R7$(1),t.JRh(t.bMT(2,1,"labels.status."+n.status.value))}}function fe(e,r){1&e&&t.nrm(0,"tr",14)}function be(e,r){1&e&&t.nrm(0,"tr",15)}let _e=(()=>{class e{constructor(n){this.route=n,this.displayedColumns=["transactionDate","amount","transactionReference","status"],this.route.parent.data.subscribe(s=>{this.shareAccountData=s.sharesAccountData,this.dividendsData=this.shareAccountData.dividends})}ngOnInit(){this.dataSource=new l.I6(this.dividendsData)}static{this.\u0275fac=function(s){return new(s||e)(t.rXU(u.nX))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["mifosx-dividends-tab"]],decls:48,vars:6,consts:[[1,"tab-container","mat-typography"],[1,"m-b-10"],[1,"mat-elevation-z1","m-b-25"],["mat-table","",3,"dataSource"],["matColumnDef","transactionDate"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","amount"],["matColumnDef","transactionReference"],["matColumnDef","status"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(s,a){1&s&&(t.j41(0,"div",0),t.EFF(1,"\n  "),t.j41(2,"div",1),t.EFF(3,"\n    "),t.j41(4,"h3"),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.EFF(7,"\n  "),t.k0s(),t.EFF(8,"\n\n  "),t.j41(9,"div",2),t.EFF(10,"\n    "),t.j41(11,"table",3),t.EFF(12,"\n      "),t.qex(13,4),t.EFF(14,"\n        "),t.DNE(15,le,3,3,"th",5),t.EFF(16,"\n        "),t.DNE(17,me,3,3,"td",6),t.EFF(18,"\n      "),t.bVm(),t.EFF(19,"\n\n      "),t.qex(20,7),t.EFF(21,"\n        "),t.DNE(22,ue,3,3,"th",5),t.EFF(23,"\n        "),t.DNE(24,Fe,3,6,"td",6),t.EFF(25,"\n      "),t.bVm(),t.EFF(26,"\n\n      "),t.qex(27,8),t.EFF(28,"\n        "),t.DNE(29,pe,3,3,"th",5),t.EFF(30,"\n        "),t.DNE(31,he,2,1,"td",6),t.EFF(32,"\n      "),t.bVm(),t.EFF(33,"\n\n      "),t.qex(34,9),t.EFF(35,"\n        "),t.DNE(36,de,3,3,"th",5),t.EFF(37,"\n        "),t.DNE(38,Ee,3,3,"td",6),t.EFF(39,"\n      "),t.bVm(),t.EFF(40,"\n\n      "),t.DNE(41,fe,1,0,"tr",10),t.EFF(42,"\n      "),t.DNE(43,be,1,0,"tr",11),t.EFF(44,"\n    "),t.k0s(),t.EFF(45,"\n  "),t.k0s(),t.EFF(46,"\n"),t.k0s(),t.EFF(47,"\n")),2&s&&(t.R7$(5),t.JRh(t.bMT(6,4,"labels.inputs.Dividends")),t.R7$(6),t.Y8G("dataSource",a.dataSource),t.R7$(30),t.Y8G("matHeaderRowDef",a.displayedColumns),t.R7$(2),t.Y8G("matRowDefColumns",a.displayedColumns))},dependencies:[l.Zl,l.tL,l.ji,l.cC,l.YV,l.iL,l.KS,l.$R,l.YZ,l.NB,d.oe,f.D9,v.a],styles:[".tab-container[_ngcontent-%COMP%]{padding:1%;margin:1%}.tab-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:1% auto}.tab-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}"]})}}return e})();var c=m(89417),g=m(52864),O=m(86600),E=m(25084),p=m(32102),S=m(59042),J=m(82798),A=m(36013);function Te(e,r){if(1&e&&(t.j41(0,"mat-option",15),t.EFF(1),t.k0s()),2&e){const n=r.$implicit;t.Y8G("value",n.id),t.R7$(1),t.SpI("\n          ",n.name,"\n        ")}}let y=(()=>{class e{constructor(n,s,a){this.formBuilder=n,this.sharesService=s,this.settingsService=a,this.minDate=new Date(2e3,0,1),this.maxDate=new Date,this.sharesAccountProductTemplate=new t.bkB,this.createSharesAccountDetailsForm()}ngOnInit(){this.maxDate=this.settingsService.businessDate,this.buildDependencies(),this.sharesAccountTemplate&&(this.productData=this.sharesAccountTemplate.productOptions,this.sharesAccountTemplate.productId&&this.sharesAccountDetailsForm.patchValue({productId:this.sharesAccountTemplate.productId,submittedDate:this.sharesAccountTemplate.timeline.submittedOnDate&&new Date(this.sharesAccountTemplate.timeline.submittedOnDate),externalId:this.sharesAccountTemplate.externalId}))}createSharesAccountDetailsForm(){this.sharesAccountDetailsForm=this.formBuilder.group({productId:["",c.k0.required],submittedDate:["",c.k0.required],externalId:[""]})}buildDependencies(){const n=this.sharesAccountTemplate.clientId;this.sharesAccountDetailsForm.get("productId").valueChanges.subscribe(s=>{this.sharesService.getSharesAccountTemplate(n,s).subscribe(a=>{this.sharesAccountProductTemplate.emit(a)})})}get sharesAccountDetails(){return this.sharesAccountDetailsForm.value}static{this.\u0275fac=function(s){return new(s||e)(t.rXU(c.ze),t.rXU(_),t.rXU(g.h))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["mifosx-shares-account-details-step"]],inputs:{sharesAccountTemplate:"sharesAccountTemplate"},outputs:{sharesAccountProductTemplate:"sharesAccountProductTemplate"},decls:74,vars:40,consts:[[3,"formGroup"],[1,"layout-row-wrap","gap-2px","responsive-column"],[1,"flex-48"],["formControlName","productId","required",""],[3,"value",4,"ngFor","ngForOf"],[1,"flex-48",3,"click"],["matInput","","formControlName","submittedDate","required","",3,"min","max","matDatepicker"],["matSuffix","",3,"for"],["submittedOnDatePicker",""],["matInput","","formControlName","externalId"],[1,"layout-row","align-center","gap-2percent","margin-t","responsive-column"],["mat-raised-button","","matStepperPrevious","","disabled",""],["icon","arrow-left",1,"m-r-10"],["mat-raised-button","","matStepperNext","",3,"disabled"],["icon","arrow-right",1,"m-l-10"],[3,"value"]],template:function(s,a){if(1&s){const o=t.RV6();t.j41(0,"form",0),t.EFF(1,"\n  "),t.j41(2,"div",1),t.EFF(3,"\n    "),t.j41(4,"mat-form-field",2),t.EFF(5,"\n      "),t.j41(6,"mat-label"),t.EFF(7),t.nI1(8,"translate"),t.k0s(),t.EFF(9,"\n      "),t.j41(10,"mat-select",3),t.EFF(11,"\n        "),t.DNE(12,Te,2,2,"mat-option",4),t.EFF(13,"\n      "),t.k0s(),t.EFF(14,"\n      "),t.j41(15,"mat-error"),t.EFF(16),t.nI1(17,"translate"),t.nI1(18,"translate"),t.j41(19,"strong"),t.EFF(20),t.nI1(21,"translate"),t.k0s(),t.EFF(22,"\n      "),t.k0s(),t.EFF(23,"\n    "),t.k0s(),t.EFF(24,"\n\n    "),t.j41(25,"mat-form-field",5),t.bIt("click",function(){t.eBV(o);const F=t.sdS(36);return t.Njj(F.open())}),t.EFF(26,"\n      "),t.j41(27,"mat-label"),t.EFF(28),t.nI1(29,"translate"),t.k0s(),t.EFF(30,"\n      "),t.nrm(31,"input",6),t.EFF(32,"\n      "),t.nrm(33,"mat-datepicker-toggle",7),t.EFF(34,"\n      "),t.nrm(35,"mat-datepicker",null,8),t.EFF(37,"\n      "),t.j41(38,"mat-error"),t.EFF(39),t.nI1(40,"translate"),t.nI1(41,"translate"),t.j41(42,"strong"),t.EFF(43),t.nI1(44,"translate"),t.k0s(),t.EFF(45,"\n      "),t.k0s(),t.EFF(46,"\n    "),t.k0s(),t.EFF(47,"\n\n    "),t.j41(48,"mat-form-field",2),t.EFF(49,"\n      "),t.j41(50,"mat-label"),t.EFF(51),t.nI1(52,"translate"),t.k0s(),t.EFF(53,"\n      "),t.nrm(54,"input",9),t.EFF(55,"\n    "),t.k0s(),t.EFF(56,"\n  "),t.k0s(),t.EFF(57,"\n\n  "),t.j41(58,"div",10),t.EFF(59,"\n    "),t.j41(60,"button",11),t.EFF(61,"\n      "),t.nrm(62,"fa-icon",12),t.EFF(63),t.nI1(64,"translate"),t.k0s(),t.EFF(65,"\n    "),t.j41(66,"button",13),t.EFF(67),t.nI1(68,"translate"),t.nrm(69,"fa-icon",14),t.EFF(70,"\n    "),t.k0s(),t.EFF(71,"\n  "),t.k0s(),t.EFF(72,"\n"),t.k0s(),t.EFF(73,"\n")}if(2&s){const o=t.sdS(36);let i;t.Y8G("formGroup",a.sharesAccountDetailsForm),t.R7$(7),t.JRh(t.bMT(8,18,"labels.inputs.Product Name")),t.R7$(5),t.Y8G("ngForOf",a.productData),t.R7$(4),t.Lme("\n        ",t.bMT(17,20,"labels.inputs.Product Name")," ",t.bMT(18,22,"labels.commons.is"),"\n        "),t.R7$(4),t.JRh(t.bMT(21,24,"labels.commons.required")),t.R7$(8),t.JRh(t.bMT(29,26,"labels.inputs.Submitted On")),t.R7$(3),t.Y8G("min",a.minDate)("max",a.maxDate)("matDatepicker",o),t.R7$(2),t.Y8G("for",o),t.R7$(6),t.Lme("\n        ",t.bMT(40,28,"labels.inputs.Submission Date")," ",t.bMT(41,30,"labels.commons.is"),"\n        "),t.R7$(4),t.JRh(t.bMT(44,32,"labels.commons.required")),t.R7$(8),t.JRh(t.bMT(52,34,"labels.inputs.External ID")),t.R7$(12),t.SpI("\n      ",t.bMT(64,36,"labels.buttons.Previous"),"\n    "),t.R7$(3),t.Y8G("disabled",!(null!=(i=a.sharesAccountDetailsForm.get("productId"))&&i.value&&null!=(i=a.sharesAccountDetailsForm.get("submittedDate"))&&i.value)),t.R7$(1),t.SpI("\n      ",t.bMT(68,38,"labels.buttons.Next"),"\n      ")}},dependencies:[d.Sq,D.aY,O.wT,b.$z,E.Vh,E.bZ,E.bU,p.rl,p.nJ,p.TL,p.yw,S.fg,J.VO,A.F7,A.FR,c.qT,c.me,c.BC,c.cb,c.YS,c.j4,c.JD,f.D9]})}}return e})();var Ae=m(82765);function ge(e,r){if(1&e&&(t.j41(0,"span",2),t.EFF(1),t.nI1(2,"currency"),t.k0s()),2&e){const n=t.XpG();t.R7$(1),t.JRh(t.ii3(2,1,n.calculateCurrenValue(),n.currency.code,"symbol-narrow","1.2-2"))}}function Se(e,r){if(1&e&&(t.j41(0,"mat-option",24),t.EFF(1),t.k0s()),2&e){const n=r.$implicit;t.Y8G("value",n.id),t.R7$(1),t.Lme("\n          ",n.accountNo," - ",n.savingsProductName,"\n        ")}}function Ce(e,r){if(1&e&&(t.j41(0,"mat-option",24),t.EFF(1),t.nI1(2,"translateKey"),t.k0s()),2&e){const n=r.$implicit;t.Y8G("value",n.id),t.R7$(1),t.SpI("\n          ",t.i5U(2,2,n.value,"catalogs"),"\n        ")}}function De(e,r){if(1&e&&(t.j41(0,"mat-option",24),t.EFF(1),t.nI1(2,"translateKey"),t.k0s()),2&e){const n=r.$implicit;t.Y8G("value",n.id),t.R7$(1),t.SpI("\n          ",t.i5U(2,2,n.value,"catalogs"),"\n        ")}}let x=(()=>{class e{constructor(n,s){this.formBuilder=n,this.settingsService=s,this.minDate=new Date(2e3,0,1),this.maxDate=new Date,this.isSavingsPatched=!1,this.currency=null,this.createSharesAccountTermsForm()}ngOnChanges(){this.sharesAccountProductTemplate&&(this.currency=this.sharesAccountProductTemplate.currency,this.sharesAccountTermsForm.patchValue({currencyCode:this.sharesAccountProductTemplate.currency.code,decimal:this.sharesAccountProductTemplate.currency.decimalPlaces,currencyMultiple:this.sharesAccountProductTemplate.currency.inMultiplesOf,unitPrice:this.sharesAccountProductTemplate.currentMarketPrice,savingsAccountId:""}),this.setOptions(),this.sharesAccountTemplate&&!this.isSavingsPatched&&this.sharesAccountTemplate.savingsAccountId&&(this.sharesAccountTermsForm.get("savingsAccountId").patchValue(this.sharesAccountTemplate.savingsAccountId),this.isSavingsPatched=!0))}ngOnInit(){this.maxDate=this.settingsService.businessDate,this.sharesAccountTemplate&&this.sharesAccountTermsForm.patchValue({requestedShares:this.sharesAccountTemplate.summary.totalPendingForApprovalShares,minimumActivePeriod:this.sharesAccountTemplate.minimumActivePeriod,minimumActivePeriodFrequencyType:this.sharesAccountTemplate.minimumActivePeriod&&this.sharesAccountTemplate.minimumActivePeriodTypeEnum.id,lockinPeriodFrequency:this.sharesAccountTemplate.lockinPeriod,lockinPeriodFrequencyType:this.sharesAccountTemplate.lockinPeriod&&this.sharesAccountTemplate.lockPeriodTypeEnum.id,applicationDate:this.sharesAccountTemplate.purchasedShares[0].purchasedDate&&new Date(this.sharesAccountTemplate.purchasedShares[0].purchasedDate),allowDividendCalculationForInactiveClients:this.sharesAccountTemplate.allowDividendCalculationForInactiveClients})}createSharesAccountTermsForm(){this.sharesAccountTermsForm=this.formBuilder.group({currencyCode:[{value:"",disabled:!0}],decimal:[{value:"",disabled:!0}],requestedShares:["",c.k0.required],unitPrice:[{value:"",disabled:!0}],currencyMultiple:[{value:"",disabled:!0}],savingsAccountId:["",c.k0.required],minimumActivePeriod:[""],minimumActivePeriodFrequencyType:[""],lockinPeriodFrequency:[""],lockinPeriodFrequencyType:[""],applicationDate:["",c.k0.required],allowDividendCalculationForInactiveClients:[!1]})}setOptions(){this.minimumActivePeriodFrequencyTypeData=this.sharesAccountProductTemplate.minimumActivePeriodFrequencyTypeOptions,this.lockinPeriodFrequencyTypeData=this.sharesAccountProductTemplate.lockinPeriodFrequencyTypeOptions,this.savingsAccountsData=this.sharesAccountProductTemplate.clientSavingsAccounts}get sharesAccountTerms(){return this.sharesAccountTermsForm.value}calculateCurrenValue(){return this.sharesAccountTermsForm.value.requestedShares&&this.sharesAccountProductTemplate.currentMarketPrice?this.sharesAccountProductTemplate.currentMarketPrice*this.sharesAccountTermsForm.value.requestedShares:0}static{this.\u0275fac=function(s){return new(s||e)(t.rXU(c.ze),t.rXU(g.h))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["mifosx-shares-account-terms-step"]],inputs:{sharesAccountProductTemplate:"sharesAccountProductTemplate",sharesAccountTemplate:"sharesAccountTemplate"},features:[t.OA$],decls:157,vars:78,consts:[[3,"formGroup"],[1,"layout-row-wrap","gap-2percent","responsive-column","align-start-center"],[1,"flex-48"],["matInput","","formControlName","currencyCode"],["type","number","matInput","","formControlName","unitPrice"],["type","number","matInput","","formControlName","requestedShares","required",""],["class","flex-48",4,"ngIf"],["formControlName","savingsAccountId","required",""],[3,"value",4,"ngFor","ngForOf"],[1,"flex-48",3,"click"],["matInput","","formControlName","applicationDate","required","",3,"min","max","matDatepicker"],["matSuffix","",3,"for"],["applicationDatePicker",""],["labelPosition","before","formControlName","allowDividendCalculationForInactiveClients",1,"flex-48"],[1,"mat-h4","flex-98"],["type","number","matInput","","formControlName","minimumActivePeriod"],["formControlName","minimumActivePeriodFrequencyType"],["type","number","matInput","","formControlName","lockinPeriodFrequency"],["formControlName","lockinPeriodFrequencyType"],[1,"layout-row","align-center","gap-2percent","margin-t","responsive-column"],["mat-raised-button","","matStepperPrevious",""],["icon","arrow-left",1,"m-r-10"],["mat-raised-button","","matStepperNext",""],["icon","arrow-right",1,"m-l-10"],[3,"value"]],template:function(s,a){if(1&s){const o=t.RV6();t.j41(0,"form",0),t.EFF(1,"\n  "),t.j41(2,"div",1),t.EFF(3,"\n    "),t.j41(4,"mat-form-field",2),t.EFF(5,"\n      "),t.j41(6,"mat-label"),t.EFF(7),t.nI1(8,"translate"),t.k0s(),t.EFF(9,"\n      "),t.nrm(10,"input",3),t.EFF(11,"\n    "),t.k0s(),t.EFF(12,"\n\n    "),t.j41(13,"mat-form-field",2),t.EFF(14,"\n      "),t.j41(15,"mat-label"),t.EFF(16),t.nI1(17,"translate"),t.k0s(),t.EFF(18,"\n      "),t.nrm(19,"input",4),t.EFF(20,"\n    "),t.k0s(),t.EFF(21,"\n\n    "),t.j41(22,"mat-form-field",2),t.EFF(23,"\n      "),t.j41(24,"mat-label"),t.EFF(25),t.nI1(26,"translate"),t.k0s(),t.EFF(27,"\n      "),t.nrm(28,"input",5),t.EFF(29,"\n      "),t.j41(30,"mat-error"),t.EFF(31),t.nI1(32,"translate"),t.nI1(33,"translate"),t.j41(34,"strong"),t.EFF(35),t.nI1(36,"translate"),t.k0s(),t.EFF(37,"\n      "),t.k0s(),t.EFF(38,"\n    "),t.k0s(),t.EFF(39,"\n    "),t.DNE(40,ge,3,6,"span",6),t.EFF(41,"\n\n    "),t.j41(42,"mat-form-field",2),t.EFF(43,"\n      "),t.j41(44,"mat-label"),t.EFF(45),t.nI1(46,"translate"),t.k0s(),t.EFF(47,"\n      "),t.j41(48,"mat-select",7),t.EFF(49,"\n        "),t.DNE(50,Se,2,3,"mat-option",8),t.EFF(51,"\n      "),t.k0s(),t.EFF(52,"\n      "),t.j41(53,"mat-error"),t.EFF(54),t.nI1(55,"translate"),t.nI1(56,"translate"),t.j41(57,"strong"),t.EFF(58),t.nI1(59,"translate"),t.k0s(),t.EFF(60,"\n      "),t.k0s(),t.EFF(61,"\n    "),t.k0s(),t.EFF(62,"\n\n    "),t.j41(63,"mat-form-field",9),t.bIt("click",function(){t.eBV(o);const F=t.sdS(74);return t.Njj(F.open())}),t.EFF(64,"\n      "),t.j41(65,"mat-label"),t.EFF(66),t.nI1(67,"translate"),t.k0s(),t.EFF(68,"\n      "),t.nrm(69,"input",10),t.EFF(70,"\n      "),t.nrm(71,"mat-datepicker-toggle",11),t.EFF(72,"\n      "),t.nrm(73,"mat-datepicker",null,12),t.EFF(75,"\n      "),t.j41(76,"mat-error"),t.EFF(77),t.nI1(78,"translate"),t.nI1(79,"translate"),t.j41(80,"strong"),t.EFF(81),t.nI1(82,"translate"),t.k0s(),t.EFF(83,"\n      "),t.k0s(),t.EFF(84,"\n    "),t.k0s(),t.EFF(85,"\n\n    "),t.j41(86,"mat-checkbox",13),t.EFF(87),t.nI1(88,"translate"),t.k0s(),t.EFF(89,"\n\n    "),t.j41(90,"h4",14),t.EFF(91),t.nI1(92,"translate"),t.k0s(),t.EFF(93,"\n\n    "),t.j41(94,"mat-form-field",2),t.EFF(95,"\n      "),t.j41(96,"mat-label"),t.EFF(97),t.nI1(98,"translate"),t.k0s(),t.EFF(99,"\n      "),t.nrm(100,"input",15),t.EFF(101,"\n    "),t.k0s(),t.EFF(102,"\n\n    "),t.j41(103,"mat-form-field",2),t.EFF(104,"\n      "),t.j41(105,"mat-label"),t.EFF(106),t.nI1(107,"translate"),t.k0s(),t.EFF(108,"\n      "),t.j41(109,"mat-select",16),t.EFF(110,"\n        "),t.DNE(111,Ce,3,5,"mat-option",8),t.EFF(112,"\n      "),t.k0s(),t.EFF(113,"\n    "),t.k0s(),t.EFF(114,"\n\n    "),t.j41(115,"h4",14),t.EFF(116),t.nI1(117,"translate"),t.k0s(),t.EFF(118,"\n\n    "),t.j41(119,"mat-form-field",2),t.EFF(120,"\n      "),t.j41(121,"mat-label"),t.EFF(122),t.nI1(123,"translate"),t.k0s(),t.EFF(124,"\n      "),t.nrm(125,"input",17),t.EFF(126,"\n    "),t.k0s(),t.EFF(127,"\n\n    "),t.j41(128,"mat-form-field",2),t.EFF(129,"\n      "),t.j41(130,"mat-label"),t.EFF(131),t.nI1(132,"translate"),t.k0s(),t.EFF(133,"\n      "),t.j41(134,"mat-select",18),t.EFF(135,"\n        "),t.DNE(136,De,3,5,"mat-option",8),t.EFF(137,"\n      "),t.k0s(),t.EFF(138,"\n    "),t.k0s(),t.EFF(139,"\n  "),t.k0s(),t.EFF(140,"\n\n  "),t.j41(141,"div",19),t.EFF(142,"\n    "),t.j41(143,"button",20),t.EFF(144,"\n      "),t.nrm(145,"fa-icon",21),t.EFF(146),t.nI1(147,"translate"),t.k0s(),t.EFF(148,"\n    "),t.j41(149,"button",22),t.EFF(150),t.nI1(151,"translate"),t.nrm(152,"fa-icon",23),t.EFF(153,"\n    "),t.k0s(),t.EFF(154,"\n  "),t.k0s(),t.EFF(155,"\n"),t.k0s(),t.EFF(156,"\n")}if(2&s){const o=t.sdS(74);t.Y8G("formGroup",a.sharesAccountTermsForm),t.R7$(7),t.JRh(t.bMT(8,32,"labels.inputs.Currency")),t.R7$(9),t.JRh(t.bMT(17,34,"labels.inputs.Current Price")),t.R7$(9),t.JRh(t.bMT(26,36,"labels.inputs.Total Number of Shares")),t.R7$(6),t.Lme("\n        ",t.bMT(32,38,"labels.inputs.Total Number of Shares")," ",t.bMT(33,40,"labels.commons.is"),"\n        "),t.R7$(4),t.JRh(t.bMT(36,42,"labels.commons.required")),t.R7$(5),t.Y8G("ngIf",a.currency),t.R7$(5),t.JRh(t.bMT(46,44,"labels.inputs.Default Savings Account")),t.R7$(5),t.Y8G("ngForOf",a.savingsAccountsData),t.R7$(4),t.Lme("\n        ",t.bMT(55,46,"labels.inputs.Default Savings Account")," ",t.bMT(56,48,"labels.commons.is"),"\n        "),t.R7$(4),t.JRh(t.bMT(59,50,"labels.commons.required")),t.R7$(8),t.JRh(t.bMT(67,52,"labels.inputs.Application Date")),t.R7$(3),t.Y8G("min",a.minDate)("max",a.maxDate)("matDatepicker",o),t.R7$(2),t.Y8G("for",o),t.R7$(6),t.Lme("\n        ",t.bMT(78,54,"labels.inputs.Application Date")," ",t.bMT(79,56,"labels.commons.is"),"\n        "),t.R7$(4),t.JRh(t.bMT(82,58,"labels.commons.required")),t.R7$(6),t.SpI("\n      ",t.bMT(88,60,"labels.inputs.Allow dividends for inactive clients"),"\n    "),t.R7$(4),t.JRh(t.bMT(92,62,"labels.heading.Minimum Active Period")),t.R7$(6),t.JRh(t.bMT(98,64,"labels.inputs.Frequency")),t.R7$(9),t.JRh(t.bMT(107,66,"labels.inputs.Type")),t.R7$(5),t.Y8G("ngForOf",a.minimumActivePeriodFrequencyTypeData),t.R7$(5),t.JRh(t.bMT(117,68,"labels.heading.Lock-in Period")),t.R7$(6),t.JRh(t.bMT(123,70,"labels.inputs.Frequency")),t.R7$(9),t.JRh(t.bMT(132,72,"labels.inputs.Type")),t.R7$(5),t.Y8G("ngForOf",a.lockinPeriodFrequencyTypeData),t.R7$(10),t.SpI("\n      ",t.bMT(147,74,"labels.buttons.Previous"),"\n    "),t.R7$(4),t.SpI("\n      ",t.bMT(151,76,"labels.buttons.Next"),"\n      ")}},dependencies:[d.Sq,d.bT,D.aY,O.wT,b.$z,Ae.So,E.Vh,E.bZ,E.bU,p.rl,p.nJ,p.TL,p.yw,S.fg,J.VO,A.F7,A.FR,c.qT,c.me,c.Q0,c.BC,c.cb,c.YS,c.j4,c.JD,d.oe,f.D9,I.D],styles:["h4[_ngcontent-%COMP%]{font-weight:500;margin:1em 0}.margin-t[_ngcontent-%COMP%]{margin-top:1em}"]})}}return e})();var Re=m(64682),ve=m(6841),ke=m(11848);function Ie(e,r){if(1&e&&(t.j41(0,"mat-option",22),t.EFF(1),t.k0s()),2&e){const n=r.$implicit;t.Y8G("value",n),t.R7$(1),t.SpI("\n        ",n.name,"\n      ")}}function je(e,r){1&e&&(t.j41(0,"th",23),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"labels.inputs.name")))}function $e(e,r){if(1&e&&(t.j41(0,"td",24),t.EFF(1),t.k0s()),2&e){const n=r.$implicit;t.R7$(1),t.SpI("\n        ",n.name+", "+n.currency.displaySymbol,"\n      ")}}function ye(e,r){1&e&&(t.j41(0,"th",23),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"labels.inputs.Type")))}function xe(e,r){if(1&e&&(t.j41(0,"td",24),t.EFF(1),t.nI1(2,"translateKey"),t.k0s()),2&e){const n=r.$implicit;t.R7$(1),t.SpI("\n        ",t.i5U(2,1,n.chargeCalculationType.value,"catalogs"),"\n      ")}}function Pe(e,r){1&e&&(t.j41(0,"th",23),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"labels.inputs.Amount")))}function Me(e,r){if(1&e){const n=t.RV6();t.j41(0,"td",24),t.EFF(1),t.j41(2,"button",25),t.bIt("click",function(){const o=t.eBV(n).$implicit,i=t.XpG();return t.Njj(i.editCharge(o))}),t.EFF(3,"\n          "),t.nrm(4,"fa-icon",26),t.EFF(5,"\n        "),t.k0s(),t.EFF(6,"\n      "),t.k0s()}if(2&e){const n=r.$implicit;t.R7$(1),t.SpI("\n        ",n.amount||n.amountOrPercentage,"\n        ")}}function Ne(e,r){1&e&&(t.j41(0,"th",23),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"labels.inputs.Collected On")))}function we(e,r){if(1&e&&(t.j41(0,"td",24),t.EFF(1),t.nI1(2,"translateKey"),t.k0s()),2&e){const n=r.$implicit;t.R7$(1),t.SpI("\n        ",t.i5U(2,1,n.chargeTimeType.value,"catalogs"),"\n      ")}}function Ge(e,r){1&e&&(t.j41(0,"th",23),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"labels.inputs.Actions")))}function Ye(e,r){if(1&e){const n=t.RV6();t.j41(0,"td",24),t.EFF(1,"\n        "),t.j41(2,"button",27),t.bIt("click",function(){const o=t.eBV(n).$implicit,i=t.XpG();return t.Njj(i.deleteCharge(o))}),t.EFF(3,"\n          "),t.nrm(4,"fa-icon",28),t.EFF(5,"\n        "),t.k0s(),t.EFF(6,"\n      "),t.k0s()}}function Oe(e,r){1&e&&t.nrm(0,"tr",29)}function Je(e,r){1&e&&t.nrm(0,"tr",30)}let P=(()=>{class e{constructor(n,s){this.dialog=n,this.translateService=s,this.chargeData=[],this.chargesDataSource=[],this.pristine=!0,this.isChargesPatched=!1,this.displayedColumns=["name","chargeCalculationType","amount","chargeTimeType","action"]}ngOnInit(){this.currencyCode.valueChanges.subscribe(()=>{!this.isChargesPatched&&this.sharesAccountTemplate.charges?(this.chargesDataSource=this.sharesAccountTemplate.charges,this.isChargesPatched=!0):this.chargesDataSource=[]})}ngOnChanges(){this.sharesAccountProductTemplate&&(this.chargeData=this.sharesAccountTemplate.chargeOptions,this.chargesDataSource=this.sharesAccountProductTemplate.charges)}addCharge(n){this.chargesDataSource=this.chargesDataSource.concat([n.value]),n.value="",this.pristine=!1}editCharge(n){const s=[new ve.O({controlName:"amount",label:this.translateService.instant("labels.inputs.Amount"),value:n.amount||n.amountOrPercentage,type:"number",required:!1})],a={title:this.translateService.instant("labels.heading.Edit Charge"),layout:{addButtonText:"Submit"},formfields:s};this.dialog.open(Re.u,{data:a}).afterClosed().subscribe(i=>{if(i.data){const F={...n,amount:i.data.value.amount};this.chargesDataSource.splice(this.chargesDataSource.indexOf(n),1,F),this.chargesDataSource=this.chargesDataSource.concat([])}}),this.pristine=!1}deleteCharge(n){this.dialog.open(L.X,{data:{deleteContext:`charge ${n.name}`}}).afterClosed().subscribe(a=>{a.delete&&(this.chargesDataSource.splice(this.chargesDataSource.indexOf(n),1),this.chargesDataSource=this.chargesDataSource.concat([]))}),this.pristine=!1}get sharesAccountCharges(){return{charges:this.chargesDataSource}}static{this.\u0275fac=function(s){return new(s||e)(t.rXU(T.bZ),t.rXU(f.c$))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["mifosx-shares-account-charges-step"]],inputs:{sharesAccountProductTemplate:"sharesAccountProductTemplate",sharesAccountTemplate:"sharesAccountTemplate",currencyCode:"currencyCode"},features:[t.OA$],decls:83,vars:22,consts:[[1,"layout-row-wrap","gap-2px","responsive-column"],[1,"flex-48"],["charge",""],[3,"value",4,"ngFor","ngForOf"],[1,"flex-48","align-center"],["type","button","mat-raised-button","","color","primary",3,"disabled","click"],["icon","plus",1,"m-r-10"],["mat-table","",1,"flex-98","mat-elevation-z1",3,"dataSource","hidden"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","chargeCalculationType"],["matColumnDef","amount"],["matColumnDef","chargeTimeType"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"layout-row","responsive-column","align-center","gap-2px","margin-t"],["mat-raised-button","","matStepperPrevious",""],["icon","arrow-left",1,"m-r-10"],["mat-raised-button","","matStepperNext",""],["icon","arrow-right",1,"m-l-10"],[3,"value"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","primary",3,"click"],["icon","pen"],["mat-icon-button","","color","warn",3,"click"],["icon","trash"],["mat-header-row",""],["mat-row",""]],template:function(s,a){if(1&s){const o=t.RV6();t.j41(0,"div",0),t.EFF(1,"\n  "),t.j41(2,"mat-form-field",1),t.EFF(3,"\n    "),t.j41(4,"mat-label"),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.EFF(7,"\n    "),t.j41(8,"mat-select",null,2),t.EFF(10,"\n      "),t.DNE(11,Ie,2,2,"mat-option",3),t.nI1(12,"chargesFilter"),t.EFF(13,"\n    "),t.k0s(),t.EFF(14,"\n  "),t.k0s(),t.EFF(15,"\n\n  "),t.j41(16,"div",4),t.EFF(17,"\n    "),t.j41(18,"button",5),t.bIt("click",function(){t.eBV(o);const F=t.sdS(9);return t.Njj(a.addCharge(F))}),t.EFF(19,"\n      "),t.nrm(20,"fa-icon",6),t.EFF(21),t.nI1(22,"translate"),t.k0s(),t.EFF(23,"\n  "),t.k0s(),t.EFF(24,"\n\n  "),t.j41(25,"table",7),t.EFF(26,"\n    "),t.qex(27,8),t.EFF(28,"\n      "),t.DNE(29,je,3,3,"th",9),t.EFF(30,"\n      "),t.DNE(31,$e,2,1,"td",10),t.EFF(32,"\n    "),t.bVm(),t.EFF(33,"\n\n    "),t.qex(34,11),t.EFF(35,"\n      "),t.DNE(36,ye,3,3,"th",9),t.EFF(37,"\n      "),t.DNE(38,xe,3,4,"td",10),t.EFF(39,"\n    "),t.bVm(),t.EFF(40,"\n\n    "),t.qex(41,12),t.EFF(42,"\n      "),t.DNE(43,Pe,3,3,"th",9),t.EFF(44,"\n      "),t.DNE(45,Me,7,1,"td",10),t.EFF(46,"\n    "),t.bVm(),t.EFF(47,"\n\n    "),t.qex(48,13),t.EFF(49,"\n      "),t.DNE(50,Ne,3,3,"th",9),t.EFF(51,"\n      "),t.DNE(52,we,3,4,"td",10),t.EFF(53,"\n    "),t.bVm(),t.EFF(54,"\n\n    "),t.qex(55,14),t.EFF(56,"\n      "),t.DNE(57,Ge,3,3,"th",9),t.EFF(58,"\n      "),t.DNE(59,Ye,7,0,"td",10),t.EFF(60,"\n    "),t.bVm(),t.EFF(61,"\n\n    "),t.DNE(62,Oe,1,0,"tr",15),t.EFF(63,"\n    "),t.DNE(64,Je,1,0,"tr",16),t.EFF(65,"\n  "),t.k0s(),t.EFF(66,"\n"),t.k0s(),t.EFF(67,"\n\n"),t.j41(68,"div",17),t.EFF(69,"\n  "),t.j41(70,"button",18),t.EFF(71,"\n    "),t.nrm(72,"fa-icon",19),t.EFF(73),t.nI1(74,"translate"),t.k0s(),t.EFF(75,"\n  "),t.j41(76,"button",20),t.EFF(77),t.nI1(78,"translate"),t.nrm(79,"fa-icon",21),t.EFF(80,"\n  "),t.k0s(),t.EFF(81,"\n"),t.k0s(),t.EFF(82,"\n")}if(2&s){const o=t.sdS(9);t.R7$(5),t.JRh(t.bMT(6,10,"labels.inputs.Charge")),t.R7$(6),t.Y8G("ngForOf",t.brH(12,12,a.chargeData,a.chargesDataSource,a.currencyCode.value)),t.R7$(7),t.Y8G("disabled",!o.value),t.R7$(3),t.SpI("\n      ",t.bMT(22,16,"labels.buttons.Add"),"\n    "),t.R7$(4),t.Y8G("dataSource",a.chargesDataSource)("hidden",0===a.chargesDataSource.length),t.R7$(37),t.Y8G("matHeaderRowDef",a.displayedColumns),t.R7$(2),t.Y8G("matRowDefColumns",a.displayedColumns),t.R7$(9),t.SpI("\n    ",t.bMT(74,18,"labels.buttons.Previous"),"\n  "),t.R7$(4),t.SpI("\n    ",t.bMT(78,20,"labels.buttons.Next"),"\n    ")}},dependencies:[d.Sq,D.aY,O.wT,b.$z,b.iY,p.rl,p.nJ,J.VO,A.F7,A.FR,l.Zl,l.tL,l.ji,l.cC,l.YV,l.iL,l.KS,l.$R,l.YZ,l.NB,f.D9,ke.s,I.D],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-elevation-z1[_ngcontent-%COMP%]{margin:1em 0 1.5em}.margin-t[_ngcontent-%COMP%]{margin-top:1em}"]})}}return e})();var C=m(6427),Ve=m(71997),Z=m(6440),Ue=m(83127),Xe=m(56852);function qe(e,r){if(1&e&&(t.j41(0,"span",4),t.EFF(1,"\n      "),t.nrm(2,"mifosx-external-identifier",13),t.EFF(3,"\n    "),t.k0s()),2&e){const n=t.XpG();t.R7$(2),t.FS9("externalId",n.sharesAccount.externalId)}}function Be(e,r){1&e&&(t.j41(0,"span",4),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.SpI("\n      ",t.bMT(2,1,"labels.inputs.Unassigned"),"\n    "))}function Le(e,r){if(1&e&&(t.j41(0,"div",2),t.EFF(1,"\n    "),t.j41(2,"span",3),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.EFF(5,"\n    "),t.j41(6,"span",4),t.EFF(7),t.nI1(8,"translateKey"),t.nI1(9,"find"),t.k0s(),t.EFF(10,"\n  "),t.k0s()),2&e){const n=t.XpG();t.R7$(3),t.JRh(t.bMT(4,3,"labels.inputs.Minimum Active Period")),t.R7$(4),t.Lme("",n.sharesAccount.minimumActivePeriod,"\xa0",t.i5U(8,5,t.ii3(9,8,n.sharesAccount.minimumActivePeriodFrequencyType,n.sharesAccountProductTemplate.minimumActivePeriodFrequencyTypeOptions,"id","value"),"catalogs"),"")}}function He(e,r){if(1&e&&(t.j41(0,"div",2),t.EFF(1,"\n    "),t.j41(2,"span",3),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.EFF(5,"\n    "),t.j41(6,"span",4),t.EFF(7),t.nI1(8,"translateKey"),t.nI1(9,"find"),t.k0s(),t.EFF(10,"\n  "),t.k0s()),2&e){const n=t.XpG();t.R7$(3),t.JRh(t.bMT(4,3,"labels.inputs.Lock-in Period")),t.R7$(4),t.Lme("",n.sharesAccount.lockinPeriodFrequency,"\xa0",t.i5U(8,5,t.ii3(9,8,n.sharesAccount.lockinPeriodFrequencyType,n.sharesAccountProductTemplate.lockinPeriodFrequencyTypeOptions,"id","value"),"catalogs"),"")}}function ze(e,r){1&e&&(t.j41(0,"th",24),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"labels.inputs.name")))}function Ze(e,r){if(1&e&&(t.j41(0,"td",25),t.EFF(1),t.k0s()),2&e){const n=r.$implicit;t.R7$(1),t.SpI("\n          ",n.name+", "+n.currency.displaySymbol,"\n        ")}}function Ke(e,r){1&e&&(t.j41(0,"th",24),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"labels.inputs.Type")))}function We(e,r){if(1&e&&(t.j41(0,"td",25),t.EFF(1),t.nI1(2,"translateKey"),t.k0s()),2&e){const n=r.$implicit;t.R7$(1),t.SpI("\n          ",t.i5U(2,1,n.chargeCalculationType.value,"catalogs"),"\n        ")}}function Qe(e,r){1&e&&(t.j41(0,"th",24),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"labels.inputs.Amount")))}function tn(e,r){if(1&e&&(t.j41(0,"td",25),t.EFF(1),t.k0s()),2&e){const n=r.$implicit;t.R7$(1),t.SpI("\n          ",n.amount||n.amountOrPercentage,"\n        ")}}function en(e,r){1&e&&(t.j41(0,"th",24),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"labels.inputs.Collected On")))}function nn(e,r){if(1&e&&(t.j41(0,"td",25),t.EFF(1),t.nI1(2,"translateKey"),t.k0s()),2&e){const n=r.$implicit;t.R7$(1),t.SpI("\n          ",t.i5U(2,1,n.chargeTimeType.value,"catalogs"),"\n        ")}}function an(e,r){1&e&&t.nrm(0,"tr",26)}function sn(e,r){1&e&&t.nrm(0,"tr",27)}function rn(e,r){if(1&e&&(t.j41(0,"div",14),t.EFF(1,"\n    "),t.j41(2,"h3",1),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.EFF(5,"\n\n    "),t.nrm(6,"mat-divider",2),t.EFF(7,"\n    "),t.j41(8,"table",15),t.EFF(9,"\n      "),t.qex(10,16),t.EFF(11,"\n        "),t.DNE(12,ze,3,3,"th",17),t.EFF(13,"\n        "),t.DNE(14,Ze,2,1,"td",18),t.EFF(15,"\n      "),t.bVm(),t.EFF(16,"\n\n      "),t.qex(17,19),t.EFF(18,"\n        "),t.DNE(19,Ke,3,3,"th",17),t.EFF(20,"\n        "),t.DNE(21,We,3,4,"td",18),t.EFF(22,"\n      "),t.bVm(),t.EFF(23,"\n\n      "),t.qex(24,20),t.EFF(25,"\n        "),t.DNE(26,Qe,3,3,"th",17),t.EFF(27,"\n        "),t.DNE(28,tn,2,1,"td",18),t.EFF(29,"\n      "),t.bVm(),t.EFF(30,"\n\n      "),t.qex(31,21),t.EFF(32,"\n        "),t.DNE(33,en,3,3,"th",17),t.EFF(34,"\n        "),t.DNE(35,nn,3,4,"td",18),t.EFF(36,"\n      "),t.bVm(),t.EFF(37,"\n\n      "),t.DNE(38,an,1,0,"tr",22),t.EFF(39,"\n      "),t.DNE(40,sn,1,0,"tr",23),t.EFF(41,"\n    "),t.k0s(),t.EFF(42,"\n  "),t.k0s()),2&e){const n=t.XpG();t.R7$(3),t.JRh(t.bMT(4,4,"labels.heading.Charges")),t.R7$(5),t.Y8G("dataSource",n.sharesAccount.charges),t.R7$(30),t.Y8G("matHeaderRowDef",n.chargesDisplayedColumns),t.R7$(2),t.Y8G("matRowDefColumns",n.chargesDisplayedColumns)}}const on=function(e){return[e]},cn=function(){return["../"]};let K=(()=>{class e{constructor(){this.chargesDisplayedColumns=["name","chargeCalculationType","amount","chargeTimeType"],this.submitEvent=new t.bkB}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["mifosx-shares-account-preview-step"]],inputs:{sharesAccountProductTemplate:"sharesAccountProductTemplate",sharesAccountTemplate:"sharesAccountTemplate",sharesAccountTermsForm:"sharesAccountTermsForm",sharesAccount:"sharesAccount"},outputs:{submitEvent:"submitEvent"},decls:148,vars:90,consts:[[1,"layout-row-wrap","responsive-column"],[1,"mat-h3","flex-fill"],[1,"flex-fill"],[1,"flex-40"],[1,"flex-60"],["class","flex-60",4,"ngIf"],["class","flex-fill",4,"ngIf"],["class","layout-row-wrap responsive-column flex-fill",4,"ngIf"],[1,"layout-row","responsive-column","align-center","gap-2px","margin-t"],["mat-raised-button","","matStepperPrevious",""],["icon","arrow-left",1,"m-r-10"],["mat-raised-button","",3,"routerLink"],["mat-raised-button","","color","primary",3,"click"],[3,"externalId"],[1,"layout-row-wrap","responsive-column","flex-fill"],["mat-table","",1,"flex-fill","mat-elevation-z1",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","chargeCalculationType"],["matColumnDef","amount"],["matColumnDef","chargeTimeType"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(s,a){1&s&&(t.j41(0,"div",0),t.EFF(1,"\n  "),t.j41(2,"h3",1),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.EFF(5,"\n\n  "),t.nrm(6,"mat-divider",2),t.EFF(7,"\n  "),t.j41(8,"div",2),t.EFF(9,"\n    "),t.j41(10,"span",3),t.EFF(11),t.nI1(12,"translate"),t.k0s(),t.EFF(13,"\n    "),t.j41(14,"span",4),t.EFF(15),t.nI1(16,"find"),t.k0s(),t.EFF(17,"\n  "),t.k0s(),t.EFF(18,"\n\n  "),t.j41(19,"div",2),t.EFF(20,"\n    "),t.j41(21,"span",3),t.EFF(22),t.nI1(23,"translate"),t.k0s(),t.EFF(24,"\n    "),t.j41(25,"span",4),t.EFF(26),t.nI1(27,"dateFormat"),t.k0s(),t.EFF(28,"\n  "),t.k0s(),t.EFF(29,"\n\n  "),t.j41(30,"div",2),t.EFF(31,"\n    "),t.j41(32,"span",3),t.EFF(33),t.nI1(34,"translate"),t.k0s(),t.EFF(35,"\n    "),t.DNE(36,qe,4,1,"span",5),t.EFF(37,"\n    "),t.DNE(38,Be,3,3,"span",5),t.EFF(39,"\n  "),t.k0s(),t.EFF(40,"\n\n  "),t.j41(41,"h3",1),t.EFF(42),t.nI1(43,"translate"),t.k0s(),t.EFF(44,"\n\n  "),t.nrm(45,"mat-divider",2),t.EFF(46,"\n  "),t.j41(47,"div",2),t.EFF(48,"\n    "),t.j41(49,"span",3),t.EFF(50),t.nI1(51,"translate"),t.k0s(),t.EFF(52,"\n    "),t.j41(53,"span",4),t.EFF(54),t.nI1(55,"find"),t.k0s(),t.EFF(56,"\n  "),t.k0s(),t.EFF(57,"\n\n  "),t.j41(58,"div",2),t.EFF(59,"\n    "),t.j41(60,"span",3),t.EFF(61),t.nI1(62,"translate"),t.k0s(),t.EFF(63,"\n    "),t.j41(64,"span",4),t.EFF(65),t.nI1(66,"formatNumber"),t.k0s(),t.EFF(67,"\n  "),t.k0s(),t.EFF(68,"\n\n  "),t.j41(69,"div",2),t.EFF(70,"\n    "),t.j41(71,"span",3),t.EFF(72),t.nI1(73,"translate"),t.k0s(),t.EFF(74,"\n    "),t.j41(75,"span",4),t.EFF(76),t.nI1(77,"formatNumber"),t.k0s(),t.EFF(78,"\n  "),t.k0s(),t.EFF(79,"\n\n  "),t.j41(80,"div",2),t.EFF(81,"\n    "),t.j41(82,"span",3),t.EFF(83),t.nI1(84,"translate"),t.k0s(),t.EFF(85,"\n    "),t.j41(86,"span",4),t.EFF(87),t.nI1(88,"formatNumber"),t.k0s(),t.EFF(89,"\n  "),t.k0s(),t.EFF(90,"\n\n  "),t.j41(91,"div",2),t.EFF(92,"\n    "),t.j41(93,"span",3),t.EFF(94),t.nI1(95,"translate"),t.k0s(),t.EFF(96,"\n    "),t.j41(97,"span",4),t.EFF(98),t.nI1(99,"find"),t.k0s(),t.EFF(100,"\n  "),t.k0s(),t.EFF(101,"\n\n  "),t.DNE(102,Le,11,13,"div",6),t.EFF(103,"\n\n  "),t.DNE(104,He,11,13,"div",6),t.EFF(105,"\n\n  "),t.j41(106,"div",2),t.EFF(107,"\n    "),t.j41(108,"span",3),t.EFF(109),t.nI1(110,"translate"),t.k0s(),t.EFF(111,"\n    "),t.j41(112,"span",4),t.EFF(113),t.nI1(114,"dateFormat"),t.k0s(),t.EFF(115,"\n  "),t.k0s(),t.EFF(116,"\n\n  "),t.j41(117,"div",2),t.EFF(118,"\n    "),t.j41(119,"span",3),t.EFF(120),t.nI1(121,"translate"),t.k0s(),t.EFF(122,"\n    "),t.j41(123,"span",4),t.EFF(124),t.nI1(125,"yesNo"),t.k0s(),t.EFF(126,"\n  "),t.k0s(),t.EFF(127,"\n\n  "),t.DNE(128,rn,43,6,"div",7),t.EFF(129,"\n"),t.k0s(),t.EFF(130,"\n\n"),t.j41(131,"div",8),t.EFF(132,"\n  "),t.j41(133,"button",9),t.EFF(134,"\n    "),t.nrm(135,"fa-icon",10),t.EFF(136),t.nI1(137,"translate"),t.k0s(),t.EFF(138,"\n  "),t.j41(139,"button",11),t.EFF(140),t.nI1(141,"translate"),t.k0s(),t.EFF(142,"\n  "),t.j41(143,"button",12),t.bIt("click",function(){return a.submitEvent.emit()}),t.EFF(144),t.nI1(145,"translate"),t.k0s(),t.EFF(146,"\n"),t.k0s(),t.EFF(147,"\n")),2&s&&(t.R7$(3),t.JRh(t.bMT(4,30,"labels.heading.Details")),t.R7$(8),t.JRh(t.bMT(12,32,"labels.inputs.Product")),t.R7$(4),t.JRh(t.ii3(16,34,a.sharesAccount.productId,a.sharesAccountTemplate.productOptions,"id","name")),t.R7$(7),t.JRh(t.bMT(23,39,"labels.inputs.Submitted On")),t.R7$(4),t.JRh(t.bMT(27,41,a.sharesAccount.submittedDate)),t.R7$(7),t.JRh(t.bMT(34,43,"labels.inputs.External Id")),t.R7$(3),t.Y8G("ngIf",a.sharesAccount.externalId),t.R7$(2),t.Y8G("ngIf",!a.sharesAccount.externalId),t.R7$(4),t.JRh(t.bMT(43,45,"labels.heading.Terms")),t.R7$(8),t.JRh(t.bMT(51,47,"labels.inputs.Currency")),t.R7$(4),t.JRh(t.ii3(55,49,a.sharesAccountTermsForm.get("currencyCode").value,t.eq3(87,on,a.sharesAccountProductTemplate.currency),"code","displayLabel")),t.R7$(7),t.JRh(t.bMT(62,54,"labels.inputs.Total Number of Shares")),t.R7$(4),t.JRh(t.bMT(66,56,a.sharesAccount.requestedShares)),t.R7$(7),t.JRh(t.bMT(73,58,"labels.inputs.Current Price")),t.R7$(4),t.JRh(t.bMT(77,60,a.sharesAccountTermsForm.get("unitPrice").value)),t.R7$(7),t.JRh(t.bMT(84,62,"labels.inputs.Amount")),t.R7$(4),t.JRh(t.bMT(88,64,a.sharesAccount.requestedShares*a.sharesAccountTermsForm.get("unitPrice").value)),t.R7$(7),t.JRh(t.bMT(95,66,"labels.inputs.Default Savings Account")),t.R7$(4),t.JRh(t.ii3(99,68,a.sharesAccount.savingsAccountId,a.sharesAccountProductTemplate.clientSavingsAccounts,"id","accountNo")),t.R7$(4),t.Y8G("ngIf",a.sharesAccount.minimumActivePeriod),t.R7$(2),t.Y8G("ngIf",a.sharesAccount.lockinPeriodFrequency),t.R7$(5),t.JRh(t.bMT(110,73,"labels.inputs.Application Date")),t.R7$(4),t.JRh(t.bMT(114,75,a.sharesAccount.applicationDate)),t.R7$(7),t.JRh(t.bMT(121,77,"labels.inputs.Allow dividends for inactive clients")),t.R7$(4),t.JRh(t.bMT(125,79,a.sharesAccount.allowDividendCalculationForInactiveClients)),t.R7$(4),t.Y8G("ngIf",a.sharesAccount.charges.length),t.R7$(8),t.SpI("\n    ",t.bMT(137,81,"labels.buttons.Previous"),"\n  "),t.R7$(3),t.Y8G("routerLink",t.lJ4(89,cn)),t.R7$(1),t.SpI("\n    ",t.bMT(141,83,"labels.buttons.Cancel"),"\n  "),t.R7$(4),t.SpI("\n    ",t.bMT(145,85,"labels.buttons.Submit"),"\n  "))},dependencies:[d.bT,D.aY,b.$z,Ve.q,A.FR,l.Zl,l.tL,l.ji,l.cC,l.YV,l.iL,l.KS,l.$R,l.YZ,l.NB,Z.k,u.Wk,f.D9,Ue._,v.a,Y.p,Xe.t,I.D],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-elevation-z1[_ngcontent-%COMP%]{margin:1em 0 1.5em}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin:0;font-weight:500}span[_ngcontent-%COMP%]{margin:.5em 0}mat-divider[_ngcontent-%COMP%]{margin:0 0 .5em}.margin-t[_ngcontent-%COMP%]{margin-top:1em}"]})}}return e})();function ln(e,r){1&e&&(t.EFF(0,"\n      "),t.nrm(1,"fa-icon",14),t.EFF(2,"\n    "))}function mn(e,r){1&e&&(t.EFF(0,"\n      "),t.nrm(1,"fa-icon",14),t.EFF(2,"\n    "))}function un(e,r){1&e&&(t.EFF(0,"\n      "),t.nrm(1,"fa-icon",15),t.EFF(2,"\n    "))}function Fn(e,r){1&e&&(t.EFF(0,"\n      "),t.nrm(1,"fa-icon",16),t.EFF(2,"\n    "))}function pn(e,r){1&e&&(t.EFF(0,"\n      "),t.nrm(1,"fa-icon",17),t.EFF(2,"\n    "))}function hn(e,r){1&e&&(t.EFF(0),t.nI1(1,"translate")),2&e&&t.JRh(t.bMT(1,1,"labels.inputs.DETAILS"))}function dn(e,r){1&e&&(t.EFF(0),t.nI1(1,"translate")),2&e&&t.JRh(t.bMT(1,1,"labels.inputs.TERMS"))}function En(e,r){1&e&&(t.EFF(0),t.nI1(1,"translate")),2&e&&t.JRh(t.bMT(1,1,"labels.inputs.CHARGES"))}function fn(e,r){1&e&&(t.EFF(0),t.nI1(1,"translate")),2&e&&t.JRh(t.bMT(1,1,"labels.inputs.PREVIEW"))}function bn(e,r){if(1&e){const n=t.RV6();t.j41(0,"mat-step",18),t.EFF(1,"\n      "),t.DNE(2,fn,2,3,"ng-template",9),t.EFF(3,"\n\n      "),t.j41(4,"mifosx-shares-account-preview-step",19),t.bIt("submitEvent",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.submit())}),t.EFF(5,"\n      "),t.k0s(),t.EFF(6,"\n    "),t.k0s()}if(2&e){const n=t.XpG();t.R7$(4),t.Y8G("sharesAccountProductTemplate",n.sharesAccountProductTemplate)("sharesAccountTemplate",n.sharesAccountTemplate)("sharesAccountTermsForm",n.sharesAccountTermsForm)("sharesAccount",n.sharesAccount)}}let _n=(()=>{class e{constructor(n,s,a,o,i){this.route=n,this.router=s,this.dateUtils=a,this.sharesService=o,this.settingsService=i,this.route.data.subscribe(F=>{this.sharesAccountTemplate=F.sharesAccountTemplate})}setTemplate(n){this.sharesAccountProductTemplate=n}get sharesAccountDetailsForm(){return this.sharesAccountDetailsStep.sharesAccountDetailsForm}get sharesAccountTermsForm(){return this.sharesAccountTermsStep.sharesAccountTermsForm}get sharesAccountFormValid(){return this.sharesAccountDetailsForm.valid&&this.sharesAccountTermsForm.valid}get sharesAccount(){return{...this.sharesAccountDetailsStep.sharesAccountDetails,...this.sharesAccountTermsStep.sharesAccountTerms,...this.sharesAccountChargesStep.sharesAccountCharges}}submit(){const n=this.settingsService.language.code,s=this.settingsService.dateFormat,a={...this.sharesAccount,clientId:this.sharesAccountTemplate.clientId,charges:this.sharesAccount.charges.map(o=>({chargeId:o.id,amount:o.amount})),applicationDate:this.dateUtils.formatDate(this.sharesAccount.applicationDate,s),submittedDate:this.dateUtils.formatDate(this.sharesAccount.submittedDate,s),unitPrice:this.sharesAccountTermsForm.get("unitPrice").value,dateFormat:s,locale:n};this.sharesService.createSharesAccount(a).subscribe(o=>{this.router.navigate(["../",o.resourceId],{relativeTo:this.route})})}static{this.\u0275fac=function(s){return new(s||e)(t.rXU(u.nX),t.rXU(u.Ix),t.rXU(C.A),t.rXU(_),t.rXU(g.h))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["mifosx-create-shares-account"]],viewQuery:function(s,a){if(1&s&&(t.GBs(y,7),t.GBs(x,7),t.GBs(P,7)),2&s){let o;t.mGM(o=t.lsd())&&(a.sharesAccountDetailsStep=o.first),t.mGM(o=t.lsd())&&(a.sharesAccountTermsStep=o.first),t.mGM(o=t.lsd())&&(a.sharesAccountChargesStep=o.first)}},decls:42,vars:8,consts:[[1,"container"],["labelPosition","bottom",1,"mat-elevation-z8"],["shareProductStepper",""],["matStepperIcon","number"],["matStepperIcon","edit"],["matStepperIcon","done"],["matStepperIcon","error"],["matStepperIcon","preview"],[3,"stepControl"],["matStepLabel",""],[3,"sharesAccountTemplate","sharesAccountProductTemplate"],[3,"sharesAccountProductTemplate"],[3,"sharesAccountProductTemplate","sharesAccountTemplate","currencyCode"],["completed","",4,"ngIf"],["icon","pencil-alt","size","sm"],["icon","check","size","sm"],["icon","exclamation-triangle","size","lg"],["icon","eye","size","sm"],["completed",""],[3,"sharesAccountProductTemplate","sharesAccountTemplate","sharesAccountTermsForm","sharesAccount","submitEvent"]],template:function(s,a){1&s&&(t.j41(0,"div",0),t.EFF(1,"\n  "),t.j41(2,"mat-horizontal-stepper",1,2),t.EFF(4,"\n    "),t.DNE(5,ln,3,0,"ng-template",3),t.EFF(6,"\n\n    "),t.DNE(7,mn,3,0,"ng-template",4),t.EFF(8,"\n\n    "),t.DNE(9,un,3,0,"ng-template",5),t.EFF(10,"\n\n    "),t.DNE(11,Fn,3,0,"ng-template",6),t.EFF(12,"\n\n    "),t.DNE(13,pn,3,0,"ng-template",7),t.EFF(14,"\n\n    "),t.j41(15,"mat-step",8),t.EFF(16,"\n      "),t.DNE(17,hn,2,3,"ng-template",9),t.EFF(18,"\n\n      "),t.j41(19,"mifosx-shares-account-details-step",10),t.bIt("sharesAccountProductTemplate",function(i){return a.setTemplate(i)}),t.EFF(20,"\n      "),t.k0s(),t.EFF(21,"\n    "),t.k0s(),t.EFF(22,"\n\n    "),t.j41(23,"mat-step",8),t.EFF(24,"\n      "),t.DNE(25,dn,2,3,"ng-template",9),t.EFF(26,"\n\n      "),t.nrm(27,"mifosx-shares-account-terms-step",11),t.EFF(28,"\n    "),t.k0s(),t.EFF(29,"\n\n    "),t.j41(30,"mat-step"),t.EFF(31,"\n      "),t.DNE(32,En,2,3,"ng-template",9),t.EFF(33,"\n\n      "),t.j41(34,"mifosx-shares-account-charges-step",12),t.EFF(35,"\n      "),t.k0s(),t.EFF(36,"\n    "),t.k0s(),t.EFF(37,"\n\n    "),t.DNE(38,bn,7,4,"mat-step",13),t.EFF(39,"\n  "),t.k0s(),t.EFF(40,"\n"),t.k0s(),t.EFF(41,"\n")),2&s&&(t.R7$(15),t.Y8G("stepControl",a.sharesAccountDetailsForm),t.R7$(4),t.Y8G("sharesAccountTemplate",a.sharesAccountTemplate),t.R7$(4),t.Y8G("stepControl",a.sharesAccountTermsForm),t.R7$(4),t.Y8G("sharesAccountProductTemplate",a.sharesAccountProductTemplate),t.R7$(7),t.Y8G("sharesAccountProductTemplate",a.sharesAccountProductTemplate)("sharesAccountTemplate",a.sharesAccountTemplate)("currencyCode",a.sharesAccountTermsForm.get("currencyCode")),t.R7$(4),t.Y8G("ngIf",a.sharesAccountFormValid))},dependencies:[d.bT,D.aY,A.V5,A.Ti,A.M6,A.xJ,y,x,P,K,f.D9]})}}return e})();function Tn(e,r){1&e&&(t.EFF(0,"\n      "),t.nrm(1,"fa-icon",14),t.EFF(2,"\n    "))}function An(e,r){1&e&&(t.EFF(0,"\n      "),t.nrm(1,"fa-icon",14),t.EFF(2,"\n    "))}function gn(e,r){1&e&&(t.EFF(0,"\n      "),t.nrm(1,"fa-icon",15),t.EFF(2,"\n    "))}function Sn(e,r){1&e&&(t.EFF(0,"\n      "),t.nrm(1,"fa-icon",16),t.EFF(2,"\n    "))}function Cn(e,r){1&e&&(t.EFF(0,"\n      "),t.nrm(1,"fa-icon",17),t.EFF(2,"\n    "))}function Dn(e,r){1&e&&(t.EFF(0),t.nI1(1,"translate")),2&e&&t.JRh(t.bMT(1,1,"labels.inputs.DETAILS"))}function Rn(e,r){1&e&&(t.EFF(0),t.nI1(1,"translate")),2&e&&t.JRh(t.bMT(1,1,"labels.inputs.TERMS"))}function vn(e,r){1&e&&(t.EFF(0),t.nI1(1,"translate")),2&e&&t.JRh(t.bMT(1,1,"labels.inputs.CHARGES"))}function kn(e,r){1&e&&(t.EFF(0),t.nI1(1,"translate")),2&e&&t.JRh(t.bMT(1,1,"labels.inputs.PREVIEW"))}function In(e,r){if(1&e){const n=t.RV6();t.j41(0,"mat-step",18),t.EFF(1,"\n      "),t.DNE(2,kn,2,3,"ng-template",9),t.EFF(3,"\n\n      "),t.j41(4,"mifosx-shares-account-preview-step",19),t.bIt("submitEvent",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.submit())}),t.EFF(5,"\n      "),t.k0s(),t.EFF(6,"\n    "),t.k0s()}if(2&e){const n=t.XpG();t.R7$(4),t.Y8G("sharesAccountProductTemplate",n.sharesAccountProductTemplate)("sharesAccountTemplate",n.sharesAccountAndTemplate)("sharesAccountTermsForm",n.sharesAccountTermsForm)("sharesAccount",n.sharesAccount)}}let jn=(()=>{class e{constructor(n,s,a,o,i){this.route=n,this.router=s,this.dateUtils=a,this.sharesService=o,this.settingsService=i,this.route.data.subscribe(F=>{this.sharesAccountAndTemplate=F.sharesAccountAndTemplate})}setTemplate(n){this.sharesAccountProductTemplate=n}get sharesAccountDetailsForm(){return this.sharesAccountDetailsStep.sharesAccountDetailsForm}get sharesAccountTermsForm(){return this.sharesAccountTermsStep.sharesAccountTermsForm}get sharesAccountFormValidAndNotPristine(){return this.sharesAccountDetailsForm.valid&&this.sharesAccountTermsForm.valid&&(!this.sharesAccountDetailsForm.pristine||!this.sharesAccountTermsForm.pristine||!this.sharesAccountChargesStep.pristine)}get sharesAccount(){return{...this.sharesAccountDetailsStep.sharesAccountDetails,...this.sharesAccountTermsStep.sharesAccountTerms,...this.sharesAccountChargesStep.sharesAccountCharges}}submit(){const n=this.settingsService.language.code,s=this.settingsService.dateFormat,a={...this.sharesAccount,clientId:this.sharesAccountAndTemplate.clientId,charges:this.sharesAccount.charges.map(o=>({chargeId:o.id,amount:o.amount})),applicationDate:this.dateUtils.formatDate(this.sharesAccount.applicationDate,s),submittedDate:this.dateUtils.formatDate(this.sharesAccount.submittedDate,s),unitPrice:this.sharesAccountTermsForm.get("unitPrice").value,dateFormat:s,locale:n};this.sharesService.updateSharesAccount(this.sharesAccountAndTemplate.id,a).subscribe(o=>{this.router.navigate(["../"],{relativeTo:this.route})})}static{this.\u0275fac=function(s){return new(s||e)(t.rXU(u.nX),t.rXU(u.Ix),t.rXU(C.A),t.rXU(_),t.rXU(g.h))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["mifosx-edit-shares-account"]],viewQuery:function(s,a){if(1&s&&(t.GBs(y,7),t.GBs(x,7),t.GBs(P,7)),2&s){let o;t.mGM(o=t.lsd())&&(a.sharesAccountDetailsStep=o.first),t.mGM(o=t.lsd())&&(a.sharesAccountTermsStep=o.first),t.mGM(o=t.lsd())&&(a.sharesAccountChargesStep=o.first)}},decls:43,vars:9,consts:[[1,"container"],["labelPosition","bottom",1,"mat-elevation-z8"],["shareProductStepper",""],["matStepperIcon","number"],["matStepperIcon","edit"],["matStepperIcon","done"],["matStepperIcon","error"],["matStepperIcon","preview"],[3,"stepControl"],["matStepLabel",""],[3,"sharesAccountTemplate","sharesAccountProductTemplate"],[3,"sharesAccountProductTemplate","sharesAccountTemplate"],[3,"sharesAccountProductTemplate","sharesAccountTemplate","currencyCode"],["completed","",4,"ngIf"],["icon","pencil-alt","size","sm"],["icon","check","size","sm"],["icon","exclamation-triangle","size","lg"],["icon","eye","size","sm"],["completed",""],[3,"sharesAccountProductTemplate","sharesAccountTemplate","sharesAccountTermsForm","sharesAccount","submitEvent"]],template:function(s,a){1&s&&(t.j41(0,"div",0),t.EFF(1,"\n  "),t.j41(2,"mat-horizontal-stepper",1,2),t.EFF(4,"\n    "),t.DNE(5,Tn,3,0,"ng-template",3),t.EFF(6,"\n\n    "),t.DNE(7,An,3,0,"ng-template",4),t.EFF(8,"\n\n    "),t.DNE(9,gn,3,0,"ng-template",5),t.EFF(10,"\n\n    "),t.DNE(11,Sn,3,0,"ng-template",6),t.EFF(12,"\n\n    "),t.DNE(13,Cn,3,0,"ng-template",7),t.EFF(14,"\n\n    "),t.j41(15,"mat-step",8),t.EFF(16,"\n      "),t.DNE(17,Dn,2,3,"ng-template",9),t.EFF(18,"\n\n      "),t.j41(19,"mifosx-shares-account-details-step",10),t.bIt("sharesAccountProductTemplate",function(i){return a.setTemplate(i)}),t.EFF(20,"\n      "),t.k0s(),t.EFF(21,"\n    "),t.k0s(),t.EFF(22,"\n\n    "),t.j41(23,"mat-step",8),t.EFF(24,"\n      "),t.DNE(25,Rn,2,3,"ng-template",9),t.EFF(26,"\n\n      "),t.j41(27,"mifosx-shares-account-terms-step",11),t.EFF(28,"\n      "),t.k0s(),t.EFF(29,"\n    "),t.k0s(),t.EFF(30,"\n\n    "),t.j41(31,"mat-step"),t.EFF(32,"\n      "),t.DNE(33,vn,2,3,"ng-template",9),t.EFF(34,"\n\n      "),t.j41(35,"mifosx-shares-account-charges-step",12),t.EFF(36,"\n      "),t.k0s(),t.EFF(37,"\n    "),t.k0s(),t.EFF(38,"\n\n    "),t.DNE(39,In,7,4,"mat-step",13),t.EFF(40,"\n  "),t.k0s(),t.EFF(41,"\n"),t.k0s(),t.EFF(42,"\n")),2&s&&(t.R7$(15),t.Y8G("stepControl",a.sharesAccountDetailsForm),t.R7$(4),t.Y8G("sharesAccountTemplate",a.sharesAccountAndTemplate),t.R7$(4),t.Y8G("stepControl",a.sharesAccountTermsForm),t.R7$(4),t.Y8G("sharesAccountProductTemplate",a.sharesAccountProductTemplate)("sharesAccountTemplate",a.sharesAccountAndTemplate),t.R7$(8),t.Y8G("sharesAccountProductTemplate",a.sharesAccountProductTemplate)("sharesAccountTemplate",a.sharesAccountAndTemplate)("currencyCode",a.sharesAccountTermsForm.get("currencyCode")),t.R7$(4),t.Y8G("ngIf",a.sharesAccountFormValidAndNotPristine))},dependencies:[d.bT,D.aY,A.V5,A.Ti,A.M6,A.xJ,y,x,P,K,f.D9]})}}return e})();var V=m(37403);function $n(e,r){1&e&&(t.j41(0,"mat-error"),t.EFF(1),t.nI1(2,"translate"),t.nI1(3,"translate"),t.j41(4,"strong"),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.EFF(7,"\n            "),t.k0s()),2&e&&(t.R7$(1),t.Lme("\n              ",t.bMT(2,3,"labels.inputs.Approved On Date")," ",t.bMT(3,5,"labels.commons.is"),"\n              "),t.R7$(4),t.JRh(t.bMT(6,7,"labels.commons.required")))}const yn=function(){return["../../"]};let xn=(()=>{class e{constructor(n,s,a,o,i,F){this.formBuilder=n,this.sharesService=s,this.dateUtils=a,this.route=o,this.router=i,this.settingsService=F,this.minDate=new Date(2e3,0,1),this.maxDate=new Date,this.accountId=this.route.parent.snapshot.params.shareAccountId}ngOnInit(){this.maxDate=this.settingsService.businessDate,this.createApproveSharesAccountForm()}createApproveSharesAccountForm(){this.approveSharesAccountForm=this.formBuilder.group({approvedDate:["",c.k0.required],note:[""]})}submit(){const n=this.approveSharesAccountForm.value,s=this.settingsService.language.code,a=this.settingsService.dateFormat;n.approvedDate instanceof Date&&(n.approvedDate=this.dateUtils.formatDate(this.approveSharesAccountForm.value.approvedDate,a));const i={...n,dateFormat:a,locale:s};this.sharesService.executeSharesAccountCommand(this.accountId,"approve",i).subscribe(()=>{this.router.navigate(["../../"],{relativeTo:this.route})})}static{this.\u0275fac=function(s){return new(s||e)(t.rXU(c.ze),t.rXU(_),t.rXU(C.A),t.rXU(u.nX),t.rXU(u.Ix),t.rXU(g.h))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["mifosx-approve-shares-account"]],decls:51,vars:21,consts:[[1,"container"],[3,"formGroup","ngSubmit"],[1,"layout-column"],[3,"click"],["matInput","","required","","formControlName","approvedDate",3,"min","max","matDatepicker"],["matSuffix","",3,"for"],["approvedDatePicker",""],[4,"ngIf"],["matInput","","formControlName","note","cdkTextareaAutosize","","cdkAutosizeMinRows","2"],[1,"layout-row","align-center","gap-5px","responsive-column"],["type","button","mat-raised-button","",3,"routerLink"],["mat-raised-button","","color","primary",3,"disabled"]],template:function(s,a){if(1&s){const o=t.RV6();t.j41(0,"div",0),t.EFF(1,"\n  "),t.j41(2,"mat-card"),t.EFF(3,"\n    "),t.j41(4,"form",1),t.bIt("ngSubmit",function(){return a.submit()}),t.EFF(5,"\n      "),t.j41(6,"mat-card-content"),t.EFF(7,"\n        "),t.j41(8,"div",2),t.EFF(9,"\n          "),t.j41(10,"mat-form-field",3),t.bIt("click",function(){t.eBV(o);const F=t.sdS(21);return t.Njj(F.open())}),t.EFF(11,"\n            "),t.j41(12,"mat-label"),t.EFF(13),t.nI1(14,"translate"),t.k0s(),t.EFF(15,"\n            "),t.nrm(16,"input",4),t.EFF(17,"\n            "),t.nrm(18,"mat-datepicker-toggle",5),t.EFF(19,"\n            "),t.nrm(20,"mat-datepicker",null,6),t.EFF(22,"\n            "),t.DNE(23,$n,8,9,"mat-error",7),t.EFF(24,"\n          "),t.k0s(),t.EFF(25,"\n\n          "),t.j41(26,"mat-form-field"),t.EFF(27,"\n            "),t.j41(28,"mat-label"),t.EFF(29),t.nI1(30,"translate"),t.k0s(),t.EFF(31,"\n            "),t.nrm(32,"textarea",8),t.EFF(33,"\n          "),t.k0s(),t.EFF(34,"\n        "),t.k0s(),t.EFF(35,"\n      "),t.k0s(),t.EFF(36,"\n\n      "),t.j41(37,"mat-card-actions",9),t.EFF(38,"\n        "),t.j41(39,"button",10),t.EFF(40),t.nI1(41,"translate"),t.k0s(),t.EFF(42,"\n        "),t.j41(43,"button",11),t.EFF(44),t.nI1(45,"translate"),t.k0s(),t.EFF(46,"\n      "),t.k0s(),t.EFF(47,"\n    "),t.k0s(),t.EFF(48,"\n  "),t.k0s(),t.EFF(49,"\n"),t.k0s(),t.EFF(50,"\n")}if(2&s){const o=t.sdS(21);t.R7$(4),t.Y8G("formGroup",a.approveSharesAccountForm),t.R7$(9),t.JRh(t.bMT(14,12,"labels.inputs.Approved On Date")),t.R7$(3),t.Y8G("min",a.minDate)("max",a.maxDate)("matDatepicker",o),t.R7$(2),t.Y8G("for",o),t.R7$(5),t.Y8G("ngIf",a.approveSharesAccountForm.controls.approvedDate.hasError("required")),t.R7$(6),t.JRh(t.bMT(30,14,"labels.inputs.Note")),t.R7$(10),t.Y8G("routerLink",t.lJ4(20,yn)),t.R7$(1),t.SpI("\n          ",t.bMT(41,16,"labels.buttons.Cancel"),"\n        "),t.R7$(3),t.Y8G("disabled",!a.approveSharesAccountForm.valid),t.R7$(1),t.SpI("\n          ",t.bMT(45,18,"labels.buttons.Submit"),"\n        ")}},dependencies:[d.bT,b.$z,h.RN,h.YY,h.m2,E.Vh,E.bZ,E.bU,p.rl,p.nJ,p.TL,p.yw,S.fg,V.xb,c.qT,c.me,c.BC,c.cb,c.YS,c.j4,c.JD,u.Wk,f.D9],styles:[".container[_ngcontent-%COMP%]{max-width:37rem}"]})}}return e})();function Pn(e,r){1&e&&(t.j41(0,"mat-error"),t.EFF(1),t.nI1(2,"translate"),t.nI1(3,"translate"),t.j41(4,"strong"),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.EFF(7,"\n            "),t.k0s()),2&e&&(t.R7$(1),t.Lme("\n              ",t.bMT(2,3,"labels.inputs.Rejected On Date")," ",t.bMT(3,5,"labels.commons.is"),"\n              "),t.R7$(4),t.JRh(t.bMT(6,7,"labels.commons.required")))}const Mn=function(){return["../../"]};let Nn=(()=>{class e{constructor(n,s,a,o,i,F){this.formBuilder=n,this.sharesService=s,this.dateUtils=a,this.route=o,this.router=i,this.settingsService=F,this.minDate=new Date(2e3,0,1),this.maxDate=new Date,this.accountId=this.route.parent.snapshot.params.shareAccountId}ngOnInit(){this.maxDate=this.settingsService.businessDate,this.createRejectSharesAccountForm()}createRejectSharesAccountForm(){this.rejectSharesAccountForm=this.formBuilder.group({rejectedDate:["",c.k0.required],note:[""]})}submit(){const n=this.rejectSharesAccountForm.value,s=this.settingsService.language.code,a=this.settingsService.dateFormat;n.rejectedDate instanceof Date&&(n.rejectedDate=this.dateUtils.formatDate(this.rejectSharesAccountForm.value.rejectedDate,a));const i={...n,dateFormat:a,locale:s};this.sharesService.executeSharesAccountCommand(this.accountId,"reject",i).subscribe(()=>{this.router.navigate(["../../"],{relativeTo:this.route})})}static{this.\u0275fac=function(s){return new(s||e)(t.rXU(c.ze),t.rXU(_),t.rXU(C.A),t.rXU(u.nX),t.rXU(u.Ix),t.rXU(g.h))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["mifosx-reject-shares-account"]],decls:51,vars:21,consts:[[1,"container"],[3,"formGroup","ngSubmit"],[1,"layout-column"],[3,"click"],["matInput","","required","","formControlName","rejectedDate",3,"min","max","matDatepicker"],["matSuffix","",3,"for"],["rejectedDatePicker",""],[4,"ngIf"],["matInput","","formControlName","note","cdkTextareaAutosize","","cdkAutosizeMinRows","2"],[1,"layout-row","align-center","gap-5px","responsive-column"],["type","button","mat-raised-button","",3,"routerLink"],["mat-raised-button","","color","warn",3,"disabled"]],template:function(s,a){if(1&s){const o=t.RV6();t.j41(0,"div",0),t.EFF(1,"\n  "),t.j41(2,"mat-card"),t.EFF(3,"\n    "),t.j41(4,"form",1),t.bIt("ngSubmit",function(){return a.submit()}),t.EFF(5,"\n      "),t.j41(6,"mat-card-content"),t.EFF(7,"\n        "),t.j41(8,"div",2),t.EFF(9,"\n          "),t.j41(10,"mat-form-field",3),t.bIt("click",function(){t.eBV(o);const F=t.sdS(21);return t.Njj(F.open())}),t.EFF(11,"\n            "),t.j41(12,"mat-label"),t.EFF(13),t.nI1(14,"translate"),t.k0s(),t.EFF(15,"\n            "),t.nrm(16,"input",4),t.EFF(17,"\n            "),t.nrm(18,"mat-datepicker-toggle",5),t.EFF(19,"\n            "),t.nrm(20,"mat-datepicker",null,6),t.EFF(22,"\n            "),t.DNE(23,Pn,8,9,"mat-error",7),t.EFF(24,"\n          "),t.k0s(),t.EFF(25,"\n\n          "),t.j41(26,"mat-form-field"),t.EFF(27,"\n            "),t.j41(28,"mat-label"),t.EFF(29),t.nI1(30,"translate"),t.k0s(),t.EFF(31,"\n            "),t.nrm(32,"textarea",8),t.EFF(33,"\n          "),t.k0s(),t.EFF(34,"\n        "),t.k0s(),t.EFF(35,"\n      "),t.k0s(),t.EFF(36,"\n\n      "),t.j41(37,"mat-card-actions",9),t.EFF(38,"\n        "),t.j41(39,"button",10),t.EFF(40),t.nI1(41,"translate"),t.k0s(),t.EFF(42,"\n        "),t.j41(43,"button",11),t.EFF(44),t.nI1(45,"translate"),t.k0s(),t.EFF(46,"\n      "),t.k0s(),t.EFF(47,"\n    "),t.k0s(),t.EFF(48,"\n  "),t.k0s(),t.EFF(49,"\n"),t.k0s(),t.EFF(50,"\n")}if(2&s){const o=t.sdS(21);t.R7$(4),t.Y8G("formGroup",a.rejectSharesAccountForm),t.R7$(9),t.JRh(t.bMT(14,12,"labels.inputs.Rejected On Date")),t.R7$(3),t.Y8G("min",a.minDate)("max",a.maxDate)("matDatepicker",o),t.R7$(2),t.Y8G("for",o),t.R7$(5),t.Y8G("ngIf",a.rejectSharesAccountForm.controls.rejectedDate.hasError("required")),t.R7$(6),t.JRh(t.bMT(30,14,"labels.inputs.Note")),t.R7$(10),t.Y8G("routerLink",t.lJ4(20,Mn)),t.R7$(1),t.SpI("\n          ",t.bMT(41,16,"labels.buttons.Cancel"),"\n        "),t.R7$(3),t.Y8G("disabled",!a.rejectSharesAccountForm.valid),t.R7$(1),t.SpI("\n          ",t.bMT(45,18,"labels.buttons.Submit"),"\n        ")}},dependencies:[d.bT,b.$z,h.RN,h.YY,h.m2,E.Vh,E.bZ,E.bU,p.rl,p.nJ,p.TL,p.yw,S.fg,V.xb,c.qT,c.me,c.BC,c.cb,c.YS,c.j4,c.JD,u.Wk,f.D9],styles:[".container[_ngcontent-%COMP%]{max-width:37rem}"]})}}return e})();function wn(e,r){1&e&&(t.j41(0,"mat-error"),t.EFF(1),t.nI1(2,"translate"),t.nI1(3,"translate"),t.j41(4,"strong"),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.EFF(7,"\n            "),t.k0s()),2&e&&(t.R7$(1),t.Lme("\n              ",t.bMT(2,3,"labels.inputs.Closed On Date")," ",t.bMT(3,5,"labels.commons.is"),"\n              "),t.R7$(4),t.JRh(t.bMT(6,7,"labels.commons.required")))}const Gn=function(){return["../../"]};let Yn=(()=>{class e{constructor(n,s,a,o,i,F){this.formBuilder=n,this.sharesService=s,this.dateUtils=a,this.route=o,this.router=i,this.settingsService=F,this.minDate=new Date(2e3,0,1),this.maxDate=new Date,this.accountId=this.route.parent.snapshot.params.shareAccountId}ngOnInit(){this.maxDate=this.settingsService.businessDate,this.createCloseSharesAccountForm()}createCloseSharesAccountForm(){this.closeSharesAccountForm=this.formBuilder.group({closedDate:["",c.k0.required],note:[""]})}submit(){const n=this.closeSharesAccountForm.value,s=this.settingsService.language.code,a=this.settingsService.dateFormat;n.closedDate instanceof Date&&(n.closedDate=this.dateUtils.formatDate(this.closeSharesAccountForm.value.closedDate,a));const i={...n,dateFormat:a,locale:s};this.sharesService.executeSharesAccountCommand(this.accountId,"close",i).subscribe(()=>{this.router.navigate(["../../"],{relativeTo:this.route})})}static{this.\u0275fac=function(s){return new(s||e)(t.rXU(c.ze),t.rXU(_),t.rXU(C.A),t.rXU(u.nX),t.rXU(u.Ix),t.rXU(g.h))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["mifosx-close-shares-account"]],decls:51,vars:21,consts:[[1,"container"],[3,"formGroup","ngSubmit"],[1,"layout-column"],[3,"click"],["matInput","","required","","formControlName","closedDate",3,"min","max","matDatepicker"],["matSuffix","",3,"for"],["closedDatePicker",""],[4,"ngIf"],["matInput","","formControlName","note","cdkTextareaAutosize","","cdkAutosizeMinRows","2"],[1,"layout-row","align-center","gap-5px","responsive-column"],["type","button","mat-raised-button","",3,"routerLink"],["mat-raised-button","","color","warn",3,"disabled"]],template:function(s,a){if(1&s){const o=t.RV6();t.j41(0,"div",0),t.EFF(1,"\n  "),t.j41(2,"mat-card"),t.EFF(3,"\n    "),t.j41(4,"form",1),t.bIt("ngSubmit",function(){return a.submit()}),t.EFF(5,"\n      "),t.j41(6,"mat-card-content"),t.EFF(7,"\n        "),t.j41(8,"div",2),t.EFF(9,"\n          "),t.j41(10,"mat-form-field",3),t.bIt("click",function(){t.eBV(o);const F=t.sdS(21);return t.Njj(F.open())}),t.EFF(11,"\n            "),t.j41(12,"mat-label"),t.EFF(13),t.nI1(14,"translate"),t.k0s(),t.EFF(15,"\n            "),t.nrm(16,"input",4),t.EFF(17,"\n            "),t.nrm(18,"mat-datepicker-toggle",5),t.EFF(19,"\n            "),t.nrm(20,"mat-datepicker",null,6),t.EFF(22,"\n            "),t.DNE(23,wn,8,9,"mat-error",7),t.EFF(24,"\n          "),t.k0s(),t.EFF(25,"\n\n          "),t.j41(26,"mat-form-field"),t.EFF(27,"\n            "),t.j41(28,"mat-label"),t.EFF(29),t.nI1(30,"translate"),t.k0s(),t.EFF(31,"\n            "),t.nrm(32,"textarea",8),t.EFF(33,"\n          "),t.k0s(),t.EFF(34,"\n        "),t.k0s(),t.EFF(35,"\n      "),t.k0s(),t.EFF(36,"\n\n      "),t.j41(37,"mat-card-actions",9),t.EFF(38,"\n        "),t.j41(39,"button",10),t.EFF(40),t.nI1(41,"translate"),t.k0s(),t.EFF(42,"\n        "),t.j41(43,"button",11),t.EFF(44),t.nI1(45,"translate"),t.k0s(),t.EFF(46,"\n      "),t.k0s(),t.EFF(47,"\n    "),t.k0s(),t.EFF(48,"\n  "),t.k0s(),t.EFF(49,"\n"),t.k0s(),t.EFF(50,"\n")}if(2&s){const o=t.sdS(21);t.R7$(4),t.Y8G("formGroup",a.closeSharesAccountForm),t.R7$(9),t.JRh(t.bMT(14,12,"labels.inputs.Closed On Date")),t.R7$(3),t.Y8G("min",a.minDate)("max",a.maxDate)("matDatepicker",o),t.R7$(2),t.Y8G("for",o),t.R7$(5),t.Y8G("ngIf",a.closeSharesAccountForm.controls.closedDate.hasError("required")),t.R7$(6),t.JRh(t.bMT(30,14,"labels.inputs.Note")),t.R7$(10),t.Y8G("routerLink",t.lJ4(20,Gn)),t.R7$(1),t.SpI("\n          ",t.bMT(41,16,"labels.buttons.Cancel"),"\n        "),t.R7$(3),t.Y8G("disabled",!a.closeSharesAccountForm.valid),t.R7$(1),t.SpI("\n          ",t.bMT(45,18,"labels.buttons.Submit"),"\n        ")}},dependencies:[d.bT,b.$z,h.RN,h.YY,h.m2,E.Vh,E.bZ,E.bU,p.rl,p.nJ,p.TL,p.yw,S.fg,V.xb,c.qT,c.me,c.BC,c.cb,c.YS,c.j4,c.JD,u.Wk,f.D9],styles:[".container[_ngcontent-%COMP%]{max-width:37rem}"]})}}return e})();function On(e,r){1&e&&(t.j41(0,"mat-error"),t.EFF(1),t.nI1(2,"translate"),t.nI1(3,"translate"),t.j41(4,"strong"),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.EFF(7,"\n          "),t.k0s()),2&e&&(t.R7$(1),t.Lme("\n            ",t.bMT(2,3,"labels.inputs.Activated On Date")," ",t.bMT(3,5,"labels.commons.is"),"\n            "),t.R7$(4),t.JRh(t.bMT(6,7,"labels.commons.required")))}const Jn=function(){return["../../"]};let Vn=(()=>{class e{constructor(n,s,a,o,i,F){this.formBuilder=n,this.sharesService=s,this.dateUtils=a,this.route=o,this.router=i,this.settingsService=F,this.minDate=new Date(2e3,0,1),this.maxDate=new Date,this.accountId=this.route.parent.snapshot.params.shareAccountId}ngOnInit(){this.maxDate=this.settingsService.businessDate,this.createActivateSharesAccountForm()}createActivateSharesAccountForm(){this.activateSharesAccountForm=this.formBuilder.group({activatedDate:["",c.k0.required]})}submit(){const n=this.activateSharesAccountForm.value,s=this.settingsService.language.code,a=this.settingsService.dateFormat;n.activatedDate instanceof Date&&(n.activatedDate=this.dateUtils.formatDate(this.activateSharesAccountForm.value.activatedDate,a));const i={...n,dateFormat:a,locale:s};this.sharesService.executeSharesAccountCommand(this.accountId,"activate",i).subscribe(()=>{this.router.navigate(["../../"],{relativeTo:this.route})})}static{this.\u0275fac=function(s){return new(s||e)(t.rXU(c.ze),t.rXU(_),t.rXU(C.A),t.rXU(u.nX),t.rXU(u.Ix),t.rXU(g.h))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["mifosx-activate-shares-account"]],decls:39,vars:18,consts:[[1,"container"],[3,"formGroup","ngSubmit"],[1,"flex-fill",3,"click"],["matInput","","required","","formControlName","activatedDate",3,"min","max","matDatepicker"],["matSuffix","",3,"for"],["activatedDatePicker",""],[4,"ngIf"],[1,"layout-row","align-center","gap-5px","responsive-column"],["type","button","mat-raised-button","",3,"routerLink"],["mat-raised-button","","color","primary",3,"disabled"]],template:function(s,a){if(1&s){const o=t.RV6();t.j41(0,"div",0),t.EFF(1,"\n  "),t.j41(2,"mat-card"),t.EFF(3,"\n    "),t.j41(4,"form",1),t.bIt("ngSubmit",function(){return a.submit()}),t.EFF(5,"\n      "),t.j41(6,"mat-card-content"),t.EFF(7,"\n        "),t.j41(8,"mat-form-field",2),t.bIt("click",function(){t.eBV(o);const F=t.sdS(19);return t.Njj(F.open())}),t.EFF(9,"\n          "),t.j41(10,"mat-label"),t.EFF(11),t.nI1(12,"translate"),t.k0s(),t.EFF(13,"\n          "),t.nrm(14,"input",3),t.EFF(15,"\n          "),t.nrm(16,"mat-datepicker-toggle",4),t.EFF(17,"\n          "),t.nrm(18,"mat-datepicker",null,5),t.EFF(20,"\n          "),t.DNE(21,On,8,9,"mat-error",6),t.EFF(22,"\n        "),t.k0s(),t.EFF(23,"\n      "),t.k0s(),t.EFF(24,"\n\n      "),t.j41(25,"mat-card-actions",7),t.EFF(26,"\n        "),t.j41(27,"button",8),t.EFF(28),t.nI1(29,"translate"),t.k0s(),t.EFF(30,"\n        "),t.j41(31,"button",9),t.EFF(32),t.nI1(33,"translate"),t.k0s(),t.EFF(34,"\n      "),t.k0s(),t.EFF(35,"\n    "),t.k0s(),t.EFF(36,"\n  "),t.k0s(),t.EFF(37,"\n"),t.k0s(),t.EFF(38,"\n")}if(2&s){const o=t.sdS(19);t.R7$(4),t.Y8G("formGroup",a.activateSharesAccountForm),t.R7$(7),t.JRh(t.bMT(12,11,"labels.inputs.Activated On Date")),t.R7$(3),t.Y8G("min",a.minDate)("max",a.maxDate)("matDatepicker",o),t.R7$(2),t.Y8G("for",o),t.R7$(5),t.Y8G("ngIf",a.activateSharesAccountForm.controls.activatedDate.hasError("required")),t.R7$(6),t.Y8G("routerLink",t.lJ4(17,Jn)),t.R7$(1),t.SpI("\n          ",t.bMT(29,13,"labels.buttons.Cancel"),"\n        "),t.R7$(3),t.Y8G("disabled",!a.activateSharesAccountForm.valid),t.R7$(1),t.SpI("\n          ",t.bMT(33,15,"labels.buttons.Submit"),"\n        ")}},dependencies:[d.bT,b.$z,h.RN,h.YY,h.m2,E.Vh,E.bZ,E.bU,p.rl,p.nJ,p.TL,p.yw,S.fg,c.qT,c.me,c.BC,c.cb,c.YS,c.j4,c.JD,u.Wk,f.D9],styles:[".container[_ngcontent-%COMP%]{max-width:37rem}"]})}}return e})();const Un=function(){return["../../"]};let Xn=(()=>{class e{constructor(n,s,a){this.sharesService=n,this.route=s,this.router=a,this.accountId=this.route.parent.snapshot.params.shareAccountId}submit(){this.sharesService.executeSharesAccountCommand(this.accountId,"undoapproval",{}).subscribe(()=>{this.router.navigate(["../../"],{relativeTo:this.route})})}static{this.\u0275fac=function(s){return new(s||e)(t.rXU(_),t.rXU(u.nX),t.rXU(u.Ix))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["mifosx-undo-approval-shares-account"]],decls:30,vars:12,consts:[[1,"container"],[3,"ngSubmit"],[1,"mat-typography","confirm-text"],[1,"layout-row","align-center","gap-5px","responsive-column"],["type","button","mat-raised-button","",3,"routerLink"],["mat-raised-button","","color","warn"]],template:function(s,a){1&s&&(t.j41(0,"div",0),t.EFF(1,"\n  "),t.j41(2,"mat-card"),t.EFF(3,"\n    "),t.j41(4,"form",1),t.bIt("ngSubmit",function(){return a.submit()}),t.EFF(5,"\n      "),t.j41(6,"mat-card-content"),t.EFF(7,"\n        "),t.j41(8,"div"),t.EFF(9,"\n          "),t.j41(10,"p",2),t.EFF(11),t.nI1(12,"translate"),t.k0s(),t.EFF(13,"\n        "),t.k0s(),t.EFF(14,"\n      "),t.k0s(),t.EFF(15,"\n\n      "),t.j41(16,"mat-card-actions",3),t.EFF(17,"\n        "),t.j41(18,"button",4),t.EFF(19),t.nI1(20,"translate"),t.k0s(),t.EFF(21,"\n        "),t.j41(22,"button",5),t.EFF(23),t.nI1(24,"translate"),t.k0s(),t.EFF(25,"\n      "),t.k0s(),t.EFF(26,"\n    "),t.k0s(),t.EFF(27,"\n  "),t.k0s(),t.EFF(28,"\n"),t.k0s(),t.EFF(29,"\n")),2&s&&(t.R7$(11),t.Lme("\n            ",t.bMT(12,5,"labels.text.Undo approval of shares account with ID"),": ",a.accountId," ?\n          "),t.R7$(7),t.Y8G("routerLink",t.lJ4(11,Un)),t.R7$(1),t.SpI("\n          ",t.bMT(20,7,"labels.buttons.Cancel"),"\n        "),t.R7$(4),t.JRh(t.bMT(24,9,"labels.buttons.Submit")))},dependencies:[b.$z,h.RN,h.YY,h.m2,c.qT,c.cb,c.cV,u.Wk,f.D9],styles:[".container[_ngcontent-%COMP%]{max-width:37rem}.container[_ngcontent-%COMP%]   .confirm-text[_ngcontent-%COMP%]{font-size:16px;text-align:center}"]})}}return e})();function qn(e,r){1&e&&(t.j41(0,"mat-error"),t.EFF(1),t.nI1(2,"translate"),t.nI1(3,"translate"),t.j41(4,"strong"),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.EFF(7,"\n            "),t.k0s()),2&e&&(t.R7$(1),t.Lme("\n              ",t.bMT(2,3,"labels.inputs.Request Date")," ",t.bMT(3,5,"labels.commons.is"),"\n              "),t.R7$(4),t.JRh(t.bMT(6,7,"labels.commons.required")))}function Bn(e,r){1&e&&(t.j41(0,"mat-error"),t.EFF(1),t.nI1(2,"translate"),t.nI1(3,"translate"),t.j41(4,"strong"),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.EFF(7,"\n            "),t.k0s()),2&e&&(t.R7$(1),t.Lme("\n              ",t.bMT(2,3,"labels.inputs.Requested Shares")," ",t.bMT(3,5,"labels.commons.is"),"\n              "),t.R7$(4),t.JRh(t.bMT(6,7,"labels.commons.required")))}const Ln=function(){return["../../"]};let Hn=(()=>{class e{constructor(n,s,a,o,i,F){this.formBuilder=n,this.sharesService=s,this.dateUtils=a,this.route=o,this.router=i,this.settingsService=F,this.minDate=new Date(2e3,0,1),this.maxDate=new Date,this.accountId=this.route.parent.snapshot.params.shareAccountId,this.route.data.subscribe(R=>{this.sharesAccountData=R.shareAccountActionData})}ngOnInit(){this.maxDate=this.settingsService.businessDate,this.createApplySharesAccountForm(),this.applySharesForm.get("unitPrice").patchValue(this.sharesAccountData.currentMarketPrice||"")}createApplySharesAccountForm(){this.applySharesForm=this.formBuilder.group({requestedDate:["",c.k0.required],requestedShares:["",c.k0.required],unitPrice:[{value:"",disabled:!0}]})}submit(){const n=this.applySharesForm.value,s=this.settingsService.language.code,a=this.settingsService.dateFormat;n.requestedDate instanceof Date&&(n.requestedDate=this.dateUtils.formatDate(this.applySharesForm.value.requestedDate,a));const i={...n,unitPrice:this.applySharesForm.get("unitPrice").value,dateFormat:a,locale:s};this.sharesService.executeSharesAccountCommand(this.accountId,"applyadditionalshares",i).subscribe(()=>{this.router.navigate(["../../"],{relativeTo:this.route})})}static{this.\u0275fac=function(s){return new(s||e)(t.rXU(c.ze),t.rXU(_),t.rXU(C.A),t.rXU(u.nX),t.rXU(u.Ix),t.rXU(g.h))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["mifosx-apply-shares"]],decls:62,vars:25,consts:[[1,"container"],[3,"formGroup","ngSubmit"],[1,"layout-column"],[3,"click"],["matInput","","required","","formControlName","requestedDate",3,"min","max","matDatepicker"],["matSuffix","",3,"for"],["requestedDatePicker",""],[4,"ngIf"],["matInput","","required","","formControlName","requestedShares"],["matInput","","required","","formControlName","unitPrice"],[1,"layout-row","align-center","gap-5px","responsive-column"],["type","button","mat-raised-button","",3,"routerLink"],["mat-raised-button","","color","primary",3,"disabled"]],template:function(s,a){if(1&s){const o=t.RV6();t.j41(0,"div",0),t.EFF(1,"\n  "),t.j41(2,"mat-card"),t.EFF(3,"\n    "),t.j41(4,"form",1),t.bIt("ngSubmit",function(){return a.submit()}),t.EFF(5,"\n      "),t.j41(6,"mat-card-content"),t.EFF(7,"\n        "),t.j41(8,"div",2),t.EFF(9,"\n          "),t.j41(10,"mat-form-field",3),t.bIt("click",function(){t.eBV(o);const F=t.sdS(21);return t.Njj(F.open())}),t.EFF(11,"\n            "),t.j41(12,"mat-label"),t.EFF(13),t.nI1(14,"translate"),t.k0s(),t.EFF(15,"\n            "),t.nrm(16,"input",4),t.EFF(17,"\n            "),t.nrm(18,"mat-datepicker-toggle",5),t.EFF(19,"\n            "),t.nrm(20,"mat-datepicker",null,6),t.EFF(22,"\n            "),t.DNE(23,qn,8,9,"mat-error",7),t.EFF(24,"\n          "),t.k0s(),t.EFF(25,"\n\n          "),t.j41(26,"mat-form-field"),t.EFF(27,"\n            "),t.j41(28,"mat-label"),t.EFF(29),t.nI1(30,"translate"),t.k0s(),t.EFF(31,"\n            "),t.nrm(32,"input",8),t.EFF(33,"\n            "),t.DNE(34,Bn,8,9,"mat-error",7),t.EFF(35,"\n          "),t.k0s(),t.EFF(36,"\n\n          "),t.j41(37,"mat-form-field"),t.EFF(38,"\n            "),t.j41(39,"mat-label"),t.EFF(40),t.nI1(41,"translate"),t.k0s(),t.EFF(42,"\n            "),t.nrm(43,"input",9),t.EFF(44,"\n          "),t.k0s(),t.EFF(45,"\n        "),t.k0s(),t.EFF(46,"\n      "),t.k0s(),t.EFF(47,"\n\n      "),t.j41(48,"mat-card-actions",10),t.EFF(49,"\n        "),t.j41(50,"button",11),t.EFF(51),t.nI1(52,"translate"),t.k0s(),t.EFF(53,"\n        "),t.j41(54,"button",12),t.EFF(55),t.nI1(56,"translate"),t.k0s(),t.EFF(57,"\n      "),t.k0s(),t.EFF(58,"\n    "),t.k0s(),t.EFF(59,"\n  "),t.k0s(),t.EFF(60,"\n"),t.k0s(),t.EFF(61,"\n")}if(2&s){const o=t.sdS(21);t.R7$(4),t.Y8G("formGroup",a.applySharesForm),t.R7$(9),t.JRh(t.bMT(14,14,"labels.inputs.Request Date")),t.R7$(3),t.Y8G("min",a.minDate)("max",a.maxDate)("matDatepicker",o),t.R7$(2),t.Y8G("for",o),t.R7$(5),t.Y8G("ngIf",a.applySharesForm.controls.requestedDate.hasError("required")),t.R7$(6),t.JRh(t.bMT(30,16,"labels.inputs.Total No. of Shares")),t.R7$(5),t.Y8G("ngIf",a.applySharesForm.controls.requestedShares.hasError("required")),t.R7$(6),t.JRh(t.bMT(41,18,"labels.inputs.Current Price")),t.R7$(10),t.Y8G("routerLink",t.lJ4(24,Ln)),t.R7$(1),t.SpI("\n          ",t.bMT(52,20,"labels.buttons.Cancel"),"\n        "),t.R7$(3),t.Y8G("disabled",!a.applySharesForm.valid),t.R7$(1),t.SpI("\n          ",t.bMT(56,22,"labels.buttons.Submit"),"\n        ")}},dependencies:[d.bT,b.$z,h.RN,h.YY,h.m2,E.Vh,E.bZ,E.bU,p.rl,p.nJ,p.TL,p.yw,S.fg,c.qT,c.me,c.BC,c.cb,c.YS,c.j4,c.JD,u.Wk,f.D9],styles:[".container[_ngcontent-%COMP%]{max-width:37rem}"]})}}return e})();function zn(e,r){1&e&&(t.j41(0,"mat-error"),t.EFF(1),t.nI1(2,"translate"),t.nI1(3,"translate"),t.j41(4,"strong"),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.EFF(7,"\n            "),t.k0s()),2&e&&(t.R7$(1),t.Lme("\n              ",t.bMT(2,3,"labels.inputs.Request Date")," ",t.bMT(3,5,"labels.commons.is"),"\n              "),t.R7$(4),t.JRh(t.bMT(6,7,"labels.commons.required")))}function Zn(e,r){1&e&&(t.j41(0,"mat-error"),t.EFF(1),t.nI1(2,"translate"),t.nI1(3,"translate"),t.j41(4,"strong"),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.EFF(7,"\n            "),t.k0s()),2&e&&(t.R7$(1),t.Lme("\n              ",t.bMT(2,3,"labels.inputs.Requested Shares")," ",t.bMT(3,5,"labels.commons.is"),"\n              "),t.R7$(4),t.JRh(t.bMT(6,7,"labels.commons.required")))}const Kn=function(){return["../../"]};let Wn=(()=>{class e{constructor(n,s,a,o,i,F){this.formBuilder=n,this.sharesService=s,this.dateUtils=a,this.route=o,this.router=i,this.settingsService=F,this.minDate=new Date(2e3,0,1),this.maxDate=new Date,this.accountId=this.route.parent.snapshot.params.shareAccountId,this.route.data.subscribe(R=>{this.sharesAccountData=R.shareAccountActionData})}ngOnInit(){this.maxDate=this.settingsService.businessDate,this.createRedeemSharesAccountForm(),this.redeemSharesForm.get("unitPrice").patchValue(this.sharesAccountData.currentMarketPrice||"")}createRedeemSharesAccountForm(){this.redeemSharesForm=this.formBuilder.group({requestedDate:["",c.k0.required],requestedShares:["",c.k0.required],unitPrice:[{value:"",disabled:!0}]})}submit(){const n=this.redeemSharesForm.value,s=this.settingsService.language.code,a=this.settingsService.dateFormat;n.requestedDate instanceof Date&&(n.requestedDate=this.dateUtils.formatDate(this.redeemSharesForm.value.requestedDate,a));const i={...n,unitPrice:this.redeemSharesForm.get("unitPrice").value,dateFormat:a,locale:s};this.sharesService.executeSharesAccountCommand(this.accountId,"redeemshares",i).subscribe(()=>{this.router.navigate(["../../"],{relativeTo:this.route})})}static{this.\u0275fac=function(s){return new(s||e)(t.rXU(c.ze),t.rXU(_),t.rXU(C.A),t.rXU(u.nX),t.rXU(u.Ix),t.rXU(g.h))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["mifosx-redeem-shares"]],decls:62,vars:25,consts:[[1,"container"],[3,"formGroup","ngSubmit"],[1,"layout-column"],[3,"click"],["matInput","","required","","formControlName","requestedDate",3,"min","max","matDatepicker"],["matSuffix","",3,"for"],["requestedDatePicker",""],[4,"ngIf"],["matInput","","required","","formControlName","requestedShares"],["matInput","","required","","formControlName","unitPrice"],[1,"layout-row","align-center","gap-5px","responsive-column"],["type","button","mat-raised-button","",3,"routerLink"],["mat-raised-button","","color","warn",3,"disabled"]],template:function(s,a){if(1&s){const o=t.RV6();t.j41(0,"div",0),t.EFF(1,"\n  "),t.j41(2,"mat-card"),t.EFF(3,"\n    "),t.j41(4,"form",1),t.bIt("ngSubmit",function(){return a.submit()}),t.EFF(5,"\n      "),t.j41(6,"mat-card-content"),t.EFF(7,"\n        "),t.j41(8,"div",2),t.EFF(9,"\n          "),t.j41(10,"mat-form-field",3),t.bIt("click",function(){t.eBV(o);const F=t.sdS(21);return t.Njj(F.open())}),t.EFF(11,"\n            "),t.j41(12,"mat-label"),t.EFF(13),t.nI1(14,"translate"),t.k0s(),t.EFF(15,"\n            "),t.nrm(16,"input",4),t.EFF(17,"\n            "),t.nrm(18,"mat-datepicker-toggle",5),t.EFF(19,"\n            "),t.nrm(20,"mat-datepicker",null,6),t.EFF(22,"\n            "),t.DNE(23,zn,8,9,"mat-error",7),t.EFF(24,"\n          "),t.k0s(),t.EFF(25,"\n\n          "),t.j41(26,"mat-form-field"),t.EFF(27,"\n            "),t.j41(28,"mat-label"),t.EFF(29),t.nI1(30,"translate"),t.k0s(),t.EFF(31,"\n            "),t.nrm(32,"input",8),t.EFF(33,"\n            "),t.DNE(34,Zn,8,9,"mat-error",7),t.EFF(35,"\n          "),t.k0s(),t.EFF(36,"\n\n          "),t.j41(37,"mat-form-field"),t.EFF(38,"\n            "),t.j41(39,"mat-label"),t.EFF(40),t.nI1(41,"translate"),t.k0s(),t.EFF(42,"\n            "),t.nrm(43,"input",9),t.EFF(44,"\n          "),t.k0s(),t.EFF(45,"\n        "),t.k0s(),t.EFF(46,"\n      "),t.k0s(),t.EFF(47,"\n\n      "),t.j41(48,"mat-card-actions",10),t.EFF(49,"\n        "),t.j41(50,"button",11),t.EFF(51),t.nI1(52,"translate"),t.k0s(),t.EFF(53,"\n        "),t.j41(54,"button",12),t.EFF(55),t.nI1(56,"translate"),t.k0s(),t.EFF(57,"\n      "),t.k0s(),t.EFF(58,"\n    "),t.k0s(),t.EFF(59,"\n  "),t.k0s(),t.EFF(60,"\n"),t.k0s(),t.EFF(61,"\n")}if(2&s){const o=t.sdS(21);t.R7$(4),t.Y8G("formGroup",a.redeemSharesForm),t.R7$(9),t.JRh(t.bMT(14,14,"labels.inputs.Request Date")),t.R7$(3),t.Y8G("min",a.minDate)("max",a.maxDate)("matDatepicker",o),t.R7$(2),t.Y8G("for",o),t.R7$(5),t.Y8G("ngIf",a.redeemSharesForm.controls.requestedDate.hasError("required")),t.R7$(6),t.JRh(t.bMT(30,16,"labels.inputs.Total No. of Shares")),t.R7$(5),t.Y8G("ngIf",a.redeemSharesForm.controls.requestedShares.hasError("required")),t.R7$(6),t.JRh(t.bMT(41,18,"labels.inputs.Current Price")),t.R7$(10),t.Y8G("routerLink",t.lJ4(24,Kn)),t.R7$(1),t.SpI("\n          ",t.bMT(52,20,"labels.buttons.Cancel"),"\n        "),t.R7$(3),t.Y8G("disabled",!a.redeemSharesForm.valid),t.R7$(1),t.SpI("\n          ",t.bMT(56,22,"labels.buttons.Submit"),"\n        ")}},dependencies:[d.bT,b.$z,h.RN,h.YY,h.m2,E.Vh,E.bZ,E.bU,p.rl,p.nJ,p.TL,p.yw,S.fg,c.qT,c.me,c.BC,c.cb,c.YS,c.j4,c.JD,u.Wk,f.D9],styles:[".container[_ngcontent-%COMP%]{max-width:37rem}"]})}}return e})();var M=m(96695),k=m(2042);const Qn=function(){return{approve:!0}};let ta=(()=>{class e{constructor(n,s){this.dialogRef=n,this.data=s}static{this.\u0275fac=function(s){return new(s||e)(t.rXU(T.CP),t.rXU(T.Vh))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["mifosx-approve-share-dialog"]],decls:22,vars:15,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["align","end"],["mat-raised-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"mat-dialog-close"]],template:function(s,a){1&s&&(t.j41(0,"h1",0),t.EFF(1),t.nI1(2,"translate"),t.k0s(),t.EFF(3,"\n"),t.j41(4,"div",1),t.EFF(5,"\n  "),t.j41(6,"p"),t.EFF(7),t.nI1(8,"translate"),t.k0s(),t.EFF(9,"\n"),t.k0s(),t.EFF(10,"\n"),t.j41(11,"mat-dialog-actions",2),t.EFF(12,"\n  "),t.j41(13,"button",3),t.EFF(14),t.nI1(15,"translate"),t.k0s(),t.EFF(16,"\n  "),t.j41(17,"button",4),t.EFF(18),t.nI1(19,"translate"),t.k0s(),t.EFF(20,"\n"),t.k0s(),t.EFF(21,"\n")),2&s&&(t.R7$(1),t.JRh(t.bMT(2,6,"labels.heading.Approve Share")),t.R7$(6),t.Lme("",t.bMT(8,8,"labels.text.Are you sure you want to approve share with id"),": ",a.data.shareId," ?"),t.R7$(7),t.JRh(t.bMT(15,10,"labels.buttons.Cancel")),t.R7$(3),t.Y8G("mat-dialog-close",t.lJ4(14,Qn)),t.R7$(1),t.SpI("\n    ",t.bMT(19,12,"labels.buttons.Submit"),"\n  "))},dependencies:[b.$z,T.tx,T.BI,T.Yi,T.E7,f.D9]})}}return e})();const ea=["sharesTable"];function na(e,r){1&e&&(t.j41(0,"th",15),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"labels.inputs.Transaction Date")))}function aa(e,r){if(1&e&&(t.j41(0,"td",16),t.EFF(1),t.nI1(2,"dateFormat"),t.k0s()),2&e){const n=r.$implicit;t.R7$(1),t.JRh(t.bMT(2,1,n.purchasedDate))}}function sa(e,r){1&e&&(t.j41(0,"th",15),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"labels.inputs.Total Shares")))}function ra(e,r){if(1&e&&(t.j41(0,"td",16),t.EFF(1),t.k0s()),2&e){const n=r.$implicit;t.R7$(1),t.JRh(n.numberOfShares)}}function oa(e,r){1&e&&(t.j41(0,"th",15),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.SpI("\n          ",t.bMT(2,1,"labels.inputs.Purchased/Redeemed Price"),"\n        "))}function ia(e,r){if(1&e&&(t.j41(0,"td",16),t.EFF(1),t.k0s()),2&e){const n=r.$implicit;t.R7$(1),t.JRh(n.purchasedPrice)}}function ca(e,r){1&e&&(t.j41(0,"th",17),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"labels.inputs.Status")))}function la(e,r){if(1&e&&(t.j41(0,"td",16),t.EFF(1,"\n          "),t.nrm(2,"i",18),t.nI1(3,"statusLookup"),t.EFF(4,"\n        "),t.k0s()),2&e){const n=r.$implicit;t.R7$(2),t.Y8G("ngClass",t.bMT(3,2,n.status.code))("matTooltip",n.status.value)}}function ma(e,r){1&e&&(t.j41(0,"th",15),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"labels.inputs.Confirm Approve")))}function ua(e,r){if(1&e){const n=t.RV6();t.j41(0,"td",16),t.EFF(1,"\n          "),t.j41(2,"button",19),t.bIt("click",function(){const o=t.eBV(n).$implicit,i=t.XpG();return t.Njj(i.approve(o.id))}),t.nI1(3,"translate"),t.EFF(4,"\n            "),t.nrm(5,"i",20),t.EFF(6,"\n          "),t.k0s(),t.EFF(7,"\n        "),t.k0s()}2&e&&(t.R7$(2),t.FS9("matTooltip",t.bMT(3,1,"tooltips.Approve Share")))}function Fa(e,r){1&e&&t.nrm(0,"tr",21)}function pa(e,r){1&e&&t.nrm(0,"tr",22)}const ha=function(){return[10,25,50,100]};let da=(()=>{class e{constructor(n,s,a,o){this.sharesService=n,this.route=s,this.dialog=a,this.settingsService=o,this.displayedColumns=["transactionDate","totalShares","redeemedPrice","status","approve"],this.accountId=this.route.parent.snapshot.params.shareAccountId,this.route.data.subscribe(i=>{this.sharesAccountData=i.shareAccountActionData})}ngOnInit(){this.sharesData=this.sharesAccountData.purchasedShares.filter(n=>"Pending Approval"===n.status.value),this.setShares()}setShares(){this.dataSource=new l.I6(this.sharesData),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}approve(n){this.dialog.open(ta,{data:{shareId:n}}).afterClosed().subscribe(a=>{a.approve&&this.sharesService.executeSharesAccountCommand(this.accountId,"approveadditionalshares",{requestedShares:[{id:n}],dateFormat:this.settingsService.dateFormat,locale:this.settingsService.language.code}).subscribe(()=>{const R=this.sharesData.find(q=>q.id===n),X=this.sharesData.indexOf(R);this.sharesData.splice(X,1),this.dataSource.data=this.sharesData,this.sharesTableRef.renderRows()})})}static{this.\u0275fac=function(s){return new(s||e)(t.rXU(_),t.rXU(u.nX),t.rXU(T.bZ),t.rXU(g.h))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["mifosx-approve-shares"]],viewQuery:function(s,a){if(1&s&&(t.GBs(M.iy,7),t.GBs(k.B4,7),t.GBs(ea,7)),2&s){let o;t.mGM(o=t.lsd())&&(a.paginator=o.first),t.mGM(o=t.lsd())&&(a.sort=o.first),t.mGM(o=t.lsd())&&(a.sharesTableRef=o.first)}},decls:51,vars:5,consts:[[1,"container"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["sharesTable",""],["matColumnDef","transactionDate"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","totalShares"],["matColumnDef","redeemedPrice"],["matColumnDef","status"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","approve"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[1,"fa","fa-stop",3,"ngClass","matTooltip"],["mat-raised-button","","color","accent",1,"share-action-button",3,"matTooltip","click"],[1,"fa","fa-check"],["mat-header-row",""],["mat-row",""]],template:function(s,a){1&s&&(t.j41(0,"div",0),t.EFF(1,"\n  "),t.j41(2,"div",1),t.EFF(3,"\n    "),t.j41(4,"table",2,3),t.EFF(6,"\n      "),t.qex(7,4),t.EFF(8,"\n        "),t.DNE(9,na,3,3,"th",5),t.EFF(10,"\n        "),t.DNE(11,aa,3,3,"td",6),t.EFF(12,"\n      "),t.bVm(),t.EFF(13,"\n\n      "),t.qex(14,7),t.EFF(15,"\n        "),t.DNE(16,sa,3,3,"th",5),t.EFF(17,"\n        "),t.DNE(18,ra,2,1,"td",6),t.EFF(19,"\n      "),t.bVm(),t.EFF(20,"\n\n      "),t.qex(21,8),t.EFF(22,"\n        "),t.DNE(23,oa,3,3,"th",5),t.EFF(24,"\n        "),t.DNE(25,ia,2,1,"td",6),t.EFF(26,"\n      "),t.bVm(),t.EFF(27,"\n\n      "),t.qex(28,9),t.EFF(29,"\n        "),t.DNE(30,ca,3,3,"th",10),t.EFF(31,"\n        "),t.DNE(32,la,5,4,"td",6),t.EFF(33,"\n      "),t.bVm(),t.EFF(34,"\n\n      "),t.qex(35,11),t.EFF(36,"\n        "),t.DNE(37,ma,3,3,"th",5),t.EFF(38,"\n        "),t.DNE(39,ua,8,3,"td",6),t.EFF(40,"\n      "),t.bVm(),t.EFF(41,"\n\n      "),t.DNE(42,Fa,1,0,"tr",12),t.EFF(43,"\n      "),t.DNE(44,pa,1,0,"tr",13),t.EFF(45,"\n    "),t.k0s(),t.EFF(46,"\n\n    "),t.nrm(47,"mat-paginator",14),t.EFF(48,"\n  "),t.k0s(),t.EFF(49,"\n"),t.k0s(),t.EFF(50,"\n")),2&s&&(t.R7$(4),t.Y8G("dataSource",a.dataSource),t.R7$(38),t.Y8G("matHeaderRowDef",a.displayedColumns),t.R7$(2),t.Y8G("matRowDefColumns",a.displayedColumns),t.R7$(3),t.Y8G("pageSizeOptions",t.lJ4(4,ha)))},dependencies:[d.YU,b.$z,M.iy,k.B4,k.aE,l.Zl,l.tL,l.ji,l.cC,l.YV,l.iL,l.KS,l.$R,l.YZ,l.NB,$.oV,f.D9,G.l,v.a],styles:["table[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{cursor:pointer}table[_ngcontent-%COMP%]   .share-action-button[_ngcontent-%COMP%]{min-width:26px;padding:0 6px;margin:4px;line-height:25px}"]})}}return e})();const Ea=function(){return{reject:!0}};let fa=(()=>{class e{constructor(n,s){this.dialogRef=n,this.data=s}static{this.\u0275fac=function(s){return new(s||e)(t.rXU(T.CP),t.rXU(T.Vh))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["mifosx-reject-share-dialog"]],decls:22,vars:15,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["align","end"],["mat-raised-button","","mat-dialog-close",""],["mat-raised-button","","color","warn",3,"mat-dialog-close"]],template:function(s,a){1&s&&(t.j41(0,"h1",0),t.EFF(1),t.nI1(2,"translate"),t.k0s(),t.EFF(3,"\n"),t.j41(4,"div",1),t.EFF(5,"\n  "),t.j41(6,"p"),t.EFF(7),t.nI1(8,"translate"),t.k0s(),t.EFF(9,"\n"),t.k0s(),t.EFF(10,"\n"),t.j41(11,"mat-dialog-actions",2),t.EFF(12,"\n  "),t.j41(13,"button",3),t.EFF(14),t.nI1(15,"translate"),t.k0s(),t.EFF(16,"\n  "),t.j41(17,"button",4),t.EFF(18),t.nI1(19,"translate"),t.k0s(),t.EFF(20,"\n"),t.k0s(),t.EFF(21,"\n")),2&s&&(t.R7$(1),t.JRh(t.bMT(2,6,"labels.heading.Reject Share")),t.R7$(6),t.Lme("",t.bMT(8,8,"labels.text.Are you sure you want to reject share with id"),": ",a.data.shareId," ?"),t.R7$(7),t.JRh(t.bMT(15,10,"labels.buttons.Cancel")),t.R7$(3),t.Y8G("mat-dialog-close",t.lJ4(14,Ea)),t.R7$(1),t.SpI("\n    ",t.bMT(19,12,"labels.buttons.Submit"),"\n  "))},dependencies:[b.$z,T.tx,T.BI,T.Yi,T.E7,f.D9]})}}return e})();const ba=["sharesTable"];function _a(e,r){1&e&&(t.j41(0,"th",15),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"labels.inputs.Transaction Date")))}function Ta(e,r){if(1&e&&(t.j41(0,"td",16),t.EFF(1),t.nI1(2,"dateFormat"),t.k0s()),2&e){const n=r.$implicit;t.R7$(1),t.JRh(t.bMT(2,1,n.purchasedDate))}}function Aa(e,r){1&e&&(t.j41(0,"th",15),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"labels.inputs.Total Shares")))}function ga(e,r){if(1&e&&(t.j41(0,"td",16),t.EFF(1),t.k0s()),2&e){const n=r.$implicit;t.R7$(1),t.JRh(n.numberOfShares)}}function Sa(e,r){1&e&&(t.j41(0,"th",15),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.SpI("\n          ",t.bMT(2,1,"labels.inputs.Purchased/Redeemed Price"),"\n        "))}function Ca(e,r){if(1&e&&(t.j41(0,"td",16),t.EFF(1),t.k0s()),2&e){const n=r.$implicit;t.R7$(1),t.JRh(n.purchasedPrice)}}function Da(e,r){1&e&&(t.j41(0,"th",17),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"labels.inputs.Status")))}function Ra(e,r){if(1&e&&(t.j41(0,"td",16),t.EFF(1,"\n          "),t.nrm(2,"i",18),t.nI1(3,"statusLookup"),t.EFF(4,"\n        "),t.k0s()),2&e){const n=r.$implicit;t.R7$(2),t.Y8G("ngClass",t.bMT(3,2,n.status.code))("matTooltip",n.status.value)}}function va(e,r){1&e&&(t.j41(0,"th",15),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.SpI("",t.bMT(2,1,"labels.inputs.Confirm Reject"),"t"))}function ka(e,r){if(1&e){const n=t.RV6();t.j41(0,"td",16),t.EFF(1,"\n          "),t.j41(2,"button",19),t.bIt("click",function(){const o=t.eBV(n).$implicit,i=t.XpG();return t.Njj(i.reject(o.id))}),t.nI1(3,"translate"),t.EFF(4,"\n            "),t.nrm(5,"i",20),t.EFF(6,"\n          "),t.k0s(),t.EFF(7,"\n        "),t.k0s()}2&e&&(t.R7$(2),t.FS9("matTooltip",t.bMT(3,1,"tooltips.Reject Share")))}function Ia(e,r){1&e&&t.nrm(0,"tr",21)}function ja(e,r){1&e&&t.nrm(0,"tr",22)}const $a=function(){return[10,25,50,100]};let ya=(()=>{class e{constructor(n,s,a,o){this.sharesService=n,this.route=s,this.dialog=a,this.settingsService=o,this.displayedColumns=["transactionDate","totalShares","redeemedPrice","status","reject"],this.accountId=this.route.parent.snapshot.params.shareAccountId,this.route.data.subscribe(i=>{this.sharesAccountData=i.shareAccountActionData})}ngOnInit(){this.sharesData=this.sharesAccountData.purchasedShares.filter(n=>"Pending Approval"===n.status.value),this.setShares()}setShares(){this.dataSource=new l.I6(this.sharesData),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}reject(n){this.dialog.open(fa,{data:{shareId:n}}).afterClosed().subscribe(a=>{a.reject&&this.sharesService.executeSharesAccountCommand(this.accountId,"rejectadditionalshares",{requestedShares:[{id:n}],dateFormat:this.settingsService.dateFormat,locale:this.settingsService.language.code}).subscribe(()=>{const R=this.sharesData.find(q=>q.id===n),X=this.sharesData.indexOf(R);this.sharesData.splice(X,1),this.dataSource.data=this.sharesData,this.sharesTableRef.renderRows()})})}static{this.\u0275fac=function(s){return new(s||e)(t.rXU(_),t.rXU(u.nX),t.rXU(T.bZ),t.rXU(g.h))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["mifosx-reject-shares"]],viewQuery:function(s,a){if(1&s&&(t.GBs(M.iy,7),t.GBs(k.B4,7),t.GBs(ba,7)),2&s){let o;t.mGM(o=t.lsd())&&(a.paginator=o.first),t.mGM(o=t.lsd())&&(a.sort=o.first),t.mGM(o=t.lsd())&&(a.sharesTableRef=o.first)}},decls:51,vars:5,consts:[[1,"container"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["sharesTable",""],["matColumnDef","transactionDate"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","totalShares"],["matColumnDef","redeemedPrice"],["matColumnDef","status"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","reject"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[1,"fa","fa-stop",3,"ngClass","matTooltip"],["mat-raised-button","","color","warn",1,"share-action-button",3,"matTooltip","click"],[1,"fa","fa-times"],["mat-header-row",""],["mat-row",""]],template:function(s,a){1&s&&(t.j41(0,"div",0),t.EFF(1,"\n  "),t.j41(2,"div",1),t.EFF(3,"\n    "),t.j41(4,"table",2,3),t.EFF(6,"\n      "),t.qex(7,4),t.EFF(8,"\n        "),t.DNE(9,_a,3,3,"th",5),t.EFF(10,"\n        "),t.DNE(11,Ta,3,3,"td",6),t.EFF(12,"\n      "),t.bVm(),t.EFF(13,"\n\n      "),t.qex(14,7),t.EFF(15,"\n        "),t.DNE(16,Aa,3,3,"th",5),t.EFF(17,"\n        "),t.DNE(18,ga,2,1,"td",6),t.EFF(19,"\n      "),t.bVm(),t.EFF(20,"\n\n      "),t.qex(21,8),t.EFF(22,"\n        "),t.DNE(23,Sa,3,3,"th",5),t.EFF(24,"\n        "),t.DNE(25,Ca,2,1,"td",6),t.EFF(26,"\n      "),t.bVm(),t.EFF(27,"\n\n      "),t.qex(28,9),t.EFF(29,"\n        "),t.DNE(30,Da,3,3,"th",10),t.EFF(31,"\n        "),t.DNE(32,Ra,5,4,"td",6),t.EFF(33,"\n      "),t.bVm(),t.EFF(34,"\n\n      "),t.qex(35,11),t.EFF(36,"\n        "),t.DNE(37,va,3,3,"th",5),t.EFF(38,"\n        "),t.DNE(39,ka,8,3,"td",6),t.EFF(40,"\n      "),t.bVm(),t.EFF(41,"\n\n      "),t.DNE(42,Ia,1,0,"tr",12),t.EFF(43,"\n      "),t.DNE(44,ja,1,0,"tr",13),t.EFF(45,"\n    "),t.k0s(),t.EFF(46,"\n\n    "),t.nrm(47,"mat-paginator",14),t.EFF(48,"\n  "),t.k0s(),t.EFF(49,"\n"),t.k0s(),t.EFF(50,"\n")),2&s&&(t.R7$(4),t.Y8G("dataSource",a.dataSource),t.R7$(38),t.Y8G("matHeaderRowDef",a.displayedColumns),t.R7$(2),t.Y8G("matRowDefColumns",a.displayedColumns),t.R7$(3),t.Y8G("pageSizeOptions",t.lJ4(4,$a)))},dependencies:[d.YU,b.$z,M.iy,k.B4,k.aE,l.Zl,l.tL,l.ji,l.cC,l.YV,l.iL,l.KS,l.$R,l.YZ,l.NB,$.oV,f.D9,G.l,v.a],styles:["table[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{cursor:pointer}table[_ngcontent-%COMP%]   .share-action-button[_ngcontent-%COMP%]{min-width:26px;padding:0 6px;margin:4px;line-height:25px}"]})}}return e})();function xa(e,r){1&e&&t.nrm(0,"mifosx-approve-shares-account")}function Pa(e,r){1&e&&t.nrm(0,"mifosx-reject-shares-account")}function Ma(e,r){1&e&&t.nrm(0,"mifosx-close-shares-account")}function Na(e,r){1&e&&t.nrm(0,"mifosx-activate-shares-account")}function wa(e,r){1&e&&t.nrm(0,"mifosx-undo-approval-shares-account")}function Ga(e,r){1&e&&t.nrm(0,"mifosx-apply-shares")}function Ya(e,r){1&e&&t.nrm(0,"mifosx-redeem-shares")}function Oa(e,r){1&e&&t.nrm(0,"mifosx-approve-shares")}function Ja(e,r){1&e&&t.nrm(0,"mifosx-reject-shares")}let Va=(()=>{class e{constructor(n){this.route=n,this.actions={Approve:!1,Reject:!1,Close:!1,Activate:!1,"Undo Approval":!1,"Apply Additional Shares":!1,"Redeem Shares":!1,"Approve Additional Shares":!1,"Reject Additional Shares":!1},this.actions[this.route.snapshot.params.name]=!0}static{this.\u0275fac=function(s){return new(s||e)(t.rXU(u.nX))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["mifosx-shares-account-actions"]],decls:18,vars:9,consts:[[4,"ngIf"]],template:function(s,a){1&s&&(t.DNE(0,xa,1,0,"mifosx-approve-shares-account",0),t.EFF(1,"\n"),t.DNE(2,Pa,1,0,"mifosx-reject-shares-account",0),t.EFF(3,"\n"),t.DNE(4,Ma,1,0,"mifosx-close-shares-account",0),t.EFF(5,"\n"),t.DNE(6,Na,1,0,"mifosx-activate-shares-account",0),t.EFF(7,"\n"),t.DNE(8,wa,1,0,"mifosx-undo-approval-shares-account",0),t.EFF(9,"\n"),t.DNE(10,Ga,1,0,"mifosx-apply-shares",0),t.EFF(11,"\n"),t.DNE(12,Ya,1,0,"mifosx-redeem-shares",0),t.EFF(13,"\n"),t.DNE(14,Oa,1,0,"mifosx-approve-shares",0),t.EFF(15,"\n"),t.DNE(16,Ja,1,0,"mifosx-reject-shares",0),t.EFF(17,"\n")),2&s&&(t.Y8G("ngIf",a.actions.Approve),t.R7$(2),t.Y8G("ngIf",a.actions.Reject),t.R7$(2),t.Y8G("ngIf",a.actions.Close),t.R7$(2),t.Y8G("ngIf",a.actions.Activate),t.R7$(2),t.Y8G("ngIf",a.actions["Undo Approval"]),t.R7$(2),t.Y8G("ngIf",a.actions["Apply Additional Shares"]),t.R7$(2),t.Y8G("ngIf",a.actions["Redeem Shares"]),t.R7$(2),t.Y8G("ngIf",a.actions["Approve Additional Shares"]),t.R7$(2),t.Y8G("ngIf",a.actions["Reject Additional Shares"]))},dependencies:[d.bT,xn,Nn,Yn,Vn,Xn,Hn,Wn,da,ya]})}}return e})(),U=(()=>{class e{constructor(n){this.sharesService=n}resolve(n){const s=n.paramMap.get("shareAccountId")||n.parent.paramMap.get("shareAccountId");return this.sharesService.getSharesAccountData(s,!1)}static{this.\u0275fac=function(s){return new(s||e)(t.KVO(_))}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac})}}return e})(),W=(()=>{class e{constructor(n){this.sharesService=n}resolve(n){const s=n.paramMap.get("name"),a=n.paramMap.get("shareAccountId")||n.parent.parent.paramMap.get("shareAccountId");switch(s){case"Apply Additional Shares":case"Redeem Shares":case"Approve Additional Shares":case"Reject Additional Shares":return this.sharesService.getSharesAccountData(a,!0);default:return}}static{this.\u0275fac=function(s){return new(s||e)(t.KVO(_))}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac})}}return e})(),Q=(()=>{class e{constructor(n){this.sharesService=n}resolve(n){const s=n.parent.parent.paramMap.get("clientId");return this.sharesService.getSharesAccountTemplate(s)}static{this.\u0275fac=function(s){return new(s||e)(t.KVO(_))}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac})}}return e})(),tt=(()=>{class e{constructor(n){this.sharesService=n}resolve(n){const s=n.paramMap.get("shareAccountId");return this.sharesService.getSharesAccountData(s,!0)}static{this.\u0275fac=function(s){return new(s||e)(t.KVO(_))}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac})}}return e})();function Ua(e,r){if(1&e&&(t.j41(0,"td"),t.EFF(1),t.nI1(2,"dateFormat"),t.k0s()),2&e){const n=t.XpG();t.R7$(1),t.SpI("\n              ",t.bMT(2,1,n.sharesAccountData.timeline.activatedDate),"\n            ")}}function Xa(e,r){1&e&&(t.j41(0,"td"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.SpI("\n              ",t.bMT(2,1,"labels.text.Not Activated"),"\n            "))}function qa(e,r){if(1&e&&(t.j41(0,"td"),t.EFF(1,"\n              "),t.nrm(2,"mifosx-external-identifier",6),t.EFF(3,"\n            "),t.k0s()),2&e){const n=t.XpG();t.R7$(2),t.FS9("externalId",n.sharesAccountData.externalId)}}function Ba(e,r){1&e&&(t.j41(0,"td"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.SpI("\n              ",t.bMT(2,1,"labels.inputs.Unassigned"),"\n            "))}function La(e,r){if(1&e&&(t.j41(0,"td"),t.EFF(1,"\n              "),t.nrm(2,"mifosx-account-number",7),t.EFF(3,"\n            "),t.k0s()),2&e){const n=t.XpG();t.R7$(2),t.FS9("clientId",n.sharesAccountData.clientId),t.FS9("accountId",n.sharesAccountData.savingsAccountId),t.FS9("accountNo",n.sharesAccountData.savingsAccountNumber)}}function Ha(e,r){1&e&&(t.j41(0,"td"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.SpI("\n              ",t.bMT(2,1,"labels.inputs.Unassigned"),"\n            "))}const za=[{path:"",data:{title:"Shares",breadcrumb:"Shares",routeParamBreadcrumb:!1},children:[{path:"create",data:{title:"Create Shares Account",breadcrumb:"Create Shares Account"},component:_n,resolve:{sharesAccountTemplate:Q}},{path:":shareAccountId",data:{title:"Shares Account View",routeParamBreadcrumb:"shareAccountId"},children:[{path:"",component:Tt,resolve:{sharesAccountData:U},children:[{path:"",redirectTo:"general",pathMatch:"full"},{path:"general",component:(()=>{class e{constructor(n){this.route=n,this.route.data.subscribe(s=>{this.sharesAccountData=s.sharesAccountData})}static{this.\u0275fac=function(s){return new(s||e)(t.rXU(u.nX))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["mifosx-general-tab"]],decls:97,vars:38,consts:[[1,"tab-container","mat-typography"],[1,"shares-account-tables","layout-row","gap-2percent"],[1,"flex-49"],[1,"table-headers"],[4,"ngIf"],[1,"r-amount"],[3,"externalId"],["accountType","2",3,"clientId","accountId","accountNo"]],template:function(s,a){1&s&&(t.j41(0,"div",0),t.EFF(1,"\n  "),t.j41(2,"div",1),t.EFF(3,"\n    "),t.j41(4,"div",2),t.EFF(5,"\n      "),t.j41(6,"h4",3),t.EFF(7),t.nI1(8,"translate"),t.k0s(),t.EFF(9,"\n      "),t.j41(10,"table"),t.EFF(11,"\n        "),t.j41(12,"tbody"),t.EFF(13,"\n          "),t.j41(14,"tr"),t.EFF(15,"\n            "),t.j41(16,"td"),t.EFF(17),t.nI1(18,"translate"),t.k0s(),t.EFF(19,"\n            "),t.DNE(20,Ua,3,3,"td",4),t.EFF(21,"\n            "),t.DNE(22,Xa,3,3,"td",4),t.EFF(23,"\n          "),t.k0s(),t.EFF(24,"\n          "),t.j41(25,"tr"),t.EFF(26,"\n            "),t.j41(27,"td"),t.EFF(28),t.nI1(29,"translate"),t.k0s(),t.EFF(30,"\n            "),t.j41(31,"td"),t.EFF(32),t.k0s(),t.EFF(33,"\n          "),t.k0s(),t.EFF(34,"\n          "),t.j41(35,"tr"),t.EFF(36,"\n            "),t.j41(37,"td"),t.EFF(38),t.nI1(39,"translate"),t.k0s(),t.EFF(40,"\n            "),t.DNE(41,qa,4,1,"td",4),t.EFF(42,"\n            "),t.DNE(43,Ba,3,3,"td",4),t.EFF(44,"\n          "),t.k0s(),t.EFF(45,"\n          "),t.j41(46,"tr"),t.EFF(47,"\n            "),t.j41(48,"td"),t.EFF(49),t.nI1(50,"translate"),t.k0s(),t.EFF(51,"\n            "),t.DNE(52,La,4,3,"td",4),t.EFF(53,"\n            "),t.DNE(54,Ha,3,3,"td",4),t.EFF(55,"\n          "),t.k0s(),t.EFF(56,"\n        "),t.k0s(),t.EFF(57,"\n      "),t.k0s(),t.EFF(58,"\n    "),t.k0s(),t.EFF(59,"\n\n    "),t.j41(60,"div",2),t.EFF(61,"\n      "),t.j41(62,"h4",3),t.EFF(63),t.nI1(64,"translate"),t.k0s(),t.EFF(65,"\n      "),t.j41(66,"table"),t.EFF(67,"\n        "),t.j41(68,"tbody"),t.EFF(69,"\n          "),t.j41(70,"tr"),t.EFF(71,"\n            "),t.j41(72,"td"),t.EFF(73),t.nI1(74,"translate"),t.k0s(),t.EFF(75,"\n            "),t.j41(76,"td",5),t.EFF(77),t.nI1(78,"formatNumber"),t.k0s(),t.EFF(79,"\n          "),t.k0s(),t.EFF(80,"\n          "),t.j41(81,"tr"),t.EFF(82,"\n            "),t.j41(83,"td"),t.EFF(84),t.nI1(85,"translate"),t.k0s(),t.EFF(86,"\n            "),t.j41(87,"td",5),t.EFF(88),t.nI1(89,"formatNumber"),t.k0s(),t.EFF(90,"\n          "),t.k0s(),t.EFF(91,"\n        "),t.k0s(),t.EFF(92,"\n      "),t.k0s(),t.EFF(93,"\n    "),t.k0s(),t.EFF(94,"\n  "),t.k0s(),t.EFF(95,"\n"),t.k0s(),t.EFF(96,"\n")),2&s&&(t.R7$(7),t.JRh(t.bMT(8,18,"labels.heading.Shares Details")),t.R7$(10),t.JRh(t.bMT(18,20,"labels.inputs.Activated On")),t.R7$(3),t.Y8G("ngIf",a.sharesAccountData.timeline.activatedDate),t.R7$(2),t.Y8G("ngIf",!a.sharesAccountData.timeline.activatedDate),t.R7$(6),t.JRh(t.bMT(29,22,"labels.inputs.Currency")),t.R7$(4),t.Lme("",a.sharesAccountData.currency.name," [",a.sharesAccountData.currency.code,"]"),t.R7$(6),t.JRh(t.bMT(39,24,"labels.inputs.External Id")),t.R7$(3),t.Y8G("ngIf",a.sharesAccountData.externalId),t.R7$(2),t.Y8G("ngIf",!a.sharesAccountData.externalId),t.R7$(6),t.JRh(t.bMT(50,26,"labels.inputs.Linked Savings Account(Dividend Posting)")),t.R7$(3),t.Y8G("ngIf",a.sharesAccountData.savingsAccountNumber),t.R7$(2),t.Y8G("ngIf",!a.sharesAccountData.savingsAccountNumber),t.R7$(9),t.JRh(t.bMT(64,28,"labels.heading.Account Summary")),t.R7$(10),t.JRh(t.bMT(74,30,"labels.inputs.Pending for Approval Shares")),t.R7$(4),t.JRh(t.bMT(78,32,a.sharesAccountData.summary.totalPendingForApprovalShares)),t.R7$(7),t.JRh(t.bMT(85,34,"labels.inputs.Approved Shares")),t.R7$(4),t.JRh(t.bMT(89,36,a.sharesAccountData.summary.totalApprovedShares)))},dependencies:[d.bT,Z.k,H.i,f.D9,v.a,Y.p],styles:[".tab-container[_ngcontent-%COMP%]{padding:1%;margin:1%}.tab-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:1% auto}.tab-container[_ngcontent-%COMP%]   .performance-history-container[_ngcontent-%COMP%]{border:1px solid;padding:1%;margin-bottom:20px}.tab-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}span[_ngcontent-%COMP%]{margin:.5em 0}"]})}}return e})(),data:{title:"Shares Account General",breadcrumb:"General",routeParamBreadcrumb:!1},resolve:{sharesAccountData:U}},{path:"transactions",component:Mt,data:{title:"Shares Account Transactions",breadcrumb:"Transactions",routeParamBreadcrumb:!1}},{path:"charges",component:ce,data:{title:"Shares Account Charges",breadcrumb:"Charges",routeParamBreadcrumb:!1}},{path:"dividends",component:_e,data:{title:"Shares Account Dividends",breadcrumb:"Dividends",routeParamBreadcrumb:!1}}]},{path:"edit",data:{title:"Edit Shares Account",breadcrumb:"Edit",routeParamBreadcrumb:!1},component:jn,resolve:{sharesAccountAndTemplate:tt}},{path:"actions/:name",data:{title:"Shares Account Actions",breadcrumb:"Actions",routeParamBreadcrumb:"name"},component:Va,resolve:{shareAccountActionData:W}}]}]}];let Za=(()=>{class e{static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({providers:[U,Q,tt,W],imports:[u.iI.forChild(za),u.iI]})}}return e})();var Ka=m(92602),Wa=m(26044),Qa=m(13721);let ts=(()=>{class e{static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({imports:[Ka.G,Wa.Y,Qa.h,Za]})}}return e})()}}]);